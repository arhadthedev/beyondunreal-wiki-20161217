<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Legacy:Super_Arena_Mutator by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:56:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Legacy:Super Arena Mutator - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Super_Arena_Mutator" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Super_Arena_Mutator" />
<link rel="shortcut icon" href="w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Legacy_Super_Arena_Mutator.html" />
<link rel="copyright" href="Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="w/load2743.css?debug=false&amp;lang=en&amp;modules=ext.geshi.language.uscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Legacy","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Legacy:Super_Arena_Mutator","wgTitle":"Super Arena Mutator","wgCurRevisionId":7712,"wgRevisionId":7712,"wgArticleId":2897,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:Super_Arena_Mutator","wgRelevantArticleId":2897,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-100 ns-subject page-Legacy_Super_Arena_Mutator skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>Worst-case scenario: the UEd Goblin wipes the map and burns down your house.
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:Super Arena Mutator</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>This tutorial was created for an Unreal Script class at <a rel="nofollow" class="external text" href="http://www.bcc.ctc.edu/gaming/">Bellevue Community College</a></p>
<p><a rel="nofollow" class="external text" href="http://blog.itburns.com/">Sam Beirne</a> &amp; Jesse</p>
<p>By the end of this tutorial you should understand how to create a mutator called “Super Arena.” This mutator lowers gravity, regenerates players’ health, and increases the number of jumps that may be linked together. It also starts players off with every weapon complete with a full clip of ammo.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="co1">//=============================================================================</span>
<span class="co1">// SuperArenaMut:</span>
<span class="co1">// Decreases Gravity</span>
<span class="co1">// Increases Maximum Number of Linked Jumps</span>
<span class="co1">// Players Regenerate Health</span>
<span class="co1">// Players Begin With All Weapons and Full Ammo</span>
<span class="co1">//=============================================================================</span>
</pre></div>
</div>
<p>The class begins with a few comments describing the function of this mutator. A comment is any line that begins with the // character. These lines are only important to other coders and have no effect on the functionality of our code.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">class</span> SuperArenaMut <span class="kw1">extends</span> <span class="kw9">Mutator</span>;
</pre></div>
</div>
<p>In the first real line of code after the beginning block comment we declare a new class called SuperArenaMut that exends the Mutator class. Because SuperArenaMut is a child of Mutator, it inherits all of the methods and properties found in the Mutator class.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="co2">#exec OBJ LOAD File=MutatorArt.utx</span>
</pre></div>
</div>
<p>Exec directives like the one above tell the engine how it interact with real files, like models and textures. For the moment this is not important and this line had been copied only because it appears in the Regen mutator which is a basis for the regeneration portion of our mutator.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">float</span> RegenPerSecond;
<span class="kw1">var</span> <span class="kw5">float</span> GravityZ;
</pre></div>
</div>
<p>Before any of our functions are declared we create two global variables to hold the amount by which players will increase health and the decrease in gravity. For greater precision, floating point values (real numbers, ex. 1.234) are used. These variables will be used later on in the code.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">event</span> <span class="kw4">PreBeginPlay</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw4">SetTimer</span><span class="br0">(</span><span class="nu0">1.0</span>,<span class="kw6">true</span><span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<p>Once the global variables have been declared (remember, global variables must be declared <b>before</b> functions), we create our first function, PreBeginPlay(). PreBeginPlay is called right after the object is created, but before gameplay begins. We use the function to start a timer by calling SetTimer. The first parameter of SetTimer is the interval time, or how long to wait. The second tells the timer whether or not to repeat.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> <span class="kw4">Timer</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">local</span> <span class="kw9">Controller</span> C;
 
    <span class="kw2">for</span> <span class="br0">(</span>C <span class="sy0">=</span> <span class="kw7">Level</span>.<span class="me0">ControllerList</span>; C <span class="sy0">!=</span> <span class="kw5">None</span>; C <span class="sy0">=</span> C.<span class="me0">NextController</span><span class="br0">)</span>
    <span class="br0">{</span>
		<span class="kw2">if</span> <span class="br0">(</span>C.<span class="kw9">Pawn</span> <span class="sy0">!=</span> <span class="kw5">None</span> <span class="sy0">&amp;&amp;</span> C.<span class="kw9">Pawn</span>.<span class="me0">Health</span> <span class="sy0">&lt;</span> C.<span class="kw9">Pawn</span>.<span class="me0">HealthMax</span> <span class="br0">)</span>
        <span class="br0">{</span>
            C.<span class="kw9">Pawn</span>.<span class="me0">Health</span> <span class="sy0">=</span> <span class="kw3">Min</span><span class="br0">(</span> C.<span class="kw9">Pawn</span>.<span class="me0">Health</span><span class="sy0">+</span>RegenPerSecond, C.<span class="kw9">Pawn</span>.<span class="me0">HealthMax</span> <span class="br0">)</span>;
        <span class="br0">}</span>
    <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>The Timer() function is the code called each time the interval from SetTimer is reached. It creates a local Controller variable and checks every controller until it finds a Pawn (i.e. Player). When a Pawn is found its health is set to the minimum of its current health plus the regen rate or the max health. This allows the player to regenerate without ever going over the maximum health value.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> ModifyPlayer<span class="br0">(</span><span class="kw9">Pawn</span> Other<span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">local</span> <span class="kw9">xPawn</span> x;   
    <span class="kw1">local</span> <span class="kw9">Weapon</span> m_wTemp;
 
    x <span class="sy0">=</span> <span class="kw9">xPawn</span><span class="br0">(</span>Other<span class="br0">)</span>;
    <span class="kw2">if</span><span class="br0">(</span>x <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
    <span class="br0">{</span>
    	x.<span class="me0">MaxMultiJump</span> <span class="sy0">=</span> <span class="nu0">15</span>; 
        x.<span class="me0">MultiJumpBoost</span> <span class="sy0">=</span> <span class="nu0">50</span>;
    <span class="br0">}</span>
 
    Other.<span class="me0">Health</span> <span class="sy0">=</span> <span class="nu0">199</span>;
 
    Other.<span class="me0">GiveWeapon</span><span class="br0">(</span><span class="st0">"XWeapons.BioRifle"</span><span class="br0">)</span>;
    Other.<span class="me0">GiveWeapon</span><span class="br0">(</span><span class="st0">"XWeapons.FlakCannon"</span><span class="br0">)</span>;
    Other.<span class="me0">GiveWeapon</span><span class="br0">(</span><span class="st0">"XWeapons.LinkGun"</span><span class="br0">)</span>;
    Other.<span class="me0">GiveWeapon</span><span class="br0">(</span><span class="st0">"XWeapons.Minigun"</span><span class="br0">)</span>;
    Other.<span class="me0">GiveWeapon</span><span class="br0">(</span><span class="st0">"XWeapons.RocketLauncher"</span><span class="br0">)</span>;
    Other.<span class="me0">GiveWeapon</span><span class="br0">(</span><span class="st0">"XWeapons.ShockRifle"</span><span class="br0">)</span>;
    Other.<span class="me0">GiveWeapon</span><span class="br0">(</span><span class="st0">"XWeapons.SniperRifle"</span><span class="br0">)</span>;
 
    m_wTemp <span class="sy0">=</span> <span class="kw9">Weapon</span><span class="br0">(</span>Other.<span class="me0">FindInventoryType</span><span class="br0">(</span><span class="kw1">class</span><span class="st0">'BioRifle'</span><span class="br0">)</span><span class="br0">)</span>;
    m_wTemp.<span class="kw9">Ammo</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me0">AmmoAmount</span> <span class="sy0">=</span> m_wTemp.<span class="kw9">Ammo</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me0">MaxAmmo</span>;       <span class="co1">// in UT2004, instead use:  m_wTemp.MaxOutAmmo();</span>
 
    m_wTemp <span class="sy0">=</span> <span class="kw9">Weapon</span><span class="br0">(</span>Other.<span class="me0">FindInventoryType</span><span class="br0">(</span><span class="kw1">class</span><span class="st0">'FlakCannon'</span><span class="br0">)</span><span class="br0">)</span>;
    m_wTemp.<span class="kw9">Ammo</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me0">AmmoAmount</span> <span class="sy0">=</span> m_wTemp.<span class="kw9">Ammo</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me0">MaxAmmo</span>;       <span class="co1">// in UT2004, instead use:  m_wTemp.MaxOutAmmo();</span>
 
    m_wTemp <span class="sy0">=</span> <span class="kw9">Weapon</span><span class="br0">(</span>Other.<span class="me0">FindInventoryType</span><span class="br0">(</span><span class="kw1">class</span><span class="st0">'LinkGun'</span><span class="br0">)</span><span class="br0">)</span>;
    m_wTemp.<span class="kw9">Ammo</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me0">AmmoAmount</span> <span class="sy0">=</span> m_wTemp.<span class="kw9">Ammo</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me0">MaxAmmo</span>;       <span class="co1">// in UT2004, instead use:  m_wTemp.MaxOutAmmo();</span>
 
    m_wTemp <span class="sy0">=</span> <span class="kw9">Weapon</span><span class="br0">(</span>Other.<span class="me0">FindInventoryType</span><span class="br0">(</span><span class="kw1">class</span><span class="st0">'MiniGun'</span><span class="br0">)</span><span class="br0">)</span>;
    m_wTemp.<span class="kw9">Ammo</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me0">AmmoAmount</span> <span class="sy0">=</span> m_wTemp.<span class="kw9">Ammo</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me0">MaxAmmo</span>;       <span class="co1">// in UT2004, instead use:  m_wTemp.MaxOutAmmo();</span>
 
    m_wTemp <span class="sy0">=</span> <span class="kw9">Weapon</span><span class="br0">(</span>Other.<span class="me0">FindInventoryType</span><span class="br0">(</span><span class="kw1">class</span><span class="st0">'RocketLauncher'</span><span class="br0">)</span><span class="br0">)</span>;
    m_wTemp.<span class="kw9">Ammo</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me0">AmmoAmount</span> <span class="sy0">=</span> m_wTemp.<span class="kw9">Ammo</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me0">MaxAmmo</span>;       <span class="co1">// in UT2004, instead use:  m_wTemp.MaxOutAmmo();</span>
 
    m_wTemp <span class="sy0">=</span> <span class="kw9">Weapon</span><span class="br0">(</span>Other.<span class="me0">FindInventoryType</span><span class="br0">(</span><span class="kw1">class</span><span class="st0">'ShockRifle'</span><span class="br0">)</span><span class="br0">)</span>;
    m_wTemp.<span class="kw9">Ammo</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me0">AmmoAmount</span> <span class="sy0">=</span> m_wTemp.<span class="kw9">Ammo</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me0">MaxAmmo</span>;       <span class="co1">// in UT2004, instead use:  m_wTemp.MaxOutAmmo();</span>
 
    m_wTemp <span class="sy0">=</span> <span class="kw9">Weapon</span><span class="br0">(</span>Other.<span class="me0">FindInventoryType</span><span class="br0">(</span><span class="kw1">class</span><span class="st0">'SniperRifle'</span><span class="br0">)</span><span class="br0">)</span>;
    m_wTemp.<span class="kw9">Ammo</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me0">AmmoAmount</span> <span class="sy0">=</span> m_wTemp.<span class="kw9">Ammo</span><span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>.<span class="me0">MaxAmmo</span>;       <span class="co1">// in UT2004, instead use:  m_wTemp.MaxOutAmmo();</span>
 
    <span class="kw6">Super</span>.<span class="me0">ModifyPlayer</span><span class="br0">(</span>Other<span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<p>This next function is a little more complicated than the previous Timer() function. ModifyPlayer is called by GameInfo.RestartPlayer(), a function that executes each time a player enters the game or respawns. We start by creating a local xPawn variable to hold our player xPawn object. The local Weapon variable that is declared next will be used in a moment. First, after checking to see that our xPawn variable contains a valid object, we increase the MaxMultiJump from 2 to 15. We also increase the MultiJumpBoost to 50. This allows the players to jump higher and to link a greater number of jumps in succession. Next, using the Other object passed into the function we set the player's Health to 199.</p>
<p>Once all of the player's abilities have been increased, it's time to equip all of the non-super weapons. Using the GiveWeapon function that is a part of the Pawn class, each weapon is added to the player's inventory by passing in the weapon name as a string. Now that every weapon has been equipped they need to be filled with ammo. Using the local weapon variable we created earlier we retrieve the weapons from the player's inventory using FindInventoryType, another function found in the Pawn class. However, this function returns an object of type Inventory when we need a Weapon. The type is changed by casting the returned value to a weapon by wrapping the function like so: Weapon( function );. Once the weapons has been retrieved and is stored in the Weapon variable (m_wTemp) we can change the AmmoAmount to the MaxAmmo. It is important to use the max ammo of each particular class because every weapon has a different maximum ammo value.</p>
<p>On the final line of the function we call Super.ModifyPlayer(Other) to execute everything in the original ModifyPlayer class. This is an easier method to simulate copying the other lines right into our new function.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> CheckReplacement<span class="br0">(</span><span class="kw9">Actor</span> Other, <span class="kw1">out</span> <span class="kw5">byte</span> bSuperRelevant<span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">local</span> <span class="kw9">PhysicsVolume</span> PV;
    <span class="kw1">local</span> <span class="kw9">xPickupBase</span> B;
    <span class="kw1">local</span> <span class="kw9">Pickup</span> P;
 
    PV <span class="sy0">=</span> <span class="kw9">PhysicsVolume</span><span class="br0">(</span>Other<span class="br0">)</span>;
    <span class="kw2">if</span> <span class="br0">(</span> PV <span class="sy0">!=</span> <span class="kw5">none</span> <span class="br0">)</span>
        PV.<span class="me0">Gravity</span>.<span class="me0">Z</span> <span class="sy0">=</span> GravityZ;
 
    B <span class="sy0">=</span> <span class="kw9">xPickupBase</span><span class="br0">(</span>Other<span class="br0">)</span>;
    <span class="kw2">if</span> <span class="br0">(</span> B <span class="sy0">!=</span> <span class="kw5">none</span> <span class="br0">)</span>
        B.<span class="me0">bHidden</span> <span class="sy0">=</span> <span class="kw6">true</span>;
 
    P <span class="sy0">=</span> <span class="kw9">Pickup</span><span class="br0">(</span>Other<span class="br0">)</span>;
    <span class="kw2">if</span> <span class="br0">(</span> P <span class="sy0">!=</span> <span class="kw5">none</span> <span class="br0">)</span>
        P.<span class="kw4">Destroy</span><span class="br0">(</span><span class="br0">)</span>;
 
    <span class="kw2">return</span> <span class="kw6">true</span>;
<span class="br0">}</span>
</pre></div>
</div>
<p>The CheckReplacement() function iterates through all of the actors in a game so that they may be modified. First we create three local varibles to hold our actors. Just like in the previous function, we use casting to set these actors to the appropriate types. The first actor modified is the PhysicsVolume. This is a bounding volume that affects actor physics. We change the Gravity.Z component in order to lower the vertical gravity. Next all of the xPickupBases (the pads that sit under weapons, health, etc) are set to hidden by flipping the bHidden flag. Finally all of the Pickups (anything on the map that affects the player or changes inventory when walked over) are destroyed using the Destroy() function.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
     GravityZ<span class="sy0">=-</span><span class="nu0">150.000000</span>
     RegenPerSecond<span class="sy0">=</span><span class="nu0">1.000000</span>
     FriendlyName<span class="sy0">=</span><span class="st0">"Super Arena"</span>
     Description<span class="sy0">=</span><span class="st0">"Regeneration, high jumps and all weapons."</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>In the last part of our class we set the defaultproperties of our new class. GravityZ and RegenPerSecond are the two gloabal floating point values created at the beginning of the class. The FriendlyName is the name that will be listed in the mutators menu in UT2003 and the description is what will be seen when the mutator is selected.</p>
<p>The new class file is completed, but we need to create a new package folder before it can be used. In the <a href="Legacy_Base_Directory.html" title="Legacy:Base Directory">base directory</a> of the UT2003 folder (usually C:\UT2003, but may be different depending on where the program was installed) create the following folders:</p>
<p>..\UT2003\SuperArena\<br />
..\UT2003\SuperArena\Classes\<br />
Put the new class file (named SuperArena.uc) into the new Classes folder you just created.</p>
<p>There is one final step to complete before running the mutator. We need to tell the engine about our new class. This is done using a .int file and modifying UT2003.ini. Create a file called SuperArena.int in your ..\UT2003\System directory and place the following code into it:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="br0">[</span><span class="kw1">Public</span><span class="br0">]</span>
<span class="kw8">Object</span><span class="sy0">=</span><span class="br0">(</span><span class="kw1">Class</span><span class="sy0">=</span><span class="kw1">Class</span>,MetaClass<span class="sy0">=</span><span class="kw8">Engine</span>.<span class="kw9">Mutator</span>,<span class="kw5">Name</span><span class="sy0">=</span>SuperArena.<span class="me0">SuperArenaMut</span>,Description<span class="sy0">=</span><span class="st0">"SuperArena"</span><span class="br0">)</span>
</pre></div>
</div>
<p>Then add the new package to your UT2003.ini file (located in the same folder) by adding the following line:<br /></p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
EditPackages<span class="sy0">=</span>SuperArena
</pre></div>
</div>
<p>The new class is now ready to compile and run. Open a command prompt (Start-&gt; Run-&gt; "cmd") and navigate to your system directory. Type "ucc make" without the quotes and the packages should compile. Assuming there are no errors, fire up the game and the new mutator should be availiable.</p>
<p><b>Firestorm</b>: HI This is MY FIRST POST.</p>
<p>HI Iv'e just completed the MOD Super Arena Mutator, compiled fine but it dose not showup in the Mutator list in game.</p>
<p>Im running PATCH 2199 and compiled with UDE with lattest Patch,HELP PLEASE..</p>
<p><b>LuckyStrike</b>: Experiencing some issues compiling this for UT2004 - "Error, Can't access protected variable 'Ammo' in 'Weapon'" for the attempts to max out ammo in ModifyPlayer. Replacing each "m_wTemp.Ammo[0].AmmoAmount = m_wTemp.Ammo[0].MaxAmmo;" with "m_wTemp.AddAmmo(m_wTemp.MaxAmmo(0) , 0);" appears to fix the problem.</p>
<p><b>poorsod</b>: I looked in xLastManStandingGame.uc and found</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> AddGameSpecificInventory<span class="br0">(</span><span class="kw9">Pawn</span> p<span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw1">local</span> <span class="kw9">Inventory</span> Inv;
 
	<span class="kw6">Super</span>.<span class="me0">AddGameSpecificInventory</span><span class="br0">(</span>p<span class="br0">)</span>;
 
	p.<span class="me0">CreateInventory</span><span class="br0">(</span><span class="st0">"XWeapons.BioRifle"</span><span class="br0">)</span>;
	p.<span class="me0">CreateInventory</span><span class="br0">(</span><span class="st0">"XWeapons.FlakCannon"</span><span class="br0">)</span>;
	p.<span class="me0">CreateInventory</span><span class="br0">(</span><span class="st0">"XWeapons.LinkGun"</span><span class="br0">)</span>;
	p.<span class="me0">CreateInventory</span><span class="br0">(</span><span class="st0">"XWeapons.Minigun"</span><span class="br0">)</span>;
	p.<span class="me0">CreateInventory</span><span class="br0">(</span><span class="st0">"XWeapons.RocketLauncher"</span><span class="br0">)</span>;
	p.<span class="me0">CreateInventory</span><span class="br0">(</span><span class="st0">"XWeapons.ShockRifle"</span><span class="br0">)</span>;
	p.<span class="me0">CreateInventory</span><span class="br0">(</span><span class="st0">"XWeapons.SniperRifle"</span><span class="br0">)</span>;
 
	<span class="kw2">if</span> <span class="br0">(</span> bFullAmmo <span class="br0">)</span>
	<span class="br0">{</span>
		<span class="kw2">For</span> <span class="br0">(</span> Inv<span class="sy0">=</span>P.<span class="kw9">Inventory</span>; Inv<span class="sy0">!=</span><span class="kw5">None</span>; Inv<span class="sy0">=</span>Inv.<span class="kw9">Inventory</span> <span class="br0">)</span>
		<span class="br0">{</span>
			<span class="kw2">if</span> <span class="br0">(</span> <span class="kw9">Weapon</span><span class="br0">(</span>Inv<span class="br0">)</span> <span class="sy0">!=</span> <span class="kw5">None</span> <span class="br0">)</span>
				<span class="kw9">Weapon</span><span class="br0">(</span>Inv<span class="br0">)</span>.<span class="me0">MaxOutAmmo</span><span class="br0">(</span><span class="br0">)</span>;
		<span class="br0">}</span>
	<span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>So I copied it across and it works fine for me&#160;:)</p>
<p><b>Geist:</b> Yep, or you could also just use <i>MaxOutAmmo()</i> (for full ammo) or <i>SuperMaxOutAmmo()</i> (for 999 ammo) Weapon functions, instead of <i>AddAmmo()</i>. <b>(UT2004)</b></p>
<p><b>AngryPanda</b>: With the code as written, the log file (i.e., "UT2004.log") is spammed with warning messages (e.g., "Warning: SuperArenaMut DM-Antalus.SuperArenaMut (Function: SuperArenaMut.CheckReplacement:004B) Accessed None 'B'".) Adding the lines "if (B&#160;!= None)" and "if (P&#160;!= None)" before "B.bHidden = true;" and "P.Destroy();" respectively fixes this (similar to what was done with PV). I should note that this probably isn't that big a deal, since it would only happen once, at the loading of each level.</p>
<p><b>Geist:</b> Good point, AngryPanda. I've adjusted the script (above) to fix this. I also added (UT2004-specific) comments to the max-ammo script lines as well.</p>
<p>Oh, and I also changed the timer interval from 2 to 1 sec in PreBeginPlay(). If we want to restore RegenPerSecond health points per second, then Timer() needs to execute each second (or compensate by doubling the health increase if you keep the timer to every 2 seconds). I figured setting the timer back to 1 second was the easiest solution, esp. for readibility in a tutorial.&#160;:)</p>
<p><b>DaWrecka:</b> There's also another way that would let us keep the same average rate regardless of the timer rate; and it involves using just that, TimerRate. It's declared in Actor and, as you might expect, defines the timer's repeat rate in seconds. A simple (RegenPerSecond * TimerRate) in the Timer() function's Min() would allow us to vary the timer rate to whatever we liked. We could even add another variable for the server admin to define their own rate if we like. Slightly more elegant would be a RegenPeriod and RegenAmount; with RegenPeriod being the timer rate and RegenAmount just being how much it restores every 'RegenPeriod' seconds.</p>
<p>Also, in UT2004 the Pawn class has a function GiveHealth. It's defined as:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> GiveHealth<span class="br0">(</span><span class="kw5">int</span> HealAmount, <span class="kw5">int</span> HealMax<span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw2">if</span> <span class="br0">(</span>Health <span class="sy0">&lt;</span> HealMax<span class="br0">)</span>
	<span class="br0">{</span>
		Health <span class="sy0">=</span> <span class="kw3">Min</span><span class="br0">(</span>HealMax, Health <span class="sy0">+</span> HealAmount<span class="br0">)</span>;
        <span class="kw2">return</span> <span class="kw6">true</span>;
	<span class="br0">}</span>
    <span class="kw2">return</span> <span class="kw6">false</span>;
<span class="br0">}</span>
</pre></div>
</div>
<p>which would simplify matters a little. Using that, we could define Timer() as</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> <span class="kw4">Timer</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">local</span> <span class="kw9">Controller</span> C;
 
    <span class="kw2">for</span> <span class="br0">(</span>C <span class="sy0">=</span> <span class="kw7">Level</span>.<span class="me0">ControllerList</span>; C <span class="sy0">!=</span> <span class="kw5">None</span>; C <span class="sy0">=</span> C.<span class="me0">NextController</span><span class="br0">)</span>
    <span class="br0">{</span>
		<span class="kw2">if</span> <span class="br0">(</span>C.<span class="kw9">Pawn</span> <span class="sy0">!=</span> <span class="kw5">None</span> <span class="br0">)</span>
        <span class="br0">{</span>
            C.<span class="kw9">Pawn</span>.<span class="me0">GiveHealth</span><span class="br0">(</span>RegenPerSecond, C.<span class="kw9">Pawn</span>.<span class="me0">HealthMax</span><span class="br0">)</span>;
        <span class="br0">}</span>
    <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>That said, the code as it is should work fine, and I should probably be bearing the old "If it ain't broke don't fix it" adage in mind. Suffice it to say I have a habit of picking nits.</p>

<!-- 
NewPP limit report
CPU time usage: 0.155 seconds
Real time usage: 0.157 seconds
Preprocessor visited node count: 46/1000000
Preprocessor generated node count: 290/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:2897-0!*!0!*!*!*!* and timestamp 20161215142739 and revision id 7712
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Legacy:Super_Arena_Mutator?oldid=7712">https://wiki.beyondunreal.com/Legacy:Super_Arena_Mutator?oldid=7712</a>"</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-legacy" class="selected"><a href="Legacy_Super_Arena_Mutator.html">Legacy</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Legacy_talk:Super_Arena_Mutator?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Legacy:Super_Arena_Mutator" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Legacy:Super_Arena_Mutator" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3ASuper+Arena+Mutator&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3ASuper+Arena+Mutator" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Legacy:Super_Arena_Mutator" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Legacy:Super_Arena_Mutator" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Legacy:Super_Arena_Mutator?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Legacy:Super_Arena_Mutator?oldid=7712" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Legacy:Super_Arena_Mutator" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 23:55, 3 April 2007.</li>
									<li id="copyright">Licensed as <a href="Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":75});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Legacy:Super_Arena_Mutator by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:56:30 GMT -->
</html>
