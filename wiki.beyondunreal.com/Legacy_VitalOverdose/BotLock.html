<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Legacy:VitalOverdose/BotLock by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 09:40:59 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Legacy:VitalOverdose/BotLock - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock" />
<link rel="shortcut icon" href="../w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="../w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="../w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="BotLock.html" />
<link rel="copyright" href="../Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="../w/load2743.css?debug=false&amp;lang=en&amp;modules=ext.geshi.language.uscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="../w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="../w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Legacy","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Legacy:VitalOverdose/BotLock","wgTitle":"VitalOverdose/BotLock","wgCurRevisionId":9289,"wgRevisionId":9289,"wgArticleId":3645,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Legacy Custom Class (UT2004)"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:VitalOverdose/BotLock","wgRelevantArticleId":3645,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-100 ns-subject page-Legacy_VitalOverdose_BotLock skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>Mostly Harmless
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:VitalOverdose/BotLock</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"><span class="subpages">&lt; <a href="../Legacy_VitalOverdose.html" title="Legacy:VitalOverdose">Legacy:VitalOverdose</a></span></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="infobox infobox-class infobox-legacy"><a href="../Legacy_UT2004.html" title="Legacy:UT2004" class="mw-redirect">UT2004</a>&#160;:: <a href="../Legacy_Actor.html" title="Legacy:Actor">Actor</a> &gt;&gt; <a href="../Legacy_Emitter.html" title="Legacy:Emitter">Emitter</a> &gt;&gt;BotLock (Package: custom)</div>
<p>By <a href="../Legacy_VitalOverdose.html" title="Legacy:VitalOverdose">VitalOverdose</a></p>
<p></p>
<div id="toc" class="toc">
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#bScanningTargetVec"><span class="tocnumber">2</span> <span class="toctext">bScanningTargetVec</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Note:"><span class="tocnumber">2.1</span> <span class="toctext">Note:</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#bLockAllPawns"><span class="tocnumber">3</span> <span class="toctext">bLockAllPawns</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#BeginScanVec"><span class="tocnumber">4</span> <span class="toctext">BeginScanVec</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#LandedLockTime"><span class="tocnumber">5</span> <span class="toctext">LandedLockTime</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#TimerFrequency"><span class="tocnumber">6</span> <span class="toctext">TimerFrequency</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#PostBeginPlay.28.29"><span class="tocnumber">7</span> <span class="toctext">PostBeginPlay()</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#First_argument_reads.3B"><span class="tocnumber">7.1</span> <span class="toctext">First argument reads;</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#The_next_argument_reads.3B-"><span class="tocnumber">7.2</span> <span class="toctext">The next argument reads;-</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="#Timer.28.29"><span class="tocnumber">8</span> <span class="toctext">Timer()</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#First_argument"><span class="tocnumber">8.1</span> <span class="toctext">First argument</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Next_argument.3B-"><span class="tocnumber">8.2</span> <span class="toctext">Next argument;-</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Togglelock.28.29"><span class="tocnumber">9</span> <span class="toctext">Togglelock()</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#CheckGrounded.28.29"><span class="tocnumber">10</span> <span class="toctext">CheckGrounded()</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#Full_Script"><span class="tocnumber">11</span> <span class="toctext">Full Script</span></a></li>
<li class="toclevel-1 tocsection-17"><a href="#Discussion"><span class="tocnumber">12</span> <span class="toctext">Discussion</span></a></li>
</ul>
</div>
<p></p>
<h3><span class="mw-headline" id="Overview">Overview</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock?section=1" title="Edit section: Overview">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This actor is designed to be attacked to a <a href="../Legacy_Vehicle.html" title="Legacy:Vehicle">vehicle</a>. When its attached it also locks in the <a href="https://wiki.beyondunreal.com/edit/Legacy:Xbots?redlink=1" class="new" title="Legacy:Xbots (page does not exist)">xbots</a> for the total length of time the <a href="../Legacy_Emitter.html" title="Legacy:Emitter">emitter</a> fx is alive. This was needed for the <a href="ONSVehicleBooster.html" title="Legacy:VitalOverdose/ONSVehicleBooster">ONSVehicleBooster</a> to stop the xbot from bailing the moment they got the boost and later the more advanced <a href="SFXUltraLight-2.html" title="Legacy:VitalOverdose/SFXUltraLight">SFXUltralight</a> emitter system. This emitter not only make nice fx it acts a sort of <b>Vehicle controller</b> to any vehicle it is HardAttached to.</p>
<p>I wanted only to have the trail fx while the vehicle was airborne so the timer function has been overwritten and will scan the vehicle its attached to to see if all four wheels are touching the ground or not.</p>
<p>The scan rate or <b>TimerFrequency</b> can be set by the mapper in unrealEd.</p>
<p>The is also a safe time for the doors to stay locked after the vehicle has made contact with the ground again. This is quite simply because most landings still manage to freak the bots out enough to bail. So the solution is to hold them captive for about 2 seconds until the vehicle has decelerated to a speed they can cope with.</p>
<h3><span class="mw-headline" id="bScanningTargetVec">bScanningTargetVec</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock?section=2" title="Edit section: bScanningTargetVec">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Is a flag to help us use the timer function for 2 different jobs.</p>
<h4><span class="mw-headline" id="Note:">Note:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock?section=3" title="Edit section: Note:">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>This use internally and cannot be set by the mapper as it has not got <b>()</b> after the <b>var</b> statement.</p>
<h3><span class="mw-headline" id="bLockAllPawns">bLockAllPawns</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock?section=4" title="Edit section: bLockAllPawns">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Can Be true or false. set by the mapper in unrealed. If set to true all players will be locked in not just the bots.</p>
<h3><span class="mw-headline" id="BeginScanVec">BeginScanVec</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock?section=5" title="Edit section: BeginScanVec">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Is the delaytime for the scanning that checks if the vehicle has been grounded or not as the whole scanning process is a bit CPU intensive and should be kept to an absolute minimum if possible. IE boosting off a high cliff you are not going to have to begin checking for maybe a few seconds. It doesn't seem much but in a game which is highly Dependant of bandwidth speed like ut2004 we have to optimize anywhere we can.</p>
<h3><span class="mw-headline" id="LandedLockTime">LandedLockTime</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock?section=6" title="Edit section: LandedLockTime">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The amount of time to keep the driver locked in after the vehicle has landed.</p>
<h3><span class="mw-headline" id="TimerFrequency">TimerFrequency</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock?section=7" title="Edit section: TimerFrequency">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The Scan Rate. The timer function get called repeatedly and the TimerFrequency specifies the amount of time between each scan.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Var</span>    <span class="kw5">bool</span>           bScanningTargetVec;
 
<span class="kw1">Var</span> <span class="br0">(</span><span class="br0">)</span> <span class="kw5">Bool</span>           bLockAllPawns;
 
<span class="kw1">Var</span> <span class="br0">(</span><span class="br0">)</span> <span class="kw5">Float</span>          BeginScanVec;
 
<span class="kw1">Var</span> <span class="br0">(</span><span class="br0">)</span> <span class="kw5">Float</span>          LandedLockTime;
 
<span class="kw1">Var</span> <span class="br0">(</span><span class="br0">)</span> <span class="kw5">Float</span>          TimerFrequency;
</pre></div>
</div>
<h3><span class="mw-headline" id="PostBeginPlay.28.29">PostBeginPlay()</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock?section=8" title="Edit section: PostBeginPlay()">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The function <a href="https://wiki.beyondunreal.com/edit/Legacy:PostBeginPlay?redlink=1" class="new" title="Legacy:PostBeginPlay (page does not exist)">PostBeginPlay</a> gets called directly after the emitter is spawned and is a good place to check a few of the values the mapper may or may not have set in Unrealed.</p>
<h4><span class="mw-headline" id="First_argument_reads.3B">First argument reads;</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock?section=9" title="Edit section: First argument reads;">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<ul>
<li>If our base is not a vehicle &amp; our owner IS a vehicle.
<ul>
<li>If the argument is true then the emitter hard attaches itself to its owner.</li>
</ul>
</li>
</ul>
<h4><span class="mw-headline" id="The_next_argument_reads.3B-">The next argument reads;-</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock?section=10" title="Edit section: The next argument reads;-">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<ul>
<li>If our owner (typecasted to vehicle) doesn't have <a href="https://wiki.beyondunreal.com/edit/Legacy:Xbot?redlink=1" class="new" title="Legacy:Xbot (page does not exist)">xbot</a> for driver and <b>BlockAllPawns = True</b>
<ul>
<li>call function <b>ToggleLock()</b>.</li>
<li>Set timer to go of every <b>TimerFrequency</b> Seconds.</li>
</ul>
</li>
<li>Any code related to this function from the parent class is copied in here by using the <b>.super</b> function.</li>
</ul>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Function</span> <span class="kw4">PostBeginPlay</span><span class="br0">(</span><span class="br0">)</span>
 
<span class="br0">{</span>
 <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span> <span class="sy0">!</span><span class="kw7">base</span>.<span class="kw3">IsA</span><span class="br0">(</span><span class="st0">'onsvehicle'</span> <span class="br0">)</span> <span class="sy0">&amp;&amp;</span>  <span class="br0">(</span><span class="kw7">owner</span>.<span class="kw3">IsA</span><span class="br0">(</span><span class="st0">'onsvehicle'</span><span class="br0">)</span> <span class="br0">)</span> 
       <span class="kw4">setbase</span><span class="br0">(</span><span class="kw7">owner</span><span class="br0">)</span>;
 
 <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span><span class="kw9">OnsVehicle</span><span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">Driver</span>.<span class="kw3">IsA</span><span class="br0">(</span><span class="st0">'xBot'</span><span class="br0">)</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>bLockAllPawns<span class="br0">)</span><span class="br0">)</span>
    <span class="br0">{</span>
     Togglelock<span class="br0">(</span><span class="br0">)</span>;
     <span class="kw4">SetTimer</span><span class="br0">(</span>BeginScanVec,<span class="kw6">False</span> <span class="br0">)</span>;
    <span class="br0">}</span>
 
<span class="kw6">Super</span>.<span class="kw4">PostBeginPlay</span><span class="br0">(</span><span class="br0">)</span>;
 
<span class="br0">}</span>
</pre></div>
</div>
<h3><span class="mw-headline" id="Timer.28.29">Timer()</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock?section=11" title="Edit section: Timer()">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Here the <b>timer()</b> function is being used for two different jobs.</p>
<p>Its first job is to call <b>checkGrounded()</b> every <b>timerfrequency</b> seconds then after the scanning has stopped it acts as the Safe time for the bots to be kept locked in the vehicle after it has landed.</p>
<h4><span class="mw-headline" id="First_argument">First argument</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock?section=12" title="Edit section: First argument">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<ul>
<li>is <b>bScanningTargetVec</b> set to <b>true</b>?
<ul>
<li><b>true:</b></li>
<li>is the result sent back by the function <b>checkgrounded()</b> equal to <b>true</b>?
<ul>
<li><b>True:</b></li>
<li><b>Timerfrequency</b> is set to 0 as a flag as its no longer needed.</li>
<li>The <b>timer()</b> is reset to go off just once in <b>LandedLockTime</b> seconds.</li>
<li>The code quits the function at this point.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4><span class="mw-headline" id="Next_argument.3B-">Next argument;-</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock?section=13" title="Edit section: Next argument;-">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<ul>
<li>Is <b>bScanningTargetVec</b> equal to <b>false</b>;-
<ul>
<li><b>True:</b></li>
<li>set <b>BscanningtargetVec</b> to true;</li>
<li>Set the timer to be called repeatedly every <b>TimerFrequency</b> Seconds.</li>
<li>Lock the bots it.</li>
<li>The code exits the function here.</li>
</ul>
</li>
</ul>
<p>So at this from now on as <b>bScanningTargetVec</b> is set to true wee will only get as far as the first argument before hitting a return function and we wont be using the second argument again in this actors lifetime.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> <span class="kw4">Timer</span><span class="br0">(</span><span class="br0">)</span>
 
<span class="br0">{</span>
 <span class="kw2">if</span> <span class="br0">(</span> bScanningTargetVec <span class="sy0">==</span> <span class="kw6">true</span> <span class="br0">)</span>
    <span class="br0">{</span>
 
     <span class="kw2">if</span> <span class="br0">(</span> checkGrounded<span class="br0">(</span><span class="br0">)</span> <span class="sy0">==</span> <span class="kw6">True</span> <span class="br0">)</span>
        <span class="br0">{</span>
         TimerFrequency <span class="sy0">=</span> <span class="nu0">0</span>;
         <span class="kw4">SetTimer</span><span class="br0">(</span>LandedLockTime,<span class="kw6">False</span> <span class="br0">)</span>;
        <span class="br0">}</span>
     <span class="kw2">Return</span>;
    <span class="br0">}</span>
 
 <span class="kw2">If</span> <span class="br0">(</span> bScanningTargetVec <span class="sy0">==</span> <span class="kw6">False</span> <span class="br0">)</span>
    <span class="br0">{</span>
     bScanningTargetVec <span class="sy0">=</span> <span class="kw6">True</span>;
     <span class="kw4">SetTimer</span><span class="br0">(</span>TimerFrequency,<span class="kw6">True</span><span class="br0">)</span>;
     ToggleLock<span class="br0">(</span><span class="br0">)</span>;
     <span class="kw2">Return</span>;
    <span class="br0">}</span>  
 
<span class="br0">}</span>
</pre></div>
</div>
<h3><span class="mw-headline" id="Togglelock.28.29">Togglelock()</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock?section=14" title="Edit section: Togglelock()">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This is a very simple function to toggle the property <b>bDriverCannotLeaveVehicle</b> on the vehicle the emitter is attached to.As there are only to arguments involved ant they both include the same Boolean variable then we raly only have to ask 1 question as if the first is not true then we know the second will be. so by putting a <b>return</b> in After the <b>bDriverCannotLeaveVehicle</b> variable has been set to <b>true</b> we don have to worry about the focus of the code dropping through into the next lot of code.</p>
<p>So the next line which simply set <b>bDriverCannotLeaveVehicle</b> to <b>false</b> will always be run by default if the first argument is <b>false</b>.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Function</span> Togglelock<span class="br0">(</span><span class="br0">)</span>
 
<span class="br0">{</span>
 
<span class="kw2">If</span> <span class="br0">(</span> <span class="kw9">ONSVehicle</span><span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">bDriverCannotLeaveVehicle</span> <span class="sy0">==</span> <span class="kw6">False</span> <span class="br0">)</span>
   <span class="br0">{</span>
    <span class="kw9">OnsVehicle</span><span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">bDriverCannotLeaveVehicle</span> <span class="sy0">=</span> <span class="kw6">True</span>;
    <span class="kw2">Return</span>;
   <span class="br0">}</span>
 
<span class="kw9">OnsVehicle</span><span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">bDriverCannotLeaveVehicle</span> <span class="sy0">=</span> <span class="kw6">False</span>;
 
<span class="br0">}</span>
</pre></div>
</div>
<h3><span class="mw-headline" id="CheckGrounded.28.29">CheckGrounded()</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock?section=15" title="Edit section: CheckGrounded()">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The function <b>Checkgrounded()</b> gets called from <b>timer</b> every <b>timerFrequency</b> seconds to check if all 4 wheels are in contact with the ground or not. The <b>BOOL</b> after the word function means that a Boolean variable will be passed back to the point the function was called when a <b>return Boolean Variable</b>is called.</p>
<p>The way we check all 4 wheels is with a 'for-loop' and for this we need to set up a local integer variable to do the counting of the wheels.</p>
<p>Quite simply we don't need to check all four wheels if 1 of them is not touching the ground. so as soon as on is found that isn't we exit the function by returning <b>FALSE</b>.</p>
<p>So by default if the focus of the code hasn't exited by the end of the for next loop all 4 wheels have to be on the ground so we return a <b>TRUE</b> instead.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Function</span> <span class="kw5">Bool</span> checkGrounded<span class="br0">(</span><span class="br0">)</span>
 
<span class="br0">{</span>
 <span class="kw1">Local</span> <span class="kw5">Int</span> i;
 
 <span class="kw2">for</span> <span class="br0">(</span> i<span class="sy0">=</span><span class="nu0">0</span> ; i<span class="sy0">&lt;</span><span class="kw9">OnsVehicle</span><span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">wheels</span>.<span class="me0">Length</span> ; I<span class="sy0">++</span> <span class="br0">)</span>
     <span class="kw2">If</span> <span class="br0">(</span> <span class="kw9">OnsVehicle</span><span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">Wheels</span><span class="br0">[</span>I<span class="br0">]</span>.<span class="me0">bWheelOnGround</span> <span class="sy0">==</span> <span class="kw6">false</span> <span class="br0">)</span>
         <span class="kw2">return</span> <span class="kw6">False</span>;
 
 <span class="kw2">Return</span> <span class="kw6">True</span>;
 
<span class="br0">}</span>
</pre></div>
</div>
<h3><span class="mw-headline" id="Full_Script">Full Script</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock?section=16" title="Edit section: Full Script">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The completed script looks like this;-</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">class</span> BotLock <span class="kw1">extends</span> <span class="kw1">class</span> <span class="kw9">Emitter</span>
 
<span class="kw1">placeable</span>;
 
<span class="kw1">Var</span>    <span class="kw5">bool</span>           bScanningTargetVec;
 
<span class="kw1">Var</span> <span class="br0">(</span><span class="br0">)</span> <span class="kw5">Bool</span>           bLockAllPawns;
 
<span class="kw1">Var</span> <span class="br0">(</span><span class="br0">)</span> <span class="kw5">Float</span>          BeginScanVec;
 
<span class="kw1">Var</span> <span class="br0">(</span><span class="br0">)</span> <span class="kw5">Float</span>          LandedLockTime;
 
<span class="kw1">Var</span> <span class="br0">(</span><span class="br0">)</span> <span class="kw5">Float</span>          TimerFrequency;
 
<span class="kw1">Function</span> <span class="kw4">PostBeginPlay</span><span class="br0">(</span><span class="br0">)</span>
 
<span class="br0">{</span>
 <span class="kw6">super</span>.<span class="kw4">postbeginplay</span><span class="br0">(</span><span class="br0">)</span>;
 <span class="kw2">if</span> <span class="br0">(</span> <span class="sy0">!</span><span class="kw7">base</span>.<span class="kw3">IsA</span><span class="br0">(</span><span class="st0">'onsvehicle'</span> <span class="br0">)</span> <span class="sy0">&amp;&amp;</span>  <span class="br0">(</span><span class="kw7">owner</span>.<span class="kw3">IsA</span><span class="br0">(</span><span class="st0">'onsvehicle'</span><span class="br0">)</span> <span class="br0">)</span> <span class="br0">)</span>
      <span class="kw4">setbase</span><span class="br0">(</span><span class="kw7">owner</span><span class="br0">)</span>;
 
 <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span><span class="kw9">OnsVehicle</span><span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">Driver</span>.<span class="kw3">IsA</span><span class="br0">(</span><span class="st0">'xBot'</span><span class="br0">)</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>bLockAllPawns<span class="br0">)</span><span class="br0">)</span>
    <span class="br0">{</span>
     Togglelock<span class="br0">(</span><span class="br0">)</span>;
     <span class="kw4">SetTimer</span><span class="br0">(</span>BeginScanVec,<span class="kw6">False</span> <span class="br0">)</span>;
    <span class="br0">}</span>
 
<span class="br0">}</span>
 
<span class="kw1">function</span> <span class="kw4">Timer</span><span class="br0">(</span><span class="br0">)</span>
 
<span class="br0">{</span>
 
<span class="kw6">Super</span>.<span class="kw4">timer</span><span class="br0">(</span><span class="br0">)</span>;
 
 <span class="kw2">if</span> <span class="br0">(</span> bScanningTargetVec <span class="sy0">==</span> <span class="kw6">true</span> <span class="br0">)</span>
    <span class="br0">{</span>
     <span class="kw2">if</span> <span class="br0">(</span> checkGrounded<span class="br0">(</span><span class="br0">)</span> <span class="sy0">==</span> <span class="kw6">True</span> <span class="br0">)</span>
        <span class="br0">{</span>
         TimerFrequency <span class="sy0">=</span> <span class="nu0">0</span>;
         <span class="kw4">SetTimer</span><span class="br0">(</span>LandedLockTime,<span class="kw6">False</span> <span class="br0">)</span>;
        <span class="br0">}</span>
     <span class="kw2">Return</span>;
    <span class="br0">}</span>
 
 <span class="kw2">If</span> <span class="br0">(</span> bScanningTargetVec <span class="sy0">==</span> <span class="kw6">False</span> <span class="br0">)</span>
    <span class="br0">{</span>
     bScanningTargetVec <span class="sy0">=</span> <span class="kw6">True</span>;
     <span class="kw4">SetTimer</span><span class="br0">(</span>TimerFrequency,<span class="kw6">True</span><span class="br0">)</span>;
     ToggleLock<span class="br0">(</span><span class="br0">)</span>;
    <span class="br0">}</span>  
 
<span class="br0">}</span>
 
<span class="kw1">Function</span> Togglelock<span class="br0">(</span><span class="br0">)</span>
 
<span class="br0">{</span>
 
<span class="kw2">If</span> <span class="br0">(</span> <span class="kw9">ONSVehicle</span><span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">bDriverCannotLeaveVehicle</span> <span class="sy0">==</span> <span class="kw6">false</span> <span class="br0">)</span>
   <span class="kw9">OnsVehicle</span><span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">bDriverCannotLeaveVehicle</span> <span class="sy0">=</span> <span class="kw6">True</span>;
 
<span class="kw2">else</span>
   <span class="kw9">OnsVehicle</span><span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">bDriverCannotLeaveVehicle</span> <span class="sy0">=</span> <span class="kw6">False</span>;
 
<span class="br0">}</span>
 
<span class="kw1">Function</span> <span class="kw5">Bool</span> checkGrounded<span class="br0">(</span><span class="br0">)</span>
 
<span class="br0">{</span>
 <span class="kw1">Local</span> <span class="kw5">Int</span> i;
 
 <span class="kw2">for</span> <span class="br0">(</span> i<span class="sy0">=</span><span class="nu0">0</span> ; i<span class="sy0">&lt;</span><span class="kw9">OnsVehicle</span><span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">wheels</span>.<span class="me0">Length</span> ; I<span class="sy0">++</span> <span class="br0">)</span>
       <span class="kw2">If</span> <span class="br0">(</span> <span class="kw9">OnsVehicle</span><span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">Wheels</span><span class="br0">[</span>I<span class="br0">]</span>.<span class="me0">bWheelOnGround</span> <span class="sy0">==</span> <span class="kw6">false</span> <span class="br0">)</span>
            <span class="kw2">return</span> <span class="kw6">False</span>;
 
 <span class="kw2">Return</span> <span class="kw6">True</span>;
 
<span class="br0">}</span>
</pre></div>
</div>
<h3><span class="mw-headline" id="Discussion">Discussion</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock?section=17" title="Edit section: Discussion">edit</a><span class="mw-editsection-bracket">]</span></span></h3>

<!-- 
NewPP limit report
CPU time usage: 0.098 seconds
Real time usage: 0.100 seconds
Preprocessor visited node count: 132/1000000
Preprocessor generated node count: 253/1000000
Postâ€expand include size: 357/2097152 bytes
Template argument size: 109/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    2.780      1 - -total
100.00%    2.780      1 - Template:Classbox
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:3645-0!*!0!!en!*!* and timestamp 20161215154932 and revision id 9289
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Legacy:VitalOverdose/BotLock?oldid=9289">https://wiki.beyondunreal.com/Legacy:VitalOverdose/BotLock?oldid=9289</a>"</div>
					<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.beyondunreal.com/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="../Category_Legacy_Custom_Class_(UT2004).html" title="Category:Legacy Custom Class (UT2004)">Legacy Custom Class (UT2004)</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-legacy" class="selected"><a href="BotLock.html">Legacy</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Legacy_talk:VitalOverdose/BotLock?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BotLock" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Legacy:VitalOverdose/BotLock" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-anonuserpage"><a href="../User_188.162.37.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">188.162.37.3</a></li>
													<li id="pt-anontalk"><a href="../User_talk_188.162.37.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AVitalOverdose%2FBotLock&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AVitalOverdose%2FBotLock" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="../index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="../index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="../Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Legacy:VitalOverdose/BotLock" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Legacy:VitalOverdose/BotLock" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Legacy:VitalOverdose/BotLock?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Legacy:VitalOverdose/BotLock?oldid=9289" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Legacy:VitalOverdose/BotLock" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 17:27, 3 December 2007.</li>
									<li id="copyright">Licensed as <a href="../Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="../Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="../Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="../Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":98});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Legacy:VitalOverdose/BotLock by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 09:40:59 GMT -->
</html>
