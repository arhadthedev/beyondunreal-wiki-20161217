<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Legacy:VitalOverdose/BoostingVehicleFactory by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:56:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Legacy:VitalOverdose/BoostingVehicleFactory - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BoostingVehicleFactory" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BoostingVehicleFactory" />
<link rel="shortcut icon" href="../w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="../w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="../w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="BoostingVehicleFactory.html" />
<link rel="copyright" href="../Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="../w/load2743.css?debug=false&amp;lang=en&amp;modules=ext.geshi.language.uscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="../w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="../w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Legacy","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Legacy:VitalOverdose/BoostingVehicleFactory","wgTitle":"VitalOverdose/BoostingVehicleFactory","wgCurRevisionId":9283,"wgRevisionId":9283,"wgArticleId":3643,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Legacy Custom Class (UT2004)","Legacy Tutorial"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:VitalOverdose/BoostingVehicleFactory","wgRelevantArticleId":3643,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-100 ns-subject page-Legacy_VitalOverdose_BoostingVehicleFactory skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>I don't need to test my programs. I have an error-correcting modem.
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:VitalOverdose/BoostingVehicleFactory</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"><span class="subpages">&lt; <a href="../Legacy_VitalOverdose.html" title="Legacy:VitalOverdose">Legacy:VitalOverdose</a></span></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="infobox infobox-class infobox-legacy"><a href="../Legacy_UT2004.html" title="Legacy:UT2004" class="mw-redirect">UT2004</a>&#160;:: <a href="../Legacy_Actor.html" title="Legacy:Actor">Actor</a> &gt;&gt; <a href="../Legacy_SVehicleFactory.html" title="Legacy:SVehicleFactory">SVehicleFactory</a> &gt;&gt; <a href="../Legacy_ASVehicleFactory.html" title="Legacy:ASVehicleFactory">ASVehicleFactory</a> &gt;&gt; AllMapVecFactory (Package: custom)</div>
<p>by <a href="../Legacy_VitalOverdose.html" title="Legacy:VitalOverdose">VitalOverdose</a></p>
<p></p>
<div id="toc" class="toc">
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Internal_Variables_.28not_available_to_the_mapper.29."><span class="tocnumber">1.1</span> <span class="toctext">Internal Variables (not available to the mapper).</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#function_PostBeginPlay.28.29"><span class="tocnumber">2</span> <span class="toctext">function PostBeginPlay()</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#function_Timer.28.29"><span class="tocnumber">3</span> <span class="toctext">function Timer()</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#function_VocalCountdown.28.29"><span class="tocnumber">4</span> <span class="toctext">function VocalCountdown()</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Simulated_function_VecBoost.28.29"><span class="tocnumber">5</span> <span class="toctext">Simulated function VecBoost()</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Function_VehicleSpawned.28.29"><span class="tocnumber">6</span> <span class="toctext">Function VehicleSpawned()</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#function_Tick.28float_deltatime.29"><span class="tocnumber">7</span> <span class="toctext">function Tick(float deltatime)</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#function_vehicledestroyed.28Vehicle_V.29"><span class="tocnumber">8</span> <span class="toctext">function vehicledestroyed(Vehicle V)</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Event_VehicleUnPossessed.28_Vehicle_V_.29"><span class="tocnumber">9</span> <span class="toctext">Event VehicleUnPossessed( Vehicle V )</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Event_VehiclePossessed.28_Vehicle_V_.29"><span class="tocnumber">10</span> <span class="toctext">Event VehiclePossessed( Vehicle V )</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#The_Completed_Script"><span class="tocnumber">11</span> <span class="toctext">The Completed Script</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#RelatedTopics"><span class="tocnumber">12</span> <span class="toctext">RelatedTopics</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#Discussion"><span class="tocnumber">13</span> <span class="toctext">Discussion</span></a></li>
</ul>
</div>
<p></p>
<h3><span class="mw-headline" id="Overview">Overview</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BoostingVehicleFactory?section=1" title="Edit section: Overview">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>the boostingVecicle factory is a modified ASVehicle factory that adds an optional <a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/VecBooster?redlink=1" class="new" title="Legacy:VitalOverdose/VecBooster (page does not exist)">VitalOverdose/VecBooster</a> to every vehicle it spawns. The auto boost is activated (on a timed delay) as soon as a player or bot enters the vehicle as a driver.Theres is a short delay between the driver entering and the actual boost taking place, this is to give the player time to position himself in the direction hes wishes to be boosted. The last 3 seconds of the boost has an optional vocal countdown. These can be switched off by simply removing the sounds in actor browser in unrealed at map creation time. The VecBoost process will happen every time a new driver gets in the vehicle depending on how many boosts the mapper has specified when they placed it in the map ( setting this property to -1 will result in Infinite boosts). the boost strength and direction can be altered be the mapper at map creation time. It is also possible to set the vehicle so that it will boost whoever enters the drivers seat no just a new driver.</p>
<p>There is a BotLock System used on the Vec for the boosting process (see <a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/VecBooster?redlink=1" class="new" title="Legacy:VitalOverdose/VecBooster (page does not exist)">VitalOverdose/VecBooster</a> for details on why). This is automatic and the only settable property of the bot lock is 'BotCaptureTime'</p>
<pre>
BoostDelay          - Time delay for the boost on driver entry.
BotCaptureTime      - For the <a href="BotLock.html" title="Legacy:VitalOverdose/BotLock">VitalOverdose/BotLock</a> system.
bBoostsEmptyVecs    - If the vec should still boost if the driver leaves or dies during the countdown to the boost.
SameDriverRE_Boost  - If the current driver can leave then re-enter the vec and cause another boost
Voc_Booster         - For the vocal countdown.
Voc_one             - For the vocal countdown.
Voc_two             - For the vocal countdown.
Voc_three           - For the vocal countdown.
bDirectional        - Property already present in ASVehicleFactory. If true the vec will use the direction the.                                    BoostingVecFactory is facing to base the direction of the boost on.
TagfxClass          - An emitter actor to use as a trail for the boost effect. Simply leave blank to disable the trail.
</pre>
<h4><span class="mw-headline" id="Internal_Variables_.28not_available_to_the_mapper.29.">Internal Variables (not available to the mapper).</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BoostingVehicleFactory?section=2" title="Edit section: Internal Variables (not available to the mapper).">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<pre>
Boosts              - How many available boosts this vec has.
LastDriver          - Valid actor ref of the last driver.
currentdriver       - Valid actor ref of the current driver.
RotRelation         - which actor to base the direction of the boost on ...indirectly set by mapper.
bPrimed             - Boolean to indicate if the vec is on a countdown to boost.
bBoosting           - Boolean to indicate if the vec has been boosted. Used to track the time on the botlock + trail Fx.
VocalCounter        - The vocal counter.
spawnedtagFX        - valid ref to the emitter making the fx trail.
bCounting           -
</pre>
<p>This Script is made possible by the way that the as vehicle factory keeps track of how many vehicles is spawned and whether it should be spawning a new one or not. When it does spawn a new vehicle the vehicles valid actor ref it recored by the factory and saved in the internal property called <b>child</b>. Also the vehicle itself takes a record of who spawned</p>
<h3><span class="mw-headline" id="function_PostBeginPlay.28.29">function PostBeginPlay()</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BoostingVehicleFactory?section=3" title="Edit section: function PostBeginPlay()">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> <span class="kw4">PostBeginPlay</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
 <span class="kw1">local</span> <span class="kw9">Gameinfo</span> FoundGameInfo;                                <span class="co1">// blank variable of type 'Gameinfo' to store ref</span>
 <span class="kw2">foreach</span> <span class="kw2">DynamicActors</span><span class="br0">(</span><span class="kw1">Class</span><span class="st0">'Engine.Gameinfo'</span>, FoundGameInfo<span class="br0">)</span> <span class="co1">// iterates though all dynamic actors that are 'gameinfos'</span>
        <span class="br0">{</span>                                                     <span class="co1">// and stores a ref to them in  FoundGameInfo</span>
         FoundGameInfo.<span class="me0">bAllowVehicles</span> <span class="sy0">=</span> <span class="kw6">True</span>;                 <span class="co1">// Sets the value FoundGameInfo.bAllowVehicles to true</span>
        <span class="br0">}</span>
 RotRelation  <span class="sy0">=</span> <span class="kw6">Self</span>;
 <span class="kw2">if</span> <span class="br0">(</span>voc_booster<span class="sy0">!=</span><span class="kw5">none</span><span class="br0">)</span>
    <span class="br0">{</span>
     VocalCounter<span class="sy0">=</span><span class="nu0">3</span>;
    <span class="br0">}</span>
 <span class="kw3">enable</span> <span class="br0">(</span><span class="st0">'tick'</span><span class="br0">)</span>;
 <span class="kw6">super</span>.<span class="kw4">postbeginplay</span><span class="br0">(</span><span class="br0">)</span>;                                       <span class="co1">// copys any function related code from parent class</span>
<span class="br0">}</span>
</pre></div>
</div>
<h3><span class="mw-headline" id="function_Timer.28.29">function Timer()</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BoostingVehicleFactory?section=4" title="Edit section: function Timer()">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>this is the hardest function to modify in this class as is already used for the delay on the spawning of the vehicle in the first place. So any extra code has to operate with out messing with the existing functions</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> <span class="kw4">Timer</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>                                  
 <span class="kw2">if</span> <span class="br0">(</span> bCounting<span class="br0">)</span> 
     VocalCountdown<span class="br0">(</span><span class="br0">)</span>;
<span class="kw2">else</span>   
 <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>bPrimed<span class="br0">)</span><span class="sy0">&amp;&amp;</span><span class="br0">(</span>bUseBoostvec<span class="sy0">==</span><span class="kw6">true</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>boosts<span class="sy0">!=-</span><span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span>
     VecBoost<span class="br0">(</span><span class="br0">)</span>;                       
 <span class="kw2">else</span>
    <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>Bboosting<span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span> <span class="kw9">ONSVehicle</span><span class="br0">(</span>child<span class="br0">)</span>.<span class="me0">bDriverCannotLeaveVehicle</span> <span class="br0">)</span><span class="br0">)</span>
        <span class="kw9">ONSVehicle</span><span class="br0">(</span>child<span class="br0">)</span>.<span class="me0">bDriverCannotLeaveVehicle</span> <span class="sy0">=</span> <span class="kw6">false</span>;    
 
    <span class="kw2">if</span> <span class="br0">(</span> spawnedtagFX <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
         spawnedtagFX.<span class="kw4">Destroyed</span><span class="br0">(</span><span class="br0">)</span>;     
 
<span class="kw6">Super</span>.<span class="kw4">Timer</span><span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<h3><span class="mw-headline" id="function_VocalCountdown.28.29">function VocalCountdown()</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BoostingVehicleFactory?section=5" title="Edit section: function VocalCountdown()">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>this function is real only here to make things easyer to follow in the timer function. The timer function calls this function once and then the next 3 timer calls are controled from the end of this function if vocal counting is required.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> VocalCountdown<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
 VocalCounter <span class="sy0">-=</span> <span class="nu0">1</span>;
 
<span class="kw2">if</span> <span class="br0">(</span>VocalCounter <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
    <span class="br0">{</span>                                   
     child.<span class="kw4">playsound</span><span class="br0">(</span>Voc_booster<span class="br0">)</span>;
     bcounting<span class="sy0">=</span><span class="kw6">false</span>;
     bprimed<span class="sy0">=</span><span class="kw6">true</span>;
    <span class="br0">}</span>
 <span class="kw2">else</span>
 <span class="kw2">if</span> <span class="br0">(</span>VocalCounter <span class="sy0">==</span> <span class="nu0">1</span><span class="br0">)</span>
     child.<span class="kw4">playsound</span><span class="br0">(</span>Voc_one<span class="br0">)</span>;       
 <span class="kw2">else</span>
 <span class="kw2">if</span> <span class="br0">(</span>VocalCounter <span class="sy0">==</span> <span class="nu0">2</span><span class="br0">)</span>
     child.<span class="kw4">playsound</span><span class="br0">(</span>Voc_two<span class="br0">)</span>;      
 <span class="kw2">else</span>
 <span class="kw2">if</span> <span class="br0">(</span>VocalCounter <span class="sy0">==</span> <span class="nu0">3</span><span class="br0">)</span>
     child.<span class="kw4">playsound</span><span class="br0">(</span>Voc_three<span class="br0">)</span>;      
 
<span class="kw2">if</span> <span class="br0">(</span>vocalcounter <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span> 
     <span class="kw4">SetTimer</span> <span class="br0">(</span><span class="nu0">1</span>,<span class="kw6">false</span><span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<h3><span class="mw-headline" id="Simulated_function_VecBoost.28.29">Simulated function VecBoost()</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BoostingVehicleFactory?section=6" title="Edit section: Simulated function VecBoost()">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This is a modified version of the <a href="ONSVehicleBooster.html" title="Legacy:VitalOverdose/ONSVehicleBooster">ONSVehicleBooster</a> , it boosts the vehicle and spawns the <a href="../Legacy_Emitter.html" title="Legacy:Emitter">Emitter</a> fx. It then set the right flags in the boolean properties to indicate the new Virtual state of the vec. As we dont want to have to mess about with the vehicle code I'm keeping a 'VirtualRecord' of its state: either <b>Primed</b> ,<b>Counting</b> or <b>Boosting</b> so that decisions can be made based on what condition the vehicle is in at any one point in time.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Simulated</span> <span class="kw1">function</span>  VecBoost<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
 <span class="kw1">local</span> <span class="kw5">Vector</span> PointBoostForce;                                                                            
 boosts <span class="sy0">-=</span> <span class="nu0">1</span>;
 
 <span class="kw2">if</span> <span class="br0">(</span> bDirectional <span class="sy0">==</span> <span class="kw6">True</span><span class="br0">)</span>
     RotRelation  <span class="sy0">=</span> child;                                                   
 
  <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>child.<span class="me0">driver</span> <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>  <span class="sy0">&amp;&amp;</span>  <span class="br0">(</span> child.<span class="me0">IsHumanControlled</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">==</span><span class="kw6">false</span><span class="br0">)</span><span class="br0">)</span>
      <span class="kw9">ONSVehicle</span><span class="br0">(</span>child<span class="br0">)</span>.<span class="me0">bDriverCannotLeaveVehicle</span> <span class="sy0">=</span> <span class="kw6">true</span>;                     
 
 child.<span class="kw4">KAddImpulse</span><span class="br0">(</span> ActualBoostForce <span class="sy0">&gt;&gt;</span> RotRelation.<span class="kw7">Rotation</span>, PointBoostForce <span class="sy0">&gt;&gt;</span> RotRelation.<span class="kw7">Rotation</span> <span class="br0">)</span> ;
 
 bPrimed   <span class="sy0">=</span> <span class="kw6">false</span>;                                                          
 bBoosting <span class="sy0">=</span> <span class="kw6">true</span>;                                                          
 
<span class="kw2">if</span> <span class="br0">(</span>TagfxClass<span class="sy0">!=</span><span class="kw5">None</span><span class="br0">)</span>
    <span class="br0">{</span>
     spawnedtagFX<span class="sy0">=</span><span class="kw4">spawn</span><span class="br0">(</span>TagfxClass,child,,child.<span class="kw7">location</span>,child.<span class="kw7">rotation</span><span class="br0">)</span>;    
    <span class="kw2">if</span> <span class="br0">(</span>spawnedtagFX <span class="sy0">!=</span> <span class="kw5">None</span> <span class="br0">)</span>
        spawnedtagFX.<span class="kw4">setbase</span><span class="br0">(</span>child<span class="br0">)</span>;
 
    <span class="br0">}</span>
    <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>child.<span class="me0">driver</span> <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>  <span class="sy0">&amp;&amp;</span>  <span class="br0">(</span> child.<span class="me0">IsHumanControlled</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">==</span><span class="kw6">false</span><span class="br0">)</span><span class="br0">)</span>
        <span class="kw4">settimer</span><span class="br0">(</span>BotCaptureTime,<span class="kw6">false</span><span class="br0">)</span>;                                        
 
<span class="br0">}</span>
</pre></div>
</div>
<h3><span class="mw-headline" id="Function_VehicleSpawned.28.29">Function VehicleSpawned()</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BoostingVehicleFactory?section=7" title="Edit section: Function VehicleSpawned()">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>this function is allready part of ASVhicle factory. it gets called from the function SpawnVehicle right after the vecfactory checks if the spawn whent ok. Here its being over written just to check the overall amount of boosts the vehicle has left. The new code is put in before the <b>.super</b> function and dosent contain any returns so it wont interfere with the way this function normaly works.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> VehicleSpawned<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>                                                                            
 
 <span class="kw2">if</span> <span class="br0">(</span> bUseBoostvec<span class="sy0">==</span> <span class="kw6">true</span> <span class="br0">)</span>
    <span class="br0">{</span>
     boosts <span class="sy0">=</span> <span class="nu0">1</span>;
     boosts <span class="sy0">+=</span> RepeatBoosts;
    <span class="br0">}</span>
 
<span class="kw6">super</span>.<span class="me0">VehicleSpawned</span><span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<h3><span class="mw-headline" id="function_Tick.28float_deltatime.29">function Tick(float deltatime)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BoostingVehicleFactory?section=8" title="Edit section: function Tick(float deltatime)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Here Tick() is over written to do most of the checking om the fx and the control over the botLock system. This leaves the timer function less cluttered and easyer to work with. Tick get run far more frequently that the timer (imn most cases) and it best not to have anything to complicated going on there as this is a strain on the cpu. There is a fair amount of code been added to tick in this case but i dont think its getting close to what would be considered to much</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> <span class="kw4">Tick</span><span class="br0">(</span><span class="kw5">float</span> deltatime<span class="br0">)</span>
<span class="br0">{</span>
 
 <span class="kw2">if</span> <span class="br0">(</span> child <span class="sy0">!=</span> <span class="kw5">none</span> <span class="br0">)</span>
    <span class="br0">{</span>
 
    <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>bBoosting<span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>vocalcounter<span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>Voc_Booster<span class="sy0">!=</span><span class="kw5">none</span><span class="br0">)</span><span class="br0">)</span>
        vocalcountdown<span class="br0">(</span><span class="br0">)</span>;
 
    <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>child.<span class="me0">Driver</span> <span class="sy0">==</span> <span class="kw5">none</span> <span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>currentdriver<span class="sy0">!=</span><span class="kw5">None</span><span class="br0">)</span><span class="br0">)</span>
       <span class="br0">{</span>
        lastdriver    <span class="sy0">=</span> currentdriver;                                       
        currentdriver <span class="sy0">=</span> <span class="kw5">none</span>;
 
        <span class="kw2">if</span> <span class="br0">(</span> bPrimed <span class="sy0">==</span> <span class="kw6">true</span><span class="br0">)</span>
            bPrimed <span class="sy0">=</span> <span class="kw6">false</span>;                                                 
 
        <span class="kw2">if</span> <span class="br0">(</span> bboosting <span class="sy0">==</span> <span class="kw6">true</span><span class="br0">)</span>
           <span class="br0">{</span>
            bboosting <span class="sy0">=</span> <span class="kw6">false</span>;                                               
            <span class="kw2">if</span> <span class="br0">(</span> spawnedtagfx<span class="sy0">!=</span> <span class="kw5">none</span><span class="br0">)</span>
                 spawnedtagFX.<span class="kw4">Destroy</span><span class="br0">(</span><span class="br0">)</span>;                                      
           <span class="br0">}</span>
        <span class="br0">}</span>
 
    <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>bBoosting<span class="br0">)</span><span class="sy0">&amp;&amp;</span> <span class="br0">(</span><span class="kw9">onsvehicle</span><span class="br0">(</span>child<span class="br0">)</span>.<span class="me0">bVehicleOnGround</span><span class="br0">)</span><span class="br0">)</span>
       <span class="br0">{</span>
 
        bBoosting <span class="sy0">=</span> <span class="kw6">false</span>;
 
        <span class="kw2">if</span> <span class="br0">(</span> spawnedtagfx<span class="sy0">!=</span> <span class="kw5">none</span><span class="br0">)</span>
            spawnedtagFX.<span class="kw4">Destroy</span><span class="br0">(</span><span class="br0">)</span>;                                              
 
        <span class="kw2">if</span> <span class="br0">(</span><span class="kw9">onsvehicle</span><span class="br0">(</span>child<span class="br0">)</span>.<span class="me0">bDriverCannotLeaveVehicle</span> <span class="sy0">==</span> <span class="kw6">true</span><span class="br0">)</span>
            <span class="kw9">onsvehicle</span><span class="br0">(</span>child<span class="br0">)</span>.<span class="me0">bDriverCannotLeaveVehicle</span> <span class="sy0">=</span> <span class="kw6">false</span>; 
 
       <span class="br0">}</span>
    <span class="br0">}</span>       
<span class="kw6">super</span>.<span class="kw4">tick</span><span class="br0">(</span>deltatime<span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<h3><span class="mw-headline" id="function_vehicledestroyed.28Vehicle_V.29">function vehicledestroyed(Vehicle V)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BoostingVehicleFactory?section=9" title="Edit section: function vehicledestroyed(Vehicle V)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This function is already present in asvehiclefactory and is called by the vehicle when it gets destroyed to tell the factory it needs to spawn another vehicle. Some code has been added to basically reset the timers and the virtual state of the vehicle (ie.primed,boosting etc).</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> vehicledestroyed<span class="br0">(</span><span class="kw9">Vehicle</span> V<span class="br0">)</span>
<span class="br0">{</span>
 lastdriver    <span class="sy0">=</span> currentdriver;                                              
 currentdriver <span class="sy0">=</span> <span class="kw5">none</span>;
 bboosting     <span class="sy0">=</span> <span class="kw6">false</span>;                                                      
 bPrimed       <span class="sy0">=</span> <span class="kw6">false</span>;                                                      
 
 <span class="kw2">if</span> <span class="br0">(</span>spawnedtagfx <span class="sy0">!=</span> <span class="kw5">none</span><span class="br0">)</span>
     spawnedtagFX.<span class="kw4">Destroy</span><span class="br0">(</span><span class="br0">)</span>;                                                 
 
<span class="kw6">Super</span>.<span class="me0">VehicleDestroyed</span><span class="br0">(</span>v<span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<h3><span class="mw-headline" id="Event_VehicleUnPossessed.28_Vehicle_V_.29">Event VehicleUnPossessed( Vehicle V )</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BoostingVehicleFactory?section=10" title="Edit section: Event VehicleUnPossessed( Vehicle V )">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>To save the stress on the cpu the trail fx are switched off if the driver leaves the vec while boosting. This also acts as a good visual indicator that someone has jumpped out that can be seen for some distance. The extra code here mainly deals with the seting of the right flags for the virtual state of the vec.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">event</span> VehicleUnPossessed<span class="br0">(</span> <span class="kw9">Vehicle</span> V <span class="br0">)</span>
<span class="br0">{</span>
 lastdriver    <span class="sy0">=</span> currentdriver;                                              
 currentdriver <span class="sy0">=</span> <span class="kw5">none</span>;
 <span class="kw2">if</span> <span class="br0">(</span> bBoosting <span class="sy0">==</span> <span class="kw6">true</span><span class="br0">)</span>
    <span class="br0">{</span>
     bBoosting <span class="sy0">=</span> <span class="kw6">false</span>;                                                      
     <span class="kw2">if</span> <span class="br0">(</span>spawnedtagFX<span class="sy0">!=</span> <span class="kw5">none</span><span class="br0">)</span>
         spawnedtagFX.<span class="kw4">Destroyed</span><span class="br0">(</span><span class="br0">)</span>;                                           
 
    <span class="kw2">if</span> <span class="br0">(</span>bBoostsEmptyVecs <span class="sy0">!=</span> <span class="kw6">true</span><span class="br0">)</span>
       <span class="br0">{</span>
        <span class="kw2">if</span> <span class="br0">(</span>vocalcounter <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>
            vocalcounter <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">1</span>;
       <span class="br0">}</span>
    <span class="br0">}</span>
 <span class="kw2">else</span>
 <span class="kw2">if</span> <span class="br0">(</span> bPrimed <span class="sy0">==</span> <span class="kw6">true</span> <span class="br0">)</span>
    <span class="br0">{</span>                                                                        
     <span class="kw2">if</span> <span class="br0">(</span> bBoostsEmptyVecs <span class="sy0">!=</span> <span class="kw6">true</span> <span class="br0">)</span>
        <span class="br0">{</span>                                                                  
         bprimed <span class="sy0">=</span> <span class="kw6">false</span>;                                                   
 
        <span class="kw2">if</span><span class="br0">(</span> VocalCounter <span class="sy0">&gt;</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>
            VocalCounter <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">1</span>;                                              
 
        <span class="br0">}</span>
    <span class="br0">}</span>
 
<span class="kw6">Super</span>.<span class="me0">VehicleUnPossessed</span><span class="br0">(</span>V<span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<h3><span class="mw-headline" id="Event_VehiclePossessed.28_Vehicle_V_.29">Event VehiclePossessed( Vehicle V )</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BoostingVehicleFactory?section=11" title="Edit section: Event VehiclePossessed( Vehicle V )">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This is the function that really make this mod possible in the first place. The vehicle will report back to the factory that spawned it as soon as someone eneters it. This means that the vehicle code dosent have to be alltered at all as the vehicle factory can quite simply call kaddimpulse using either the valid ref stored in the property child or the new one gained through this function (just called V). One the function has called boost it just sets a few flags fort the veirtual status of the vec.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">event</span> VehiclePossessed<span class="br0">(</span> <span class="kw9">Vehicle</span> V <span class="br0">)</span>
<span class="br0">{</span>
 currentdriver<span class="sy0">=</span>v.<span class="me0">Driver</span>;                                                     
 <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>bUseBoostvec<span class="sy0">==</span><span class="kw6">true</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>boosts <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span>
    <span class="br0">{</span>
     <span class="kw2">if</span> <span class="br0">(</span>voc_booster<span class="sy0">!=</span><span class="kw5">none</span><span class="br0">)</span>
        <span class="br0">{</span>
        VocalCounter<span class="sy0">=</span><span class="nu0">4</span>;                                                      
        <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>voc_booster <span class="sy0">!=</span><span class="kw5">None</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>boostdelay <span class="sy0">&gt;</span><span class="nu0">3</span><span class="br0">)</span><span class="br0">)</span>
           <span class="br0">{</span>
             boostdelay<span class="sy0">-=</span><span class="nu0">3</span>;
             bCounting <span class="sy0">=</span> <span class="kw6">true</span>;
            <span class="br0">}</span>                     
        bPrimed<span class="sy0">=</span><span class="kw6">True</span>;                                                         
       <span class="br0">}</span>
    <span class="br0">}</span>
<span class="kw6">Super</span>.<span class="me0">VehiclePossessed</span><span class="br0">(</span>V<span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<h3><span class="mw-headline" id="The_Completed_Script">The Completed Script</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BoostingVehicleFactory?section=12" title="Edit section: The Completed Script">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Here is the completed Script for now;-</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">class</span> BoostingVehicleFactory <span class="kw1">extends</span> ASVehicleFactory
<span class="kw1">placeable</span>;
 
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">bool</span>              bUseBoostvec;
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">vector</span>            ActualBoostForce;
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">int</span>               RepeatBoosts;
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">int</span>               BoostDelay;
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">int</span>               BotCaptureTime;
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">bool</span>              bBoostsEmptyVecs;
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">bool</span>              SameDriverRE_Boost;
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">sound</span>             Voc_Booster;
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">sound</span>             Voc_one;
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">sound</span>             Voc_two;
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">sound</span>             Voc_three;
<span class="kw1">var</span>   <span class="kw5">int</span>               Boosts;
<span class="kw1">var</span>   <span class="kw9">pawn</span>              LastDriver;
<span class="kw1">var</span>   <span class="kw9">pawn</span>              currentdriver;
<span class="kw1">var</span>   <span class="kw9">actor</span>             RotRelation;
<span class="kw1">var</span>   <span class="kw5">bool</span>              bPrimed;
<span class="kw1">var</span>   <span class="kw5">bool</span>              bBoosting;
<span class="kw1">var</span>   <span class="kw5">int</span>               VocalCounter;
<span class="kw1">var</span>   <span class="kw9">emitter</span>           spawnedtagFX;
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> class<span class="sy0">&lt;</span>emitter<span class="sy0">&gt;</span>    Tagfx<span class="re0">Class</span>&lt; SEMI &gt;
<span class="kw1">var</span>   <span class="kw5">bool</span>              bCounting;
 
<span class="kw1">function</span> <span class="kw4">PostBeginPlay</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
 <span class="kw1">local</span> <span class="kw9">Gameinfo</span> FoundGameInfo;                                <span class="co1">// blank variable of type 'Gameinfo' to store ref</span>
 <span class="kw2">foreach</span> <span class="kw2">DynamicActors</span><span class="br0">(</span><span class="kw1">Class</span><span class="st0">'Engine.Gameinfo'</span>, FoundGameInfo<span class="br0">)</span> <span class="co1">// iterates though all dynamic actors that are 'gameinfos'</span>
        <span class="br0">{</span>                                                     <span class="co1">// and stores a ref to them in  FoundGameInfo</span>
         FoundGameInfo.<span class="me0">bAllowVehicles</span> <span class="sy0">=</span> <span class="kw6">True</span>;                 <span class="co1">// Sets the value FoundGameInfo.bAllowVehicles to true</span>
        <span class="br0">}</span>
 RotRelation  <span class="sy0">=</span> <span class="kw6">Self</span>;
 <span class="kw2">if</span> <span class="br0">(</span>voc_booster<span class="sy0">!=</span><span class="kw5">none</span><span class="br0">)</span>
     VocalCounter<span class="sy0">=</span><span class="nu0">3</span>;
 
 <span class="kw3">enable</span> <span class="br0">(</span><span class="st0">'tick'</span><span class="br0">)</span>;
 <span class="kw6">super</span>.<span class="kw4">postbeginplay</span><span class="br0">(</span><span class="br0">)</span>;                                       <span class="co1">// copys any function related code from parent class</span>
<span class="br0">}</span>
 
<span class="kw1">function</span> <span class="kw4">Timer</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
 <span class="kw2">if</span> <span class="br0">(</span> bCounting<span class="br0">)</span>
    VocalCountdown<span class="br0">(</span><span class="br0">)</span>;
 
 <span class="kw2">else</span>
 <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>bPrimed<span class="br0">)</span><span class="sy0">&amp;&amp;</span><span class="br0">(</span>bUseBoostvec<span class="sy0">==</span><span class="kw6">true</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>boosts<span class="sy0">!=-</span><span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span>
     VecBoost<span class="br0">(</span><span class="br0">)</span>;
 
 <span class="kw2">else</span>
    <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>Bboosting<span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span> <span class="kw9">ONSVehicle</span><span class="br0">(</span>child<span class="br0">)</span>.<span class="me0">bDriverCannotLeaveVehicle</span> <span class="br0">)</span><span class="br0">)</span>
       <span class="br0">{</span>
        <span class="kw9">ONSVehicle</span><span class="br0">(</span>child<span class="br0">)</span>.<span class="me0">bDriverCannotLeaveVehicle</span> <span class="sy0">=</span> <span class="kw6">false</span>;
        <span class="kw2">if</span> <span class="br0">(</span> spawnedtagFX<span class="sy0">!=</span><span class="kw5">None</span><span class="br0">)</span>
             spawnedtagFX.<span class="kw4">Destroyed</span><span class="br0">(</span><span class="br0">)</span>;
        <span class="br0">}</span>
 <span class="kw6">super</span>.<span class="kw4">timer</span><span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw1">function</span> VocalCountdown<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
 VocalCounter <span class="sy0">-=</span> <span class="nu0">1</span>;
 <span class="kw2">if</span> <span class="br0">(</span>VocalCounter <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
    <span class="br0">{</span>
     child.<span class="kw4">playsound</span><span class="br0">(</span>Voc_booster<span class="br0">)</span>;
     bcounting<span class="sy0">=</span><span class="kw6">false</span>;
     bprimed<span class="sy0">=</span><span class="kw6">true</span>;
    <span class="br0">}</span>
 
 <span class="kw2">else</span>
 <span class="kw2">if</span> <span class="br0">(</span>VocalCounter <span class="sy0">==</span> <span class="nu0">1</span><span class="br0">)</span>
     child.<span class="kw4">playsound</span><span class="br0">(</span>Voc_one<span class="br0">)</span>;
 
 <span class="kw2">else</span>
 <span class="kw2">if</span> <span class="br0">(</span>VocalCounter <span class="sy0">==</span> <span class="nu0">2</span><span class="br0">)</span>
    child.<span class="kw4">playsound</span><span class="br0">(</span>Voc_two<span class="br0">)</span>;
 
 <span class="kw2">else</span>
 <span class="kw2">if</span> <span class="br0">(</span>VocalCounter <span class="sy0">==</span> <span class="nu0">3</span><span class="br0">)</span>
    child.<span class="kw4">playsound</span><span class="br0">(</span>Voc_three<span class="br0">)</span>;
 
 <span class="kw2">if</span> <span class="br0">(</span>vocalcounter <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>
    <span class="kw4">SetTimer</span> <span class="br0">(</span><span class="nu0">1</span>,<span class="kw6">false</span><span class="br0">)</span>;
 
<span class="br0">}</span>
 
<span class="kw1">Simulated</span> <span class="kw1">function</span>  VecBoost<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
 <span class="kw1">local</span> <span class="kw5">Vector</span> PointBoostForce;
 boosts <span class="sy0">-=</span> <span class="nu0">1</span>;
 <span class="kw2">if</span> <span class="br0">(</span> bDirectional <span class="sy0">==</span> <span class="kw6">True</span><span class="br0">)</span>
     RotRelation  <span class="sy0">=</span> child;
 
  <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>child.<span class="me0">driver</span> <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>  <span class="sy0">&amp;&amp;</span>  <span class="br0">(</span> child.<span class="me0">IsHumanControlled</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">==</span><span class="kw6">false</span><span class="br0">)</span><span class="br0">)</span>
       <span class="kw9">ONSVehicle</span><span class="br0">(</span>child<span class="br0">)</span>.<span class="me0">bDriverCannotLeaveVehicle</span> <span class="sy0">=</span> <span class="kw6">true</span>;
 
 child.<span class="kw4">KAddImpulse</span><span class="br0">(</span> ActualBoostForce <span class="sy0">&gt;&gt;</span> RotRelation.<span class="kw7">Rotation</span>, PointBoostForce <span class="sy0">&gt;&gt;</span> RotRelation.<span class="kw7">Rotation</span> <span class="br0">)</span> ;
 bPrimed   <span class="sy0">=</span> <span class="kw6">false</span>;
 bBoosting <span class="sy0">=</span> <span class="kw6">true</span>;
 <span class="kw2">if</span> <span class="br0">(</span>TagfxClass<span class="sy0">!=</span><span class="kw5">None</span><span class="br0">)</span>
    <span class="br0">{</span>
     spawnedtagFX<span class="sy0">=</span><span class="kw4">spawn</span><span class="br0">(</span>TagfxClass,child,,child.<span class="kw7">location</span>,child.<span class="kw7">rotation</span><span class="br0">)</span>;
     <span class="kw2">if</span> <span class="br0">(</span>spawnedtagFX <span class="sy0">!=</span> <span class="kw5">None</span> <span class="br0">)</span>
         spawnedtagFX.<span class="kw4">setbase</span><span class="br0">(</span>child<span class="br0">)</span>;
    <span class="br0">}</span>
 
 <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>child.<span class="me0">driver</span> <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>  <span class="sy0">&amp;&amp;</span>  <span class="br0">(</span> child.<span class="me0">IsHumanControlled</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">==</span><span class="kw6">false</span><span class="br0">)</span><span class="br0">)</span>
     <span class="kw4">settimer</span><span class="br0">(</span>BotCaptureTime,<span class="kw6">false</span><span class="br0">)</span>;
 <span class="br0">}</span>
 
<span class="kw1">function</span> VehicleSpawned<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
 <span class="kw2">if</span> <span class="br0">(</span> bUseBoostvec<span class="sy0">==</span> <span class="kw6">true</span> <span class="br0">)</span>
    <span class="br0">{</span>
     boosts <span class="sy0">=</span> <span class="nu0">1</span>;
     boosts <span class="sy0">+=</span> RepeatBoosts;
    <span class="br0">}</span>
 <span class="kw6">super</span>.<span class="me0">VehicleSpawned</span><span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw1">function</span> <span class="kw4">Tick</span><span class="br0">(</span><span class="kw5">float</span> deltatime<span class="br0">)</span>
<span class="br0">{</span>
 <span class="kw2">if</span> <span class="br0">(</span> child <span class="sy0">!=</span> <span class="kw5">none</span> <span class="br0">)</span>
    <span class="br0">{</span>
    <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>bBoosting<span class="br0">)</span>  <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>vocalcounter<span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>Voc_Booster<span class="sy0">!=</span><span class="kw5">none</span><span class="br0">)</span><span class="br0">)</span>
       vocalcountdown<span class="br0">(</span><span class="br0">)</span>;
 
    <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>child.<span class="me0">Driver</span> <span class="sy0">==</span> <span class="kw5">none</span> <span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>currentdriver<span class="sy0">!=</span><span class="kw5">None</span><span class="br0">)</span><span class="br0">)</span>
       <span class="br0">{</span>
        lastdriver    <span class="sy0">=</span> currentdriver;
        currentdriver <span class="sy0">=</span> <span class="kw5">none</span>;
        <span class="kw2">if</span> <span class="br0">(</span> bPrimed <span class="sy0">==</span> <span class="kw6">true</span><span class="br0">)</span>
            bPrimed <span class="sy0">=</span> <span class="kw6">false</span>;
 
        <span class="kw2">if</span> <span class="br0">(</span> bboosting <span class="sy0">==</span> <span class="kw6">true</span><span class="br0">)</span>
           <span class="br0">{</span>
            bboosting <span class="sy0">=</span> <span class="kw6">false</span>;
            <span class="kw2">if</span> <span class="br0">(</span> spawnedtagfx<span class="sy0">!=</span> <span class="kw5">none</span><span class="br0">)</span>
                 spawnedtagFX.<span class="kw4">Destroy</span><span class="br0">(</span><span class="br0">)</span>;
           <span class="br0">}</span>
        <span class="br0">}</span>
    <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>bBoosting<span class="br0">)</span><span class="sy0">&amp;&amp;</span> <span class="br0">(</span><span class="kw9">onsvehicle</span><span class="br0">(</span>child<span class="br0">)</span>.<span class="me0">bVehicleOnGround</span><span class="br0">)</span><span class="br0">)</span>
       <span class="br0">{</span>
        bBoosting <span class="sy0">=</span> <span class="kw6">false</span>;
        <span class="kw2">if</span> <span class="br0">(</span> spawnedtagfx<span class="sy0">!=</span> <span class="kw5">none</span><span class="br0">)</span>
            spawnedtagFX.<span class="kw4">Destroy</span><span class="br0">(</span><span class="br0">)</span>;
 
        <span class="kw2">if</span> <span class="br0">(</span><span class="kw9">onsvehicle</span><span class="br0">(</span>child<span class="br0">)</span>.<span class="me0">bDriverCannotLeaveVehicle</span> <span class="sy0">==</span> <span class="kw6">true</span><span class="br0">)</span>
           <span class="kw9">onsvehicle</span><span class="br0">(</span>child<span class="br0">)</span>.<span class="me0">bDriverCannotLeaveVehicle</span> <span class="sy0">=</span> <span class="kw6">false</span>;
      <span class="br0">}</span>
    <span class="br0">}</span>
<span class="kw6">super</span>.<span class="kw4">tick</span><span class="br0">(</span>deltatime<span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw1">function</span> vehicledestroyed<span class="br0">(</span><span class="kw9">Vehicle</span> V<span class="br0">)</span>
<span class="br0">{</span>
 lastdriver    <span class="sy0">=</span> currentdriver;
 currentdriver <span class="sy0">=</span> <span class="kw5">none</span>;
 bboosting     <span class="sy0">=</span> <span class="kw6">false</span>;
 bPrimed       <span class="sy0">=</span> <span class="kw6">false</span>;
 
 <span class="kw2">if</span> <span class="br0">(</span>spawnedtagfx <span class="sy0">!=</span> <span class="kw5">none</span><span class="br0">)</span>
     spawnedtagFX.<span class="kw4">Destroy</span><span class="br0">(</span><span class="br0">)</span>;
 
<span class="kw6">Super</span>.<span class="me0">VehicleDestroyed</span><span class="br0">(</span>v<span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw1">event</span> VehicleUnPossessed<span class="br0">(</span> <span class="kw9">Vehicle</span> V <span class="br0">)</span>
<span class="br0">{</span>
 lastdriver    <span class="sy0">=</span> currentdriver;
 currentdriver <span class="sy0">=</span> <span class="kw5">none</span>;
 
 <span class="kw2">if</span> <span class="br0">(</span> bBoosting <span class="sy0">==</span> <span class="kw6">true</span><span class="br0">)</span>
    <span class="br0">{</span>
     bBoosting <span class="sy0">=</span> <span class="kw6">false</span>;
     <span class="kw2">if</span> <span class="br0">(</span>spawnedtagFX<span class="sy0">!=</span> <span class="kw5">none</span><span class="br0">)</span>
         spawnedtagFX.<span class="kw4">Destroyed</span><span class="br0">(</span><span class="br0">)</span>;
 
     <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>bBoostsEmptyVecs <span class="sy0">!=</span> <span class="kw6">true</span><span class="br0">)</span><span class="sy0">&amp;&amp;</span>  <span class="br0">(</span>vocalcounter <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span>
         vocalcounter <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">1</span>;
     <span class="br0">}</span>
 <span class="kw2">else</span>
 <span class="kw2">if</span>  <span class="br0">(</span><span class="br0">(</span> bPrimed <span class="sy0">==</span> <span class="kw6">true</span> <span class="br0">)</span><span class="sy0">&amp;&amp;</span><span class="br0">(</span> bBoostsEmptyVecs <span class="sy0">!=</span> <span class="kw6">true</span> <span class="br0">)</span><span class="br0">)</span>
     <span class="br0">{</span>
     bprimed <span class="sy0">=</span> <span class="kw6">false</span>;
 
     <span class="kw2">if</span><span class="br0">(</span> VocalCounter <span class="sy0">&gt;</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>
         VocalCounter <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">1</span>;
     <span class="br0">}</span>
<span class="kw6">super</span>.<span class="me0">VehicleUnPossessed</span><span class="br0">(</span>V<span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw1">event</span> VehiclePossessed<span class="br0">(</span> <span class="kw9">Vehicle</span> V <span class="br0">)</span>
<span class="br0">{</span>
CurrentDriver <span class="sy0">=</span> V.<span class="me0">Driver</span>;
 
 <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span><span class="br0">(</span>bUseBoostvec <span class="sy0">==</span> <span class="kw6">true</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>boosts <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">&amp;&amp;</span> <span class="kw2">if</span> <span class="br0">(</span>voc_booster <span class="sy0">!=</span> <span class="kw5">none</span><span class="br0">)</span><span class="br0">)</span>
    <span class="br0">{</span>
    VocalCounter <span class="sy0">=</span> <span class="nu0">4</span>;
 
    <span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>voc_booster <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>boostdelay <span class="sy0">&gt;</span> <span class="nu0">3</span><span class="br0">)</span><span class="br0">)</span>
       <span class="br0">{</span>
        boostdelay <span class="sy0">-=</span> <span class="nu0">3</span>;
        bCounting <span class="sy0">=</span> <span class="kw6">true</span>;
        <span class="br0">}</span>
 
    bPrimed <span class="sy0">=</span> <span class="kw6">True</span>;
    <span class="br0">}</span>
 <span class="kw6">super</span>.<span class="me0">VehiclePossessed</span><span class="br0">(</span>V<span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<h3><span class="mw-headline" id="RelatedTopics">RelatedTopics</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BoostingVehicleFactory?section=13" title="Edit section: RelatedTopics">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul>
<li><a href="Wormhole.html" title="Legacy:VitalOverdose/Wormhole">WormHole</a></li>
<li><a href="ONSVehicleBooster.html" title="Legacy:VitalOverdose/ONSVehicleBooster">ONSVehicleBooster</a></li>
<li><a href="ONSVehicleTeleporter.html" title="Legacy:VitalOverdose/ONSVehicleTeleporter">ONSVehicleTeleporter</a></li>
<li><a href="ONSVehicleFXTagger.html" title="Legacy:VitalOverdose/ONSVehicleFXTagger">ONSVehicleFxTagger</a></li>
</ul>
<hr />
<h3><span class="mw-headline" id="Discussion">Discussion</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BoostingVehicleFactory?section=14" title="Edit section: Discussion">edit</a><span class="mw-editsection-bracket">]</span></span></h3>

<!-- 
NewPP limit report
CPU time usage: 0.193 seconds
Real time usage: 0.195 seconds
Preprocessor visited node count: 157/1000000
Preprocessor generated node count: 329/1000000
Postexpand include size: 556/2097152 bytes
Template argument size: 183/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    2.588      1 - -total
100.00%    2.588      1 - Template:Classbox
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:3643-0!*!0!!en!*!* and timestamp 20161215142923 and revision id 9283
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Legacy:VitalOverdose/BoostingVehicleFactory?oldid=9283">https://wiki.beyondunreal.com/Legacy:VitalOverdose/BoostingVehicleFactory?oldid=9283</a>"</div>
					<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.beyondunreal.com/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="../Category_Legacy_Custom_Class_(UT2004).html" title="Category:Legacy Custom Class (UT2004)">Legacy Custom Class (UT2004)</a></li><li><a href="../Category_Legacy_Tutorial.html" title="Category:Legacy Tutorial">Legacy Tutorial</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-legacy" class="selected"><a href="BoostingVehicleFactory.html">Legacy</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Legacy_talk:VitalOverdose/BoostingVehicleFactory?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Legacy:VitalOverdose/BoostingVehicleFactory" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Legacy:VitalOverdose/BoostingVehicleFactory" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AVitalOverdose%2FBoostingVehicleFactory&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AVitalOverdose%2FBoostingVehicleFactory" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="../index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="../index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="../Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Legacy:VitalOverdose/BoostingVehicleFactory" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Legacy:VitalOverdose/BoostingVehicleFactory" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Legacy:VitalOverdose/BoostingVehicleFactory?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Legacy:VitalOverdose/BoostingVehicleFactory?oldid=9283" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Legacy:VitalOverdose/BoostingVehicleFactory" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 14:43, 8 December 2007.</li>
									<li id="copyright">Licensed as <a href="../Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="../Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="../Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="../Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":90});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Legacy:VitalOverdose/BoostingVehicleFactory by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:56:39 GMT -->
</html>
