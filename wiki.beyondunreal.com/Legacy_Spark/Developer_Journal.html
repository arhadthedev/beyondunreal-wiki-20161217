<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Legacy:Spark/Developer_Journal by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:59:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Legacy:Spark/Developer Journal - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Spark/Developer_Journal" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Spark/Developer_Journal" />
<link rel="shortcut icon" href="../w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="../w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="../w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Developer_Journal.html" />
<link rel="copyright" href="../Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="../w/load2743.css?debug=false&amp;lang=en&amp;modules=ext.geshi.language.uscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="../w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="../w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Legacy","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Legacy:Spark/Developer_Journal","wgTitle":"Spark/Developer Journal","wgCurRevisionId":7488,"wgRevisionId":7488,"wgArticleId":2794,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Legacy Journal"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:Spark/Developer_Journal","wgRelevantArticleId":2794,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-100 ns-subject page-Legacy_Spark_Developer_Journal skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>I'm a doctor, not a mechanic
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:Spark/Developer Journal</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"><span class="subpages">&lt; <a href="../Legacy_Spark.html" title="Legacy:Spark">Legacy:Spark</a></span></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p></p>
<div id="toc" class="toc">
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Majestic_Kingdom"><span class="tocnumber">1</span> <span class="toctext">Majestic Kingdom</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Introduction"><span class="tocnumber">1.1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#3.2F1.2F2003"><span class="tocnumber">1.2</span> <span class="toctext">3/1/2003</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#4.2F1.2F2003_-_A_baby_creep_is_born"><span class="tocnumber">1.3</span> <span class="toctext">4/1/2003 - A baby creep is born</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#6.2F1.2F2003"><span class="tocnumber">1.4</span> <span class="toctext">6/1/2003</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#8.2F1.2F2003"><span class="tocnumber">1.5</span> <span class="toctext">8/1/2003</span></a></li>
</ul>
</li>
</ul>
</div>
<p></p>
<h2><span class="mw-headline" id="Majestic_Kingdom">Majestic Kingdom</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Spark/Developer_Journal?section=1" title="Edit section: Majestic Kingdom">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Spark/Developer_Journal?section=2" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Majestic Kingdom is a sophisticated (read: insane) project to create a roleplaying strategy experience in a first person world. It should allow players to play either as the king (controlling structure building, training units, ressource managment, ...) or as a hero (choosing one of several classes, controlling units, ...). Heros will play the game like a role playing game, they can fight to gain experience (either against creeps or enemy units), use magic, meelee and ranged weapons and buy or learn new stuff. If a hero dies, he has to be retrained by the king and then start from scratch.</p>
<h3><span class="mw-headline" id="3.2F1.2F2003">3/1/2003</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Spark/Developer_Journal?section=3" title="Edit section: 3/1/2003">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Developer Journal created. I will use this place to talk about everything I do for the Majestic Kingdom project, maybe some of this will be usefull. Currently I'm working on a basic creep code.</p>
<h3><span class="mw-headline" id="4.2F1.2F2003_-_A_baby_creep_is_born">4/1/2003 - A baby creep is born</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Spark/Developer_Journal?section=4" title="Edit section: 4/1/2003 - A baby creep is born">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>It can't fight yet, but it will react to the player once it sees it. It is really super simple, so I doubt that it's worth lots of words. The placeable creep is just a subclassed xPawn but placeable:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">class</span> Creep <span class="kw1">extends</span> MajesticPawn <span class="kw1">placeable</span>;
</pre></div>
</div>
<p>The default property <i>ControllerClass</i> is set to my CreepController class. This controller class is a subclass of AIController and simply has two states, one for Idle and one for Attacking. In the Idle state, the "SeePlayer()" event will set the Enemy of the Creep and then go to the Attacking state. The attacking state then looks like this:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">state</span> Attacking
<span class="br0">{</span>
	<span class="kw1">function</span> WhatToDo<span class="br0">(</span><span class="br0">)</span>
	<span class="br0">{</span>
		<span class="co1">// Is our enemy still alive?</span>
		<span class="kw2">if</span> <span class="br0">(</span> Enemy.<span class="me0">Health</span> <span class="sy0">&lt;=</span> <span class="nu0">0</span> <span class="br0">)</span>
		<span class="br0">{</span>
			<span class="kw3">Log</span><span class="br0">(</span><span class="st0">"Enemy dead, let's return to home"</span><span class="br0">)</span>;
			<span class="kw3">GotoState</span><span class="br0">(</span><span class="st0">'ReturnToHome'</span><span class="br0">)</span>;
			<span class="kw2">return</span>;
		<span class="br0">}</span>
 
		<span class="co1">// Ok, so enemy does still live.</span>
		<span class="co1">// We can't fight yet, so just check if we reached it yet.</span>
		<span class="kw2">if</span> <span class="br0">(</span> <span class="sy0">!</span><span class="kw9">Pawn</span>.<span class="me0">ReachedDestination</span><span class="br0">(</span>Enemy<span class="br0">)</span> <span class="br0">)</span>
		<span class="br0">{</span>
			<span class="co1">// We didn't, so find best path</span>
			<span class="kw3">Log</span><span class="br0">(</span><span class="st0">"Finding new path to enemy"</span><span class="br0">)</span>;
			MoveTarget <span class="sy0">=</span> FindPathToward<span class="br0">(</span>Enemy<span class="br0">)</span>;
			Focus <span class="sy0">=</span> MoveTarget;
		<span class="br0">}</span>	
		<span class="kw2">else</span>
		<span class="br0">{</span>
			<span class="kw3">Log</span><span class="br0">(</span><span class="st0">"Reached enemy"</span><span class="br0">)</span>;
			MoveTarget <span class="sy0">=</span> <span class="kw5">None</span>;
		<span class="br0">}</span>
	<span class="br0">}</span>
 
<span class="kw2">Begin</span>:
	WhatToDo<span class="br0">(</span><span class="br0">)</span>;
	<span class="kw2">if</span> <span class="br0">(</span> MoveTarget <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
	<span class="br0">{</span>
		MoveToward<span class="br0">(</span>MoveTarget<span class="br0">)</span>;
		Goto<span class="br0">(</span><span class="st0">'Begin'</span><span class="br0">)</span>;
	<span class="br0">}</span> <span class="kw2">else</span> <span class="br0">{</span>
		<span class="kw3">GotoState</span><span class="br0">(</span><span class="st0">'Idle'</span><span class="br0">)</span>;
	<span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>What I don't like about this is, that SeePlayer() is only triggered if the player is actually in the FOV of the creep. Before I used RadiusActors to find a surrounding pawn in a Timer event, but the SeePlayer event seemed to be a better choice to me. If anyone knows how to make it see in every distance... Maybe I could use the HearNoise event, but this would be difficult to predict.</p>
<p>I should go on making the creep actually attack now, award XP points for killing it, etc but I feel that this isn't really possible yet without the framework, so I need to find a starting point. The best idea to me seems to be to create a new GameInfo and a new PlayerController/Pawn. I will probably subclass the most basic classes because the game really hasn't much to do with Unreal anymore and most of the stuff there in xPlayer, xPawn, etc is simply not needed by me. This will take a while though because the GameInfo class doesn't even run as a gametype yet.</p>
<h3><span class="mw-headline" id="6.2F1.2F2003">6/1/2003</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Spark/Developer_Journal?section=5" title="Edit section: 6/1/2003">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>I was mistaken, GameInfo DOES run, it was TeamGame that didn't run (crashed). I have a nice starting point now.&#160;:) You can't really enter the game as a player yet, but I added an option to the midgamemenu to join the game as a king. This includes a nice topdown look at the map which automatically adjusts to terrainheight. See <a rel="nofollow" class="external text" href="http://forums.beyondunreal.com/showthread.php?s=&amp;threadid=145131">this thread</a> at BuF for more details. Next I will do zoomin and zoomout functionality and start creating a HUD for the king including a mouse pointer.</p>
<p>Today I also posted a thread in the recruitment forum, hopefully someone will respond.</p>
<h3><span class="mw-headline" id="8.2F1.2F2003">8/1/2003</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Spark/Developer_Journal?section=6" title="Edit section: 8/1/2003">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Zooming is working nicely already. Creating the HUD took me a bit longer until I figured out that my HUD isn't drawn because my player has no pawn. Now that this is solved I can finally start working on a mouse pointer.</p>
<p>I think I will create a subpage <a href="Mouse_Pointer.html" title="Legacy:Spark/Mouse Pointer">Spark/Mouse Pointer</a> for this, might be usefull.</p>

<!-- 
NewPP limit report
CPU time usage: 0.041 seconds
Real time usage: 0.050 seconds
Preprocessor visited node count: 41/1000000
Preprocessor generated node count: 76/1000000
Postâ€expand include size: 23/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:2794-0!*!0!!en!*!* and timestamp 20161215143412 and revision id 7488
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Legacy:Spark/Developer_Journal?oldid=7488">https://wiki.beyondunreal.com/Legacy:Spark/Developer_Journal?oldid=7488</a>"</div>
					<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.beyondunreal.com/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="../Category_Legacy_Journal.html" title="Category:Legacy Journal">Legacy Journal</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-legacy" class="selected"><a href="Developer_Journal.html">Legacy</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Legacy_talk:Spark/Developer_Journal?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Legacy:Spark/Developer_Journal" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Legacy:Spark/Developer_Journal" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3ASpark%2FDeveloper+Journal&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3ASpark%2FDeveloper+Journal" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="../index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="../index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="../Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Legacy:Spark/Developer_Journal" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Legacy:Spark/Developer_Journal" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Legacy:Spark/Developer_Journal?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Legacy:Spark/Developer_Journal?oldid=7488" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Legacy:Spark/Developer_Journal" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 04:53, 5 August 2003.</li>
									<li id="copyright">Licensed as <a href="../Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="../Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="../Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="../Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":75});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Legacy:Spark/Developer_Journal by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:59:08 GMT -->
</html>
