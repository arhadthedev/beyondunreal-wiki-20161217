<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Legacy:Unrealscript_Reflection by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 10:56:09 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Legacy:Unrealscript Reflection - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Unrealscript_Reflection" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Unrealscript_Reflection" />
<link rel="shortcut icon" href="w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Legacy_Unrealscript_Reflection.html" />
<link rel="copyright" href="Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="w/load2743.css?debug=false&amp;lang=en&amp;modules=ext.geshi.language.uscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Legacy","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Legacy:Unrealscript_Reflection","wgTitle":"Unrealscript Reflection","wgCurRevisionId":8948,"wgRevisionId":8948,"wgArticleId":3485,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:Unrealscript_Reflection","wgRelevantArticleId":3485,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-100 ns-subject page-Legacy_Unrealscript_Reflection skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>Cogito, ergo sum
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:Unrealscript Reflection</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p><b>Reflection</b> is the ability of a computer language to examine properties of itself. (See also <a href="http://c2.com/cgi/wiki?OnReflection" class="extiw" title="wiki:OnReflection">Wiki:OnReflection</a>.)</p>
<p>This feature is part of languages such as Java and .NET (C#, VB and possibly C++ and other languages of the .NET family).</p>
<p>It is <i>not</i> possible in <a href="Legacy_UnrealScript.html" title="Legacy:UnrealScript">UnrealScript</a> alone, but apparently possible using C++ (don't know if you can make <a href="https://wiki.beyondunreal.com/edit/Legacy:Native_Function?redlink=1" class="new" title="Legacy:Native Function (page does not exist)">native functions</a> for the purpose).</p>
<p>(thanks to <a href="Legacy_El_Muerte_TDS.html" title="Legacy:El Muerte TDS" class="mw-redirect">El Muerte TDS</a> for answering this question in the BeyondUnreal forums).</p>
<h2><span class="mw-headline" id="Background">Background</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Unrealscript_Reflection?section=1" title="Edit section: Background">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>As part of my efforts to dump Unreal objects to XML, I've been looking for a way to enumerate the properties of objects without knowing what those properties are in advance.</p>
<p>Something like this (caution: air code, probably not valid UnrealScript)</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="co1">// Given an object, enumerate all of its properties in an XML fragment.</span>
<span class="coMULTI">/** 
    WARNING: This is not likely to be valid UnrealScript - just a sort of pseudocode
 
    I'm assuming here that:
    - the properties are accessable via a linked list of "property" objects in the class,
    - each property has a a way of determining its type and value.
    - a few other things I may not realize yet
*/</span>
<span class="kw1">function</span> DumpObjectToXML<span class="br0">(</span><span class="kw8">Object</span> someObject<span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">local</span> UProperty aProperty;      <span class="co1">// a property of a Class</span>
    <span class="kw1">local</span> <span class="kw5">string</span> aPropertyValue;    <span class="co1">// value of a Class, casted to a string</span>
    <span class="kw1">local</span> UPropertyType itsType;    <span class="co1">// i.e. string, int, etc.  It's probably really an enum if it exists</span>
 
    aProperty <span class="sy0">=</span> someObject.<span class="me0">ClassList</span>;
 
    <span class="kw2">while</span> aProperty <span class="sy0">!=</span> <span class="kw5">None</span> <span class="br0">{</span>
        <span class="co1">// do something interesting with the property value, like add it as an Xml node?</span>
        AddXmlNoteToTree<span class="br0">(</span><span class="kw5">string</span><span class="br0">(</span>itsType<span class="br0">)</span>, aPropertyValue, someXmlNodeParent, NT_ATTRIBUTE<span class="br0">)</span>;
        aProperty <span class="sy0">=</span> aProperty.<span class="me0">NextProperty</span>;
    <span class="br0">}</span>
 
<span class="br0">}</span>
</pre></div>
</div>
<p>Poor man's property enumerator.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> DumpProperties<span class="br0">(</span> <span class="kw8">Object</span> O <span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw1">local</span> Property P;
	<span class="kw2">foreach</span> <span class="kw3">AllObjects</span><span class="br0">(</span> <span class="kw1">class</span><span class="st0">'Property'</span>, P <span class="br0">)</span>
		<span class="kw2">if</span><span class="br0">(</span> P.<span class="me0">outer</span> <span class="sy0">==</span> O.<span class="kw1">class</span>  <span class="br0">)</span>
			<span class="kw3">log</span><span class="br0">(</span> <span class="st0">"[TYPE]"</span> <span class="sy0">@</span> P.<span class="kw1">class</span>.<span class="kw5">name</span> <span class="sy0">@</span> <span class="st0">"[NAME]"</span> <span class="sy0">@</span> P.<span class="kw5">name</span> <span class="sy0">@</span> <span class="st0">"[VALUE]"</span> <span class="sy0">@</span> O.<span class="kw3">GetPropertyText</span><span class="br0">(</span> <span class="kw5">string</span><span class="br0">(</span>P.<span class="kw5">name</span><span class="br0">)</span> <span class="br0">)</span> <span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<h2><span class="mw-headline" id="Is_it_possible.3F">Is it possible?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Unrealscript_Reflection?section=2" title="Edit section: Is it possible?">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Not with UnrealScript, according to <a href="Legacy_El_Muerte_TDS.html" title="Legacy:El Muerte TDS" class="mw-redirect">El Muerte TDS</a>. The articles suggest you can do this in C++ (native functions, possibly?).</p>
<p>You might achive a "poor man's" reflection using <a href="Legacy_UnCodeX.html" title="Legacy:UnCodeX">UnCodeX</a> with a specialized template to build a class file, though I've not tried this. Might be sufficient for many purpoeses though.</p>
<p>For example, you could probably generate a function to dump a whole object to XML by doing something interesting with an UncodeX template and a combination of your own classes.</p>
<p>More on this later, if I can get it to work!&#160;:)</p>
<h2><span class="mw-headline" id="Notes.2C_open_questions">Notes, open questions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Unrealscript_Reflection?section=3" title="Edit section: Notes, open questions">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li>There's some interesting functions for getting object metadata. Are there more?
<ul>
<li>GetPropertyText()</li>
<li>SetPropertyText()</li>
<li>GetEnum</li>
<li>(various means of casting names to strings, classes to strings, etc)</li>
</ul>
</li>
<li>SaveConfig suggests a way of saving objects to INI files..
<ul>
<li>Can you save an entire object in one INI file?</li>
<li>How about looping through all loaded objects and doing a SaveConfig on them, could this be useful?</li>
</ul>
</li>
<li>There's a couple articles (from the man himself, Tim Sweeney!) that hint at doing this, but don't describe how:
<ul>
<li><a rel="nofollow" class="external free" href="http://lambda.weblogs.com/discuss/msgReader$6587">http://lambda.weblogs.com/discuss/msgReader$6587</a></li>
<li><a rel="nofollow" class="external free" href="http://lists.tunes.org/archives/gclist/1999-July/001634.html">http://lists.tunes.org/archives/gclist/1999-July/001634.html</a></li>
</ul>
</li>
</ul>
<p><b>Foxpaw:</b> I'm not really clear on what this "reflection" is. Is it just like when an IDE picks out the variables and functions and junk and.. well, I'll assume someone finds that sort of thing useful. Anyways, I'm not really sure what "reflection" is.</p>
<p><b>Xhiris:</b> It's almost exactly like what an IDE would do, but you can do it within <i>your</i> code. Think of it as the ability to ask questions <i>about</i> your code <i>from</i> your code. A more detailed explanation is given at the OnReflection link Tarquin put at the top of this page.</p>
<p><b>Tarquin:</b> I have no idea what it is either, but heck, if you want to discuss it here, go for it&#160;:)</p>
<p><b>Foxpaw:</b> I went to that link but I don't really understand what it's all about. Why would your code need to know about itself, and what can be accomplished by doing so?</p>
<p><b>dataangel</b>: Now that ut2k4 has proper save ability, can't it serialize objects? If not individual ones, it'd still be theoretically possible by exploring the save file.</p>

<!-- 
NewPP limit report
CPU time usage: 0.037 seconds
Real time usage: 0.039 seconds
Preprocessor visited node count: 29/1000000
Preprocessor generated node count: 56/1000000
Postâ€expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:3485-0!*!0!!*!*!* and timestamp 20161215191209 and revision id 8948
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Legacy:Unrealscript_Reflection?oldid=8948">https://wiki.beyondunreal.com/Legacy:Unrealscript_Reflection?oldid=8948</a>"</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-legacy" class="selected"><a href="Legacy_Unrealscript_Reflection.html">Legacy</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Legacy_talk:Unrealscript_Reflection?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Legacy:Unrealscript_Reflection" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Legacy:Unrealscript_Reflection" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AUnrealscript+Reflection&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AUnrealscript+Reflection" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Legacy:Unrealscript_Reflection" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Legacy:Unrealscript_Reflection" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Legacy:Unrealscript_Reflection?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Legacy:Unrealscript_Reflection?oldid=8948" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Legacy:Unrealscript_Reflection" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 13:52, 21 June 2005.</li>
									<li id="copyright">Licensed as <a href="Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":84});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Legacy:Unrealscript_Reflection by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 10:56:09 GMT -->
</html>
