<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Legacy:Node_Count/MergingDebate by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 19:40:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Legacy:Node Count/MergingDebate - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Node_Count/MergingDebate" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Node_Count/MergingDebate" />
<link rel="shortcut icon" href="../w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="../w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="../w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="MergingDebate.html" />
<link rel="copyright" href="../Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="../w/load6852.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="../w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="../w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Legacy","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Legacy:Node_Count/MergingDebate","wgTitle":"Node Count/MergingDebate","wgCurRevisionId":5457,"wgRevisionId":5457,"wgArticleId":2256,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:Node_Count/MergingDebate","wgRelevantArticleId":2256,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-100 ns-subject page-Legacy_Node_Count_MergingDebate skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>There is no spoon
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:Node Count/MergingDebate</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"><span class="subpages">&lt; <a href="../Legacy_Node_Count.html" title="Legacy:Node Count">Legacy:Node Count</a></span></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p><i>This is a pge for Tarquin &amp; Entropic &amp; anyone else who's interested to thrash out this nodecount / merging thing. See if we can work it out ourselves... and maybe call in the Epic cavalry if we can't.&#160;;-)</i></p>
<h2><span class="mw-headline" id="Definitions">Definitions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Node_Count/MergingDebate?section=1" title="Edit section: Definitions">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Just so we're talking about the same stuff....</p>
<dl>
<dt>Face</dt>
<dd>a maximal set of coplanar polygons of a brush. (mathematician terminology, sorry...)</dd>
<dt>Surface</dt>
<dd>a polygon entity that is selectable with a single click in 3D view</dd>
<dt>BSP Poly</dt>
<dd>(maybe not the right word...) An area of single colour in the Zone view. (this is what I *believe* is the nodecount... but that's another story)</dd>
<dt>Edge</dt>
<dd>the edge of either a surface or BSP poly</dd>
</dl>
<p>Ways to merge:</p>
<dl>
<dt>Polymerge&#160;</dt>
<dd>using the Polys -&gt; merge command on aligned surfaces &amp; then rebuilding</dd>
<dt>Clip&#160;</dt>
<dd>slice off the face to be merged</dd>
<dt>Intersect&#160;</dt>
<dd>while still at the red build brush stage, use world geometry to slice off the face to be merged.</dd>
</dl>
<h2><span class="mw-headline" id="Discussion_.3D">Discussion =</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Node_Count/MergingDebate?section=2" title="Edit section: Discussion =">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Exp_1">Exp 1</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Node_Count/MergingDebate?section=3" title="Edit section: Exp 1">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Shape: a square with the right-hand side split, and the new vertex brought in to the left till it's 1/4 of the width from the left side. The face is initially 3 surfaces.</p>
<ul>
<li>Intersect: 1 surface made of 2 BSP polys</li>
<li>Clip: 2 surfaces, each is a single BSP poly</li>
<li>Polymerge: 1 surface, 3 BSP polys.</li>
</ul>
<div class="center">
<div class="floatnone"><a href="../File_Legacy_polymerge.shape1.html" class="image"><img alt="Legacy polymerge.shape1.gif" src="../w/images/Legacy_polymerge.shape1.gif" width="268" height="101" /></a></div>
</div>
<p>In this particular case, no pair of the existing triangles can be merged to produce a convex shape, so the number of BSP polys isn't reduced by merging Nodecount when looking at this brush straight on is 4: 3 polys for the brush &amp; the subtract in the background. Hence for this shape, polymerging is merely a convenience to the mapper &amp; has no impact on the engine.</p>
<p>On the other hand, the other two methods produce an off-grid point.</p>
<dl>
<dd>I think I need a picture - I can't quite visualise the geometry your are using here. Good idea to create this page btw - keeps what's going to be a long and tortuous discussion (I suspect) out of the way. I'll repeat my extrusion experiments tonight and update this page with the pics. and results - <a href="../Legacy_EntropicLqd.html" title="Legacy:EntropicLqd">EntropicLqd</a>.
<dl>
<dd>tada! Piccy&#160;:) It's starting to seem like there's not one simple answer, different shapes benefit most from different techniques. N00bs in search of a one-size fits all holy grail answer are not gonna like this... lol! – <i>Tarquin</i></dd>
</dl>
</dd>
</dl>
<div class="center">
<div class="floatnone"><a href="../File_Legacy_archway_example.html" class="image"><img alt="Legacy archway example.gif" src="../w/images/Legacy_archway_example.gif" width="568" height="118" /></a></div>
</div>
<p>Here's a good one. Looking from left to right you have the original brush (a little redundant but I forgot to clip it out of the picture), the merged brush, the brush created using a clip, and the brush created using the subtract. For both the clipped and subtracted brush I used an intersected version of the brush to add them to the world. When viewed in game, I got the following results:</p>
<table border="0" cellspacing="0" cellpadding="4">
<tr>
<td>Brush type</td>
<td>Nodes</td>
<td>Polygons</td>
</tr>
<tr>
<td>Default extrusion</td>
<td>29</td>
<td>25</td>
</tr>
<tr>
<td>Merged polys</td>
<td>26</td>
<td>11</td>
</tr>
<tr>
<td>Clipped polys</td>
<td>23</td>
<td>16</td>
</tr>
<tr>
<td>Subtracted polys</td>
<td>26</td>
<td>9</td>
</tr>
</table>
<p>The implication of that is pretty interesting. It seems that as the number of points on the extruded face increases subtracting or clipping the face produces better results than simply merging the polys. The most interesting thing about the above example though is that the very best results would be achieved by merging the faces on the "clipped" brush. For some reason the clipped brush produces a more efficient set of Faces.</p>
<p>Something else I just tried - Zoning the level I built (essentially a cross roads with four large rooms to the north, south, east, and west). This changes the node count which lends weight to my theory that the node count is the total number of nodes within the BSP traversed rather than visible (which makes more sense to me from a performance monitoring point of view as well). Here's the post level zoning results</p>
<table border="0" cellspacing="0" cellpadding="4">
<tr>
<td>Brush type</td>
<td>Nodes</td>
<td>Polygons</td>
</tr>
<tr>
<td>Default extrusion</td>
<td>29</td>
<td>25</td>
</tr>
<tr>
<td>Merged polys</td>
<td>22</td>
<td>11</td>
</tr>
<tr>
<td>Clipped polys</td>
<td>21</td>
<td>16</td>
</tr>
<tr>
<td>Subtracted polys</td>
<td>21</td>
<td>9</td>
</tr>
</table>
<p>I did cheat a little as I set the BSP "minimise cuts/balance tree" weighting to 5 when I built the level.</p>
<p><b>Mosquito:</b>I read all this and it doesn't even have a conclusion, This Channel sucks. Now I'm gonna be bothered for weeks.</p>
<p><b>Tarquin:</b> Well.... the conclusion was, I think: "It depends on the type of shape. Clip and intersect cuts may have non-grid points, so that's an extra thing to watch for."</p>
<p><b>EntropicLqd:</b> It's more of a journey than a destination&#160;:) – To be honest this topic is somewhat moot now that everythings gone to static-mesh hell.</p>
<p><b>SuicideMissions{CLR}:</b> LOL. We know that the leaves of the BSP tree correspond to BSP Polys. If in the phrase "node:poly" ratio, "poly" refers to BSP Polys, then how could the ratio be anything other than 1:1? Therefore, *if* poly means BSP poly, then node MUST mean all nodes traversed in the tree. This also does make sense from a performance-stat point of view.</p>
<div class="center">
<div class="floatnone"><a href="../File_Legacy_BSPTreeNodes.html" class="image" title="Doggone near PROOF that &quot;Node Count&quot; refers to the number of nodes TRAVERSED in the BSP tree!. Count the traversed nodes (&quot;Node Count&quot;) vs. the leaf nodes (BSP Polys)."><img alt="Doggone near PROOF that &quot;Node Count&quot; refers to the number of nodes TRAVERSED in the BSP tree!. Count the traversed nodes (&quot;Node Count&quot;) vs. the leaf nodes (BSP Polys)." src="../w/images/Legacy_BSPTreeNodes.jpg" width="600" height="800" /></a></div>
</div>
<p>And that number 2 (as in 2:1) sounds suspiciously related to the BINARY/Logarithmic nature of BSP trees. A well balanced tree will have approximately a 2:1 ratio of traversal vs. leaves. Try it! Count nodes and leaves in those trees above! A 2:1 ratio gives you the most leaves for the fewest traversals possible for any non-trival tree. It happens when the tree is balanced.</p>

<!-- 
NewPP limit report
CPU time usage: 0.032 seconds
Real time usage: 0.040 seconds
Preprocessor visited node count: 13/1000000
Preprocessor generated node count: 20/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:2256-0!*!0!!*!5!* and timestamp 20161215153551 and revision id 5457
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Legacy:Node_Count/MergingDebate?oldid=5457">https://wiki.beyondunreal.com/Legacy:Node_Count/MergingDebate?oldid=5457</a>"</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-legacy" class="selected"><a href="MergingDebate.html">Legacy</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Legacy_talk:Node_Count/MergingDebate?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Legacy:Node_Count/MergingDebate" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Legacy:Node_Count/MergingDebate" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-anonuserpage"><a href="../User_188.162.37.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">188.162.37.3</a></li>
													<li id="pt-anontalk"><a href="../User_talk_188.162.37.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3ANode+Count%2FMergingDebate&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3ANode+Count%2FMergingDebate" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="../index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="../index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="../Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Legacy:Node_Count/MergingDebate" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Legacy:Node_Count/MergingDebate" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Legacy:Node_Count/MergingDebate?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Legacy:Node_Count/MergingDebate?oldid=5457" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Legacy:Node_Count/MergingDebate" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 07:28, 10 March 2005.</li>
									<li id="copyright">Licensed as <a href="../Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="../Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="../Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="../Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":72});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Legacy:Node_Count/MergingDebate by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 19:40:08 GMT -->
</html>
