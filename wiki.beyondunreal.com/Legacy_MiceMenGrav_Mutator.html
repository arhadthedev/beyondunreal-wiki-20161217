<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Legacy:MiceMenGrav_Mutator by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:56:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Legacy:MiceMenGrav Mutator - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator" />
<link rel="shortcut icon" href="w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Legacy_MiceMenGrav_Mutator.html" />
<link rel="copyright" href="Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="w/load2743.css?debug=false&amp;lang=en&amp;modules=ext.geshi.language.uscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Legacy","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Legacy:MiceMenGrav_Mutator","wgTitle":"MiceMenGrav Mutator","wgCurRevisionId":5376,"wgRevisionId":5376,"wgArticleId":2221,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Legacy Tutorial"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:MiceMenGrav_Mutator","wgRelevantArticleId":2221,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-100 ns-subject page-Legacy_MiceMenGrav_Mutator skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>There is no spoon
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:MiceMenGrav Mutator</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>MiceMenGrav: A Mutator Tutorial for <a href="Legacy_UT2003.html" title="Legacy:UT2003" class="mw-redirect">UT2003</a>.</p>
<ul>
<li>Coders: Wedge, <a href="Legacy_ThePelkus.html" title="Legacy:ThePelkus">ThePelkus</a></li>
<li>Author: <a href="Legacy_ThePelkus.html" title="Legacy:ThePelkus">ThePelkus</a></li>
</ul>
<p>This is a beginner level mutator development tutorial. The reader should have a basic knowledge of UnrealScript and should be able to make a basic mutator. This tutorial will help the reader understand potential uses for the following classes:</p>
<ul>
<li><a href="Legacy_Mutator.html" title="Legacy:Mutator">Mutator</a></li>
<li><a href="Legacy_GameRules.html" title="Legacy:GameRules">GameRules</a></li>
<li><a href="Legacy_GUIPage.html" title="Legacy:GUIPage">GUIPage</a></li>
<li><a href="Legacy_Inventory.html" title="Legacy:Inventory">Inventory</a></li>
</ul>
<p>This mutator was implemented in UT2003. We have no development experience on other versions of Unreal, so we are not sure how specific this code is to UT2003.</p>
<p></p>
<div id="toc" class="toc">
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Conceptual_Origins"><span class="tocnumber">1</span> <span class="toctext">Conceptual Origins</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Code_Download"><span class="tocnumber">2</span> <span class="toctext">Code Download</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Making_your_own_GameRules"><span class="tocnumber">3</span> <span class="toctext">Making your own GameRules</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Placing_your_rules_in_your_project"><span class="tocnumber">3.1</span> <span class="toctext">Placing your rules in your project</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Building_GravShot_into_our_custom_rules"><span class="tocnumber">3.2</span> <span class="toctext">Building GravShot into our custom rules</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Building_MiceMen_into_our_custom_rules"><span class="tocnumber">3.3</span> <span class="toctext">Building MiceMen into our custom rules</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Making_your_own_Mutator.2C_briefly"><span class="tocnumber">4</span> <span class="toctext">Making your own Mutator, briefly</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#PostBeginPlay.28.29"><span class="tocnumber">4.1</span> <span class="toctext">PostBeginPlay()</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#ModifyPlayer.28.29"><span class="tocnumber">4.2</span> <span class="toctext">ModifyPlayer()</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Making_your_own_Inventory_items"><span class="tocnumber">5</span> <span class="toctext">Making your own Inventory items</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Using_GUIPage_to_configure_your_muator.2C_super_briefly.21"><span class="tocnumber">6</span> <span class="toctext">Using GUIPage to configure your muator, super briefly!</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#Problems"><span class="tocnumber">7</span> <span class="toctext">Problems</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#Levitating_players"><span class="tocnumber">7.1</span> <span class="toctext">Levitating players</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Funny_skeletons"><span class="tocnumber">7.2</span> <span class="toctext">Funny skeletons</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#About_this_mutator"><span class="tocnumber">8</span> <span class="toctext">About this mutator</span></a></li>
</ul>
</div>
<p></p>
<h2><span class="mw-headline" id="Conceptual_Origins">Conceptual Origins</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator?section=1" title="Edit section: Conceptual Origins">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This mutator is the combination of two other mutators:</p>
<ul>
<li><i>MiceMen</i>, coded by Wedge, affects the player size based on the current configuration and the number of player kills.</li>
</ul>
<ul>
<li><i>GravMod</i>, coded by ThePelkus, draws players together when they attack each other.</li>
</ul>
<h2><span class="mw-headline" id="Code_Download">Code Download</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator?section=2" title="Edit section: Code Download">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>While snippets of the source are shown below when relevant, the full source is available <a rel="nofollow" class="external text" href="../kai.curtisforhire.com/downloads/micemengrav.zip">here</a>. While there is no candy surprise, there are plenty of comments to keep you in the know.</p>
<h2><span class="mw-headline" id="Making_your_own_GameRules">Making your own GameRules</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator?section=3" title="Edit section: Making your own GameRules">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The <a href="Legacy_GameRules.html" title="Legacy:GameRules">GameRules</a> class is easy to bend to your purposes. Like the <a href="Legacy_Mutator.html" title="Legacy:Mutator">Mutator</a> objects, the <a href="Legacy_GameRules.html" title="Legacy:GameRules">GameRules</a> objects live in a linked list. When the game needs to do something using the <a href="Legacy_GameRules.html" title="Legacy:GameRules">GameRules</a> objects, it recurses through the list, giving each object a chance to do its thing. Technically speaking, the game is not responsible for making sure that every object in the list gets its turn at bat – that's why you'll need lines like this one:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
	<span class="coMULTI">/* Sampled from a ModifyPlayer definition in a custom mutator */</span>
	<span class="co1">// If there is another mutator in the chain</span>
	<span class="kw2">if</span> <span class="br0">(</span> NextMutator <span class="sy0">!=</span> <span class="kw5">None</span> <span class="br0">)</span>
		<span class="co1">// Call this method in the next mutator; pass the same parameters</span>
		NextMutator.<span class="me0">ModifyPlayer</span><span class="br0">(</span>Other<span class="br0">)</span>;
</pre></div>
</div>
<p>Keeping this list structure in mind, all we need to do to have a little fun is derive our own rules and override some of the member functions!</p>
<h3><span class="mw-headline" id="Placing_your_rules_in_your_project">Placing your rules in your project</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator?section=4" title="Edit section: Placing your rules in your project">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Before you go overriding functions left and right, you want to incorporate your custom rules into your mutator so that you can check changes as you make them. As we just said, the hook for the engine is a chain of <a href="Legacy_GameRules.html" title="Legacy:GameRules">GameRules</a> objects that lives somewhere in the system. Specifically, this chain is accessed as <b>Level.Game.GameRulesModifiers</b> from any <a href="Legacy_Actor.html" title="Legacy:Actor">Actor</a> class. How convenient, then, that <a href="Legacy_Mutator.html" title="Legacy:Mutator">Mutator</a> is a subclass of <a href="Legacy_Actor.html" title="Legacy:Actor">Actor</a>!</p>
<p>To add your rules to the chain, just add the following code to PostBeginPlay() in the mutator that you derived from the <a href="Legacy_Mutator.html" title="Legacy:Mutator">Mutator</a> class:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="coMULTI">/* The following code assumes that you have a variable called myRules representing your rules; see MutMiceMen.uc for an example. */</span>
 
	<span class="co1">// Add the rules object to the list of GameRules in the game</span>
	<span class="kw2">if</span> <span class="br0">(</span> <span class="kw7">Level</span>.<span class="kw7">Game</span>.<span class="me0">GameRulesModifiers</span> <span class="sy0">==</span> <span class="kw5">None</span> <span class="br0">)</span>
		<span class="kw7">Level</span>.<span class="kw7">Game</span>.<span class="me0">GameRulesModifiers</span> <span class="sy0">=</span> myRules;
	<span class="kw2">else</span>
		<span class="kw7">Level</span>.<span class="kw7">Game</span>.<span class="me0">GameRulesModifiers</span>.<span class="me0">AddGameRules</span><span class="br0">(</span>myRules<span class="br0">)</span>;
</pre></div>
</div>
<h3><span class="mw-headline" id="Building_GravShot_into_our_custom_rules">Building GravShot into our custom rules</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator?section=5" title="Edit section: Building GravShot into our custom rules">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>We derived a class called MiceMenRules from <a href="Legacy_GameRules.html" title="Legacy:GameRules">GameRules</a> so that we could take advantage of some of the built-in functionality. In fact, almost all of the GravShot functionality lives in the NetDamage function of our custom rules.</p>
<p>As stated in the <a href="Legacy_GameRules.html" title="Legacy:GameRules">GameRules</a> page, the NetDamage function "<i>allows the GameRules to modify the damage (return value) and momentum. The OriginalDamage parameter should be passed to the next GameRules without any modifications.</i>" Technically, GravShot doesn't alter either of these values. But NetDamage also takes as parameters the attacking pawn (InstigatedBy) and the target pawn (Injureed). Using these two pawns, our rules:</p>
<ul>
<li>Calculate the normalized vector from the victim to the instigator</li>
</ul>
<dl>
<dd>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
            <span class="co1">// Get normalized vector from target to shooter</span>
</pre></div>
</div>
</dd>
</dl>
<p>myVec <span class="sy0">=</span> <span class="kw3">Normal</span><span class="br0">(</span>InstigatedBy.<span class="kw7">Location</span> <span class="sy0">-</span> Injured.<span class="kw7">Location</span><span class="br0">)</span>;</p>
<ul>
<li>Scale that vector</li>
</ul>
<dl>
<dd>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
		    <span class="co1">// Set up multiplier vector</span>
</pre></div>
</div>
</dd>
</dl>
<p>multVec.<span class="me0">x</span> <span class="sy0">=</span> mutInstance.<span class="me0">MovementMultiplier</span> <span class="sy0">*</span> <span class="nu0">100</span>; 		 multVec.<span class="me0">y</span> <span class="sy0">=</span> mutInstance.<span class="me0">MovementMultiplier</span> <span class="sy0">*</span> <span class="nu0">100</span>; 		 multVec.<span class="me0">z</span> <span class="sy0">=</span> mutInstance.<span class="me0">MovementMultiplier</span> <span class="sy0">*</span> <span class="nu0">100</span>; &#160; 		 <span class="co1">// scale normalized vector; better way?</span></p>
<p>myVec <span class="sy0">=</span> myVec <span class="sy0">*</span> multVec;</p>
<ul>
<li>Add the scaled vector to the victim's velocity.</li>
</ul>
<dl>
<dd>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
    		Injured.<span class="me0">AddVelocity</span><span class="br0">(</span>myVec<span class="br0">)</span>;
</pre></div>
</div>
</dd>
</dl>
<p>Note once again that, after all of the GravShot code, the NetDamage member of the next <a href="Legacy_GameRules.html" title="Legacy:GameRules">GameRules</a> object (if it exists) is called with the same parameters.</p>
<p>With this mutator active, the Injured pawn is moved towards the InstigatedBy pawn by some fixed amount. We'll see where this amount is set later when we look at the config menu. For practice you might try making the scaling factor situational e.g. scale based on distance or damage inflicted.</p>
<h3><span class="mw-headline" id="Building_MiceMen_into_our_custom_rules">Building MiceMen into our custom rules</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator?section=6" title="Edit section: Building MiceMen into our custom rules">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The MiceMen part of the mutator overrides the ScoreKill member of the rules. From the <a href="Legacy_GameRules.html" title="Legacy:GameRules">GameRules</a> page, we know that the ScoreKill function "<i>Augements the action taken when a player scores a kill. Not the score itself, but having to do with the Controllers involved in the Kill.</i>"</p>
<p>The following two lines of code are all that we added to the ScoreKill method:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span> <span class="br0">(</span>Killer <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>Killer.<span class="kw9">Pawn</span> <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span> <span class="br0">)</span>
		mutInstance.<span class="me0">ChangePlayerSize</span><span class="br0">(</span>Killer.<span class="kw9">Pawn</span>, mutInstance.<span class="me0">GetScaleFor</span><span class="br0">(</span>Killer.<span class="kw9">Pawn</span><span class="br0">)</span><span class="br0">)</span>;
</pre></div>
</div>
<p>In this case, the Killer parameter (a <a href="Legacy_Controller.html" title="Legacy:Controller">Controller</a>) is used for its associated pawn. This pawn is passed to ChangePlayerSize(), a custom function in our mutator, along with a scaling factor. The scaling factor is calculated using GetScaleFor(), yet another custom function in our mutator, which also takes the pawn associated with Killer as a parameter. Again, after our code is called, ScoreKill is called in the next <a href="Legacy_GameRules.html" title="Legacy:GameRules">GameRules</a> object.</p>
<p>Clearly a lot of the logic for MiceMen is included in the mutator, so let's take a look at that now!</p>
<h2><span class="mw-headline" id="Making_your_own_Mutator.2C_briefly">Making your own Mutator, briefly</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator?section=7" title="Edit section: Making your own Mutator, briefly">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Presumably you already have the basics of making a mutator down, so we're just going to show you what we did with ours.</p>
<h3><span class="mw-headline" id="PostBeginPlay.28.29">PostBeginPlay()</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator?section=8" title="Edit section: PostBeginPlay()">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Our PostBeginPlay() code is pretty standard, going through the following steps:</p>
<ol>
<li>Call method in parent class</li>
<li>Instantiate derived <a href="Legacy_GameRules.html" title="Legacy:GameRules">GameRules</a></li>
<li>Initialize mutator instance in derived <a href="Legacy_GameRules.html" title="Legacy:GameRules">GameRules</a></li>
<li>Add <a href="Legacy_GameRules.html" title="Legacy:GameRules">GameRules</a> to GameRulesModifiers linked list</li>
</ol>
<p>The only really odd step in there is Step 3. Because the mutator class contains functions and data needed for the MiceMen scaling in the rules, the rules contain an instance of the mutator. It may seem a little circular, but it works out fine.</p>
<h3><span class="mw-headline" id="ModifyPlayer.28.29">ModifyPlayer()</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator?section=9" title="Edit section: ModifyPlayer()">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The <a href="Legacy_Mutator.html" title="Legacy:Mutator">Mutator</a> page lists the following description for the ModifyPlayer() function:</p>
<blockquote class="legacyquote">
<p>This function can be used to update the player's inventory, speed, and other attributes. this function should always call ModifyPlayer() on the next mutator in the chain (a call to the superclass method would do the trick).</p>
</blockquote>
<p>We used ModifyPlayer() to do the following:</p>
<dl>
<dt>Scale the player&#160;</dt>
<dd>Player scaling is handled in our custom functions called <i>ChangePlayerSize()</i> and <i>GetScaleFor()</i>. The comments included in the code make the function self-explanatory. Unfortunately, we're uncertain as to whether certain functions are necessary.</dd>
</dl>
<dl>
<dt>Create a custom <a href="Legacy_Inventory.html" title="Legacy:Inventory">Inventory</a> item to scale the player's weapon&#160;</dt>
<dd>In order to make sure that the player's weapon model scales properly when weapons are switched, the player is given a WeaponScaler, a custom class we derived from <a href="Legacy_Inventory.html" title="Legacy:Inventory">Inventory</a>.</dd>
</dl>
<h2><span class="mw-headline" id="Making_your_own_Inventory_items">Making your own Inventory items</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator?section=10" title="Edit section: Making your own Inventory items">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In earlier revisions of this mutator, the player weapon would not resize to match the player scale when the player switched weapons. Our solution: we derived a class from <a href="Legacy_Inventory.html" title="Legacy:Inventory">Inventory</a> that would handle the resizing for us.</p>
<p>Our use of <a href="Legacy_Inventory.html" title="Legacy:Inventory">Inventory</a>-related functionality was very minimal. The <a href="Legacy_Inventory.html" title="Legacy:Inventory">Inventory</a> class has a method called <i>OwnerEvent</i>. This method is called - surprise, surprise - whenever an event is triggered in owner. Since we wanted to change the rescale the player weapon whenever the weapon was changed, we watched for an event called 'ChangedWeapon':</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> OwnerEvent<span class="br0">(</span><span class="kw5">name</span> EventName<span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw2">if</span><span class="br0">(</span>EventName <span class="sy0">==</span> <span class="st0">'ChangedWeapon'</span><span class="br0">)</span>
	<span class="br0">{</span>
	 <span class="kw9">WeaponAttachment</span><span class="br0">(</span><span class="kw7">Instigator</span>.<span class="kw9">Weapon</span>.<span class="me0">ThirdPersonActor</span><span class="br0">)</span>.<span class="kw4">SetCollisionSize</span><span class="br0">(</span><span class="kw9">WeaponAttachment</span><span class="br0">(</span><span class="kw7">Instigator</span>.<span class="kw9">Weapon</span>.<span class="me0">ThirdPersonActor</span><span class="br0">)</span>.<span class="kw1">Default</span>.<span class="kw7">CollisionRadius</span> <span class="sy0">*</span> <span class="kw7">Instigator</span>.<span class="kw7">DrawScale</span>, <span class="kw9">WeaponAttachment</span><span class="br0">(</span><span class="kw7">Instigator</span>.<span class="kw9">Weapon</span>.<span class="me0">ThirdPersonActor</span><span class="br0">)</span>.<span class="kw1">Default</span>.<span class="kw7">CollisionHeight</span> <span class="sy0">*</span> <span class="kw7">Instigator</span>.<span class="kw7">DrawScale</span><span class="br0">)</span>;
	 <span class="kw9">WeaponAttachment</span><span class="br0">(</span><span class="kw7">Instigator</span>.<span class="kw9">Weapon</span>.<span class="me0">ThirdPersonActor</span><span class="br0">)</span>.<span class="kw4">SetDrawScale</span><span class="br0">(</span><span class="kw9">WeaponAttachment</span><span class="br0">(</span><span class="kw7">Instigator</span>.<span class="kw9">Weapon</span>.<span class="me0">ThirdPersonActor</span><span class="br0">)</span>.<span class="kw1">Default</span>.<span class="kw7">DrawScale</span> <span class="sy0">*</span> <span class="kw7">Instigator</span>.<span class="kw7">DrawScale</span><span class="br0">)</span>;
    <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>When this event occurred, the collision and draw size were rescaled based on the player's DrawScale. Note that these properties were only set on the third person mesh as indicated by the use of <a href="Legacy_WeaponAttachment.html" title="Legacy:WeaponAttachment">WeaponAttachment</a> and <i>ThirdPersonActor</i> above. Also note that the player is referred to as <i>Instigator</i> since we need a <a href="Legacy_Pawn.html" title="Legacy:Pawn">Pawn</a> to get a <a href="Legacy_Weapon.html" title="Legacy:Weapon">weapon</a>.</p>
<h2><span class="mw-headline" id="Using_GUIPage_to_configure_your_muator.2C_super_briefly.21">Using GUIPage to configure your muator, super briefly!</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator?section=11" title="Edit section: Using GUIPage to configure your muator, super briefly!">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section is unnecessary as the information that would go here is explained perfectly well over in <a href="Legacy_Mutator_Config_GUI_(UT2003).html" title="Legacy:Mutator Config GUI (UT2003)">Mutator Config GUI (UT2003)</a>. In fact, most of the config code for this mutator was taken straight from the provided example code.</p>
<p>While <a href="Legacy_Mutator_Config_GUI_(UT2003).html" title="Legacy:Mutator Config GUI (UT2003)">Mutator Config GUI (UT2003)</a> is fairly complete in terms of explaining the connection between GUI items and mutator variables, it's also a good idea to look through the documentation on other classes in the <a href="Legacy_GUI_Class_Hierarchy.html" title="Legacy:GUI Class Hierarchy">GUI_Class_Hierarchy</a> to make sure you don't fall victim to the old problems of giant checkboxes and the like.</p>
<h2><span class="mw-headline" id="Problems">Problems</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator?section=12" title="Edit section: Problems">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>It's true - we're not perfect, which makes this problematic as a tutorial. Help us make this tutorial more useful for beginners by helping us catch the following bugs:</p>
<h3><span class="mw-headline" id="Levitating_players">Levitating players</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator?section=13" title="Edit section: Levitating players">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Just run around for a little while and it won't take long until you'll see some of the other players flying around in midair. It's been hard for us to establish exactly when this happens, so even figuring that out would be very useful.</p>
<p><b>Tricadex</b> - I think this is caused by problems with the collision box and crouching</p>
<h3><span class="mw-headline" id="Funny_skeletons">Funny skeletons</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator?section=14" title="Edit section: Funny skeletons">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Resizing players seems to do funny things to their corpses. We attempted to fix this problem using the <i>BoneRefresh()</i> method of the <a href="Legacy_Actor.html" title="Legacy:Actor">Actor</a> class, but it's not clear whether there are still funny effects.</p>
<p>Feel free to add comments to this page to help us fix these problems!</p>
<h2><span class="mw-headline" id="About_this_mutator">About this mutator</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator?section=15" title="Edit section: About this mutator">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The MiceMenGrav mutator is a class project from the <a rel="nofollow" class="external text" href="http://www.bcc.ctc.edu/">Bellevue Community College</a> <a rel="nofollow" class="external text" href="http://gaming.bcc.ctc.edu/">gaming curriculum</a> in Bellevue, WA. This program is also responsible for the <a href="Legacy_VampireShoppers.html" title="Legacy:VampireShoppers">VampireShoppers</a> mutator.</p>
<hr />
<pre>
<a href="Category_Legacy_Tutorial.html" title="Category:Legacy Tutorial">Category:Legacy Tutorial</a>
</pre>
<!-- 
NewPP limit report
CPU time usage: 0.111 seconds
Real time usage: 0.113 seconds
Preprocessor visited node count: 134/1000000
Preprocessor generated node count: 265/1000000
Post‐expand include size: 567/2097152 bytes
Template argument size: 226/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    3.104      1 - -total
100.00%    3.104      1 - Template:Innerbox
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:2221-0!*!0!!en!*!* and timestamp 20161215142741 and revision id 5376
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Legacy:MiceMenGrav_Mutator?oldid=5376">https://wiki.beyondunreal.com/Legacy:MiceMenGrav_Mutator?oldid=5376</a>"</div>
					<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.beyondunreal.com/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="Category_Legacy_Tutorial.html" title="Category:Legacy Tutorial">Legacy Tutorial</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-legacy" class="selected"><a href="Legacy_MiceMenGrav_Mutator.html">Legacy</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Legacy_talk:MiceMenGrav_Mutator?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Legacy:MiceMenGrav_Mutator" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Legacy:MiceMenGrav_Mutator" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AMiceMenGrav+Mutator&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AMiceMenGrav+Mutator" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Legacy:MiceMenGrav_Mutator" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Legacy:MiceMenGrav_Mutator" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Legacy:MiceMenGrav_Mutator?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Legacy:MiceMenGrav_Mutator?oldid=5376" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Legacy:MiceMenGrav_Mutator" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 10:30, 30 August 2005.</li>
									<li id="copyright">Licensed as <a href="Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":98});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Legacy:MiceMenGrav_Mutator by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:56:30 GMT -->
</html>
