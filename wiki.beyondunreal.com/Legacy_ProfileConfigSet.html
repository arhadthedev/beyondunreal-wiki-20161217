<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Legacy:ProfileConfigSet by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 10:55:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Legacy:ProfileConfigSet - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:ProfileConfigSet" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:ProfileConfigSet" />
<link rel="shortcut icon" href="w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Legacy_ProfileConfigSet.html" />
<link rel="copyright" href="Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="w/load2743.css?debug=false&amp;lang=en&amp;modules=ext.geshi.language.uscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Legacy","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Legacy:ProfileConfigSet","wgTitle":"ProfileConfigSet","wgCurRevisionId":5925,"wgRevisionId":5925,"wgArticleId":2466,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:ProfileConfigSet","wgRelevantArticleId":2466,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-100 ns-subject page-Legacy_ProfileConfigSet skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>I search for solutions in this order: Past Code, Unreal Source, Wiki, BUF, groups.yahoo, google, screaming at monitor. &#8211;Â RegularX
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:ProfileConfigSet</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="infobox infobox-class infobox-legacy"><a href="Legacy_UT2003.html" title="Legacy:UT2003" class="mw-redirect">UT2003</a>&#160;:: <a href="Legacy_Object.html" title="Legacy:Object">Object</a> &gt;&gt; ProfileConfigSet (<a href="Legacy_Ladder1.html" title="Legacy:Ladder1.46">Ladder1.46</a>)</div>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<ol>
<li class="li1">
<pre class="de1">
<span class="co1">//-----------------------------------------------------------</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Ladder.ProfileConfigSet</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Loosely (very loosely) based on GameConfigSet</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// ProfileConfigSet is, in essence, a primitive database program which</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// stores and retrieves not only numerous different "GameConfigSet"</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// profiles, but map, mutator, serveractor and accesscontrol information as well.</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//-----------------------------------------------------------</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">class</span> ProfileConfigSet <span class="kw1">extends</span> <span class="kw8">Object</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">Config</span><span class="br0">(</span>System<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	PerObjectConfig;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">const</span> LOGNAME <span class="sy0">=</span> <span class="st0">'ProfileConfigSet'</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// Variables that are used globally</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> LevelInfo							<span class="kw7">Level</span>;			<span class="co1">// Need access to Level object</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">protected</span> <span class="kw5">string</span>					AllMapsPrefix;	<span class="co1">// Which map prefix is currently loaded</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">protected</span> array<span class="sy0">&lt;</span> class<span class="sy0">&lt;</span>GameInfo<span class="sy0">&gt;</span> <span class="sy0">&gt;</span>	AllGameTypes;	<span class="co1">// All valid gametypes</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">protected</span> <span class="kw1">config</span> <span class="kw5">string</span> 			DefaultGameType;<span class="co1">// The gametype for this profile</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">var</span> <span class="kw1">protected</span> class<span class="sy0">&lt;</span>AccessControl<span class="sy0">&gt;</span> 		AC<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;		<span class="co1">// The access control class</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">protected</span> GameConfigSet 			RealConfigSet;	<span class="co1">// Actual gameconfigset used by the game</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">protected</span> class<span class="sy0">&lt;</span>GameInfo<span class="sy0">&gt;</span>			Game<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;		<span class="co1">// Which game class is used by this profile</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">protected</span> <span class="kw8">PlayInfo</span>					PInfo;			<span class="co1">// PlayInfo for currently active GameType, AccessControl Class, and Active Mutators</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">var</span> <span class="kw1">protected</span> MapList					Maps;			<span class="co1">// Maps currently in rotation</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Regarding ServerActors</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">struct</span> ProfileSA <span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
						<span class="kw1">var</span> <span class="kw5">string</span>		Actor<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li2">
<pre class="de2">
						<span class="kw1">var</span> <span class="kw5">bool</span>		bRequired; <span class="br0">}</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">config</span> array<span class="sy0">&lt;</span>ProfileSA<span class="sy0">&gt;</span>				AllServerActors;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">config</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span>				ProfileServerActors;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">protected</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span>				GameServerActors;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">protected</span> StringArray				ActiveServerActors;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Regarding Maps</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">struct</span> ProfileMap <span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
						<span class="kw1">var</span> <span class="kw5">string</span> 		MapName;
</pre></li>
<li class="li1">
<pre class="de1">
						<span class="kw1">var</span> <span class="kw5">int</span>			MapListOrder;
</pre></li>
<li class="li2">
<pre class="de2">
						<span class="kw1">var</span> <span class="kw5">bool</span> 		bRequired; <span class="br0">}</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">config</span> <span class="kw5">int</span> 							MaxMaps;				<span class="co1">// Maximum maps allowed in maplist</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">protected</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> 			GameMaps;				<span class="co1">// List of all maps for this gametype that exist on server</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">protected</span> <span class="kw1">config</span> array<span class="sy0">&lt;</span>ProfileMap<span class="sy0">&gt;</span>	AllMaps;				<span class="co1">// List of all maps that could be used by this profile</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">protected</span> <span class="kw1">config</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span>		ProfileMaps;			<span class="co1">// List of all maps that are included in the maplist for this profile</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">var</span> <span class="kw1">protected</span> StringArray				ActiveMaps;				<span class="co1">// StringArray of ProfileMaps</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Regarding Mutators</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">struct</span> ProfileMutator <span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
						<span class="kw1">var</span> <span class="kw5">string</span> 			MutatorName;
</pre></li>
<li class="li2">
<pre class="de2">
						<span class="kw1">var</span> <span class="kw5">bool</span> 			bRequired; <span class="br0">}</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw5">string</span> 									NextMutators;			<span class="co1">// What mutators were set during this session</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">protected</span> array<span class="sy0">&lt;</span><span class="kw8">xUtil</span>.<span class="me0">MutatorRecord</span><span class="sy0">&gt;</span>	GameMutators;			<span class="co1">// List of all mutators that exist on server</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">protected</span> <span class="kw1">config</span> array<span class="sy0">&lt;</span>ProfileMutator<span class="sy0">&gt;</span>	AllMutators;			<span class="co1">// List of all mutators that could be used this profile</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">protected</span> <span class="kw1">config</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> 			ProfileMutators;		<span class="co1">// Mutators that will be loaded by this profile</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">var</span> <span class="kw1">protected</span> StringArray					ActiveMutators;			<span class="co1">// StringArray of ProfileMutators</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Regarding PlayInfo</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">protected</span> <span class="kw1">config</span> <span class="kw5">string</span>					Access<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">struct</span> ProfileSetting <span class="br0">{</span>	<span class="kw1">var</span> <span class="kw5">string</span> 			SettingName;
</pre></li>
<li class="li2">
<pre class="de2">
						<span class="kw1">var</span> <span class="kw5">string</span> 			SettingValue; <span class="br0">}</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">protected</span> <span class="kw1">config</span> array<span class="sy0">&lt;</span>ProfileSetting<span class="sy0">&gt;</span> 	ProfileSettings;	<span class="co1">// Stored Profile Settings which include non-active mutators PlayInfo</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">protected</span> array<span class="sy0">&lt;</span>ProfileSetting<span class="sy0">&gt;</span> 		ActiveSettings;		<span class="co1">// Representation of stored profile settings including only active mutators</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Whether we are currently editing something</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">var</span> <span class="kw1">protected</span> <span class="kw5">bool</span> 							bEdit;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Localized strings</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">localized</span> <span class="kw5">string</span>	ErrorNoGameType;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">localized</span> <span class="kw5">string</span>	SavingToFile;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">var</span> <span class="kw1">localized</span> <span class="kw5">string</span>	DidNotStartEdit;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> Init<span class="br0">(</span>LevelInfo Lv, <span class="kw1">optional</span> <span class="kw5">string</span> GameType, <span class="kw1">optional</span> <span class="kw5">string</span> AC<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>Lv<span class="sy0">==</span><span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw7">Level</span> <span class="sy0">=</span> Lv;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>GameType<span class="sy0">!=</span><span class="st0">""</span><span class="br0">)</span> DefaultGameType <span class="sy0">=</span> GameType;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>AC <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span> AccessClass <span class="sy0">=</span> AC;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">else</span> AccessClass <span class="sy0">=</span> <span class="kw7">Level</span>.<span class="kw7">Game</span>.<span class="me0">AccessControl</span><span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li1">
<pre class="de1">
	AllMapsPrefix <span class="sy0">=</span> FindGameType<span class="br0">(</span>DefaultGameType<span class="br0">)</span>.<span class="kw1">default</span>.<span class="me0">MapPrefix</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// Make sure that none of the configured mutators have been removed from this server</span>
</pre></li>
<li class="li1">
<pre class="de1">
	ValidateProfile<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> Cleanup<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// Destroy any references to actors</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span><span class="kw7">Level</span> <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw7">Level</span><span class="sy0">=</span><span class="kw5">None</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>ActiveMaps <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ActiveMaps <span class="sy0">=</span> <span class="kw5">None</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>Maps <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		Maps <span class="sy0">=</span> <span class="kw5">None</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">function</span> ValidateProfile<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	ValidateAllMutators<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	ValidateAllMaps<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	ValidateAllServerActors<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> ValidateAllMutators<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> class<span class="sy0">&lt;</span>Mutator<span class="sy0">&gt;</span> 	TempMut<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>;i <span class="sy0">&lt;</span> AllMutators.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		TempMutClass <span class="sy0">=</span> class<span class="sy0">&lt;</span>Mutator<span class="sy0">&gt;</span><span class="br0">(</span><span class="kw3">DynamicLoadObject</span><span class="br0">(</span>AllMutators<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MutatorName</span>, <span class="kw1">Class</span><span class="st0">'class'</span><span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span>TempMutClass <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw3">log</span><span class="br0">(</span><span class="st0">"Mutator class '"</span><span class="sy0">$</span>AllMutators<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MutatorName</span><span class="sy0">$</span><span class="st0">"' has been removed from this server.  Removing mutator from current profile."</span>,LOGNAME<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			AllMutators.<span class="me0">Remove</span><span class="br0">(</span>i<span class="sy0">--</span>,<span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw3">SaveConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> ValidateAllMaps<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i, j;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	LoadAllMaps<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>;i <span class="sy0">&lt;</span> AllMaps.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">for</span> <span class="br0">(</span>j <span class="sy0">=</span> <span class="nu0">0</span>;j <span class="sy0">&lt;</span> GameMaps.<span class="me0">Length</span>;j<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">if</span> <span class="br0">(</span>GameMaps<span class="br0">[</span>j<span class="br0">]</span> ~<span class="sy0">=</span> AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MapName</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">break</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span>j <span class="sy0">==</span> GameMaps.<span class="me0">Length</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw3">log</span><span class="br0">(</span><span class="st0">"Map '"</span><span class="sy0">$</span>AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MapName</span><span class="sy0">$</span><span class="st0">"' has been removed from this server. Removing map from profile."</span>,LOGNAME<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			AllMaps.<span class="me0">Remove</span><span class="br0">(</span>i<span class="sy0">--</span>,<span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw3">SaveConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> ValidateAllServerActors<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> class<span class="sy0">&lt;</span>Info<span class="sy0">&gt;</span> TempSA;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>AllServerActors.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		TempSA <span class="sy0">=</span> class<span class="sy0">&lt;</span>Info<span class="sy0">&gt;</span><span class="br0">(</span><span class="kw3">DynamicLoadObject</span><span class="br0">(</span>AllServerActors<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">ActorClass</span>,<span class="kw1">Class</span><span class="st0">'Class'</span><span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>TempSA <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw3">log</span><span class="br0">(</span><span class="st0">"ServerActor '"</span><span class="sy0">$</span>AllServerActors<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">ActorClass</span><span class="sy0">$</span><span class="st0">"' does not exist on this server.  Removing ServerActor from profile."</span>,LOGNAME<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
			AllServerActors.<span class="me0">Remove</span><span class="br0">(</span>i<span class="sy0">--</span>,<span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw3">SaveConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> StartEdit<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="kw7">Level</span> <span class="sy0">==</span> <span class="kw5">None</span> <span class="sy0">||</span> bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	bEdit <span class="sy0">=</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>PInfo <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		PInfo <span class="sy0">=</span> <span class="kw1">New</span><span class="br0">(</span><span class="kw5">None</span><span class="br0">)</span> <span class="kw1">class</span><span class="st0">'PlayInfo'</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>AllGameTypes.<span class="me0">Length</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		LoadGameTypes<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	GameClass <span class="sy0">=</span> FindGameType<span class="br0">(</span>DefaultGameType<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>GameClass <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span>ErrorNoGameType<span class="sy0">$</span>DefaultGameType<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span>AccessClass <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ACClass <span class="sy0">=</span> class<span class="sy0">&lt;</span>AccessControl<span class="sy0">&gt;</span><span class="br0">(</span><span class="kw3">DynamicLoadObject</span><span class="br0">(</span>AccessClass, <span class="kw1">class</span><span class="st0">'class'</span><span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="kw7">Level</span> <span class="sy0">!=</span> <span class="kw5">None</span> <span class="sy0">&amp;&amp;</span> <span class="kw7">Level</span>.<span class="kw7">Game</span> <span class="sy0">!=</span> <span class="kw5">None</span> <span class="sy0">&amp;&amp;</span> <span class="kw7">Level</span>.<span class="kw7">Game</span>.<span class="me0">AccessControl</span> <span class="sy0">!=</span> <span class="kw5">None</span> <span class="sy0">&amp;&amp;</span> AccessControlIni<span class="br0">(</span><span class="kw7">Level</span>.<span class="kw7">Game</span>.<span class="me0">AccessControl</span><span class="br0">)</span> <span class="sy0">!=</span> <span class="kw5">None</span> <span class="sy0">&amp;&amp;</span> AccessControlIni<span class="br0">(</span><span class="kw7">Level</span>.<span class="kw7">Game</span>.<span class="me0">AccessControl</span><span class="br0">)</span>.<span class="me0">ConfigSet</span> <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		RealConfigSet <span class="sy0">=</span> AccessControlIni<span class="br0">(</span><span class="kw7">Level</span>.<span class="kw7">Game</span>.<span class="me0">AccessControl</span><span class="br0">)</span>.<span class="me0">ConfigSet</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>ActiveMutators <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ActiveMutators <span class="sy0">=</span> <span class="kw1">new</span><span class="br0">(</span><span class="kw5">None</span><span class="br0">)</span> <span class="kw1">class</span><span class="st0">'SortedStringArray'</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>ActiveMaps <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ActiveMaps <span class="sy0">=</span> <span class="kw1">new</span><span class="br0">(</span><span class="kw5">None</span><span class="br0">)</span> <span class="kw1">class</span><span class="st0">'StringArray'</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span>ActiveServerActors <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ActiveServerActors <span class="sy0">=</span> <span class="kw1">new</span><span class="br0">(</span><span class="kw5">None</span><span class="br0">)</span> <span class="kw1">class</span><span class="st0">'SortedStringArray'</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	NextMutators <span class="sy0">=</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	LoadAllMaps<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>GameMutators.<span class="me0">Length</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		LoadAllMutators<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	LoadAllServerActors<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	SetUsedMaps<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	SetUsedMutators<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	SetUsedServerActors<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// Load Game Setting</span>
</pre></li>
<li class="li2">
<pre class="de2">
	LoadSettings<span class="br0">(</span>GameClass<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	AllMapsPrefix <span class="sy0">=</span> GameClass.<span class="kw1">default</span>.<span class="me0">MapPrefix</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">function</span> <span class="kw5">bool</span> EndEdit<span class="br0">(</span><span class="kw5">bool</span> bSave, <span class="kw1">optional</span> <span class="kw5">bool</span> bQuiet<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="kw7">Level</span> <span class="sy0">==</span> <span class="kw5">None</span> <span class="sy0">||</span> <span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="co1">// Save all data where it belongs</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>bSave<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bQuiet<span class="br0">)</span> <span class="kw3">Log</span><span class="br0">(</span><span class="kw5">Name</span><span class="sy0">@</span>SavingToFile<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
		SaveUsedMaps<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		SaveUsedMutators<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		SaveUsedServerActors<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">SaveConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	bEdit <span class="sy0">=</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">function</span> ReplaceWith<span class="br0">(</span>ProfileConfigSet SourcePCS<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"ReplaceWith()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span>SourcePCS.<span class="me0">GetGameClass</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		Wipe<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		DefaultGameType <span class="sy0">=</span> <span class="kw5">string</span><span class="br0">(</span>SourcePCS.<span class="me0">GetGameClass</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		GameClass <span class="sy0">=</span> FindGameType<span class="br0">(</span>DefaultGameType<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		AccessClass <span class="sy0">=</span> SourcePCS.<span class="me0">GetAccessControl</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		ACClass <span class="sy0">=</span> SourcePCS.<span class="me0">GetAccessClass</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		AllMapsPrefix <span class="sy0">=</span> GameClass.<span class="kw1">default</span>.<span class="me0">MapPrefix</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		MaxMaps <span class="sy0">=</span> SourcePCS.<span class="me0">MaxMaps</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
		AllMaps <span class="sy0">=</span> SourcePCS.<span class="me0">GetProfileMaps</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		AllMutators <span class="sy0">=</span> SourcePCS.<span class="me0">GetProfileMutators</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		AllServerActors <span class="sy0">=</span> SourcePCS.<span class="me0">GetProfileServerActors</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		ProfileMaps <span class="sy0">=</span> SourcePCS.<span class="me0">GetUsedMaps</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		ProfileMutators <span class="sy0">=</span> SourcePCS.<span class="me0">GetUsedMutators</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		ProfileServerActors <span class="sy0">=</span> SourcePCS.<span class="me0">GetUsedServerActors</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		ProfileSettings.<span class="me0">Length</span> <span class="sy0">=</span> SourcePCS.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i <span class="sy0">&lt;</span> SourcePCS.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			SetProfileParam<span class="br0">(</span>i, SourcePCS.<span class="me0">GetProfileParamName</span><span class="br0">(</span>i<span class="br0">)</span>, SourcePCS.<span class="me0">GetProfileParam</span><span class="br0">(</span>i<span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
		LoadSettings<span class="br0">(</span>GameClass<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> CanEdit<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="sy0">!</span>bEdit;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// This profile was deleted, but PerObjectConfig config values cannot be completely removed from .ini (that I know of)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// We can, however, make the ini entry for this object as small as possible until it is reused.</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">final</span> <span class="kw1">function</span> Wipe<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//log("Wiping Profile"@Name);</span>
</pre></li>
<li class="li1">
<pre class="de1">
	ActiveMaps.<span class="kw4">Reset</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	ActiveMutators.<span class="kw4">Reset</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	MaxMaps <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	ProfileMaps.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	AllMaps.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	ProfileMutators.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	AllMutators.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	ProfileServerActors.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	AllServerActors.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	ProfileSettings.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	ActiveSettings.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	DefaultGameType <span class="sy0">=</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	AccessClass <span class="sy0">=</span> <span class="st0">""</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	AllMapsPrefix <span class="sy0">=</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	NextMutators <span class="sy0">=</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	GameClass <span class="sy0">=</span> <span class="kw5">None</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	ACClass <span class="sy0">=</span> <span class="kw5">None</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	Maps <span class="sy0">=</span> <span class="kw5">None</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">///////////////////////////////////////////////////////////////////</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// Public GameType Information</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">///////////////////////////////////////////////////////////////////</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> SetGameType<span class="br0">(</span><span class="kw1">optional</span> <span class="kw5">string</span> NewGameType<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">string</span> OldGameType;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"SetGameType()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	OldGameType <span class="sy0">=</span> DefaultGameType;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>NewGameType<span class="sy0">==</span><span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
		NewGameType<span class="sy0">=</span>DefaultGameType;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">else</span> DefaultGameType <span class="sy0">=</span> NewGameType;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>AllGameTypes.<span class="me0">Length</span><span class="sy0">==</span><span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		LoadGameTypes<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	GameClass <span class="sy0">=</span> FindGameType<span class="br0">(</span>NewGameType<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>GameClass <span class="sy0">!=</span> <span class="kw5">None</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>NewGameType <span class="sy0">!=</span> OldGameType<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		AllMapsPrefix <span class="sy0">=</span> GameClass.<span class="kw1">default</span>.<span class="me0">MapPrefix</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		ClearUsedMaps<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		ClearAllMaps<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		ClearProfile<span class="br0">(</span>ProfileSettings<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		LoadSettings<span class="br0">(</span>GameClass<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">function</span> class<span class="sy0">&lt;</span>GameInfo<span class="sy0">&gt;</span> GetGameClass<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>GameClass <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> Game<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> <span class="kw5">None</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">string</span> GetGameAcronym<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span>GameClass <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> GameClass.<span class="kw1">default</span>.<span class="me0">Acronym</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">string</span> GetAccessControl<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> Access<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> class<span class="sy0">&lt;</span>AccessControl<span class="sy0">&gt;</span> GetAccessClass<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>ACClass <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> AC<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> <span class="kw5">None</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">/////////////////////////////////////////////////////////////</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Public MapList Functions</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">/////////////////////////////////////////////////////////////</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> AddProfileMap<span class="br0">(</span><span class="kw5">string</span> MapMask, <span class="kw5">bool</span> bRequired<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> ProfileMap tmp;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"AddProfileMap()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>AllMaps.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MapName</span> ~<span class="sy0">=</span> MapMask<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">bRequired</span> <span class="sy0">=</span> bRequired;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>GameMaps.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>MapMask ~<span class="sy0">=</span> GameMaps<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
			tmp.<span class="me0">MapName</span> <span class="sy0">=</span> GameMaps<span class="br0">[</span>i<span class="br0">]</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			tmp.<span class="me0">bRequired</span> <span class="sy0">=</span> bRequired;
</pre></li>
<li class="li1">
<pre class="de1">
			AllMaps<span class="br0">[</span>AllMaps.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> tmp;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">function</span> <span class="kw5">bool</span> DelProfileMap<span class="br0">(</span><span class="kw5">string</span> MapName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> Str;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"DelProfileMap()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>AllMaps.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		Str <span class="sy0">=</span> AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MapName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>Str ~<span class="sy0">=</span> MapName<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			AllMaps.<span class="me0">Remove</span><span class="br0">(</span>i, <span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			SetUsedMaps<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">function</span> <span class="kw5">string</span> AddMap<span class="br0">(</span><span class="kw5">string</span> MapMask, <span class="kw5">int</span> Order<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i, j, k;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">bool</span> bFound;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"AddMaps()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	k <span class="sy0">=</span> ActiveMaps.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i<span class="sy0">&lt;</span>AllMaps.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MapName</span> ~<span class="sy0">=</span> MapMask<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="co1">// Found a matching map, see if its already in the Used Maps list</span>
</pre></li>
<li class="li1">
<pre class="de1">
			bFound <span class="sy0">=</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">for</span> <span class="br0">(</span>j <span class="sy0">=</span> <span class="nu0">0</span>; j <span class="sy0">&lt;</span> k; j<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
				<span class="kw2">if</span> <span class="br0">(</span>ActiveMaps.<span class="me0">GetTag</span><span class="br0">(</span>j<span class="br0">)</span> ~<span class="sy0">=</span> AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MapName</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
					bFound <span class="sy0">=</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
					AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MapListOrder</span> <span class="sy0">=</span> Order;
</pre></li>
<li class="li1">
<pre class="de1">
					<span class="kw2">break</span>;
</pre></li>
<li class="li2">
<pre class="de2">
				<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bFound <span class="sy0">&amp;&amp;</span> <span class="br0">(</span><span class="br0">(</span>MaxMaps <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span> <span class="sy0">||</span> <span class="br0">(</span>k <span class="sy0">&lt;</span> MaxMaps<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
				AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MapListOrder</span> <span class="sy0">=</span> ActiveMaps.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				ActiveMaps.<span class="me0">Add</span><span class="br0">(</span><span class="kw5">string</span><span class="br0">(</span>i<span class="br0">)</span>, AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MapName</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">return</span> AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MapName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">string</span> RemoveMap<span class="br0">(</span><span class="kw5">string</span> MapName<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> TempStr;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"RemoveMaps()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>; i<span class="sy0">&lt;</span>ActiveMaps.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		TempStr <span class="sy0">=</span> ActiveMaps.<span class="me0">GetTag</span><span class="br0">(</span>i<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>TempStr ~<span class="sy0">=</span> MapName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			ActiveMaps.<span class="me0">Remove</span><span class="br0">(</span>i<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw2">return</span> TempStr;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> FindMaps<span class="br0">(</span><span class="kw5">string</span> MapMask<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> FoundMasks, FoundMaps;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i, j, k;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">bool</span> bFound;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">class</span><span class="st0">'wUtils103.wString'</span>.<span class="kw1">static</span>.<span class="me0">Split2</span><span class="br0">(</span>MapMask, <span class="st0">" "</span>, FoundMasks<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>FoundMasks.<span class="me0">Length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i<span class="sy0">&lt;</span>AllMaps.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">for</span> <span class="br0">(</span>j <span class="sy0">=</span> <span class="nu0">0</span>; j<span class="sy0">&lt;</span>FoundMasks.<span class="me0">Length</span>; j<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">if</span> <span class="br0">(</span><span class="kw1">class</span><span class="st0">'wUtils103.wString'</span>.<span class="kw1">static</span>.<span class="me0">MaskedCompare</span><span class="br0">(</span>AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MapName</span>, FoundMasks<span class="br0">[</span>j<span class="br0">]</span><span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
				<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
					<span class="co1">// Found a matching map, see if its already in the Used Maps list</span>
</pre></li>
<li class="li1">
<pre class="de1">
					bFound <span class="sy0">=</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
					<span class="kw2">for</span> <span class="br0">(</span>k <span class="sy0">=</span> <span class="nu0">0</span>; k<span class="sy0">&lt;</span>ActiveMaps.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>; k<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
					<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
						<span class="kw2">if</span> <span class="br0">(</span>ActiveMaps.<span class="me0">GetTag</span><span class="br0">(</span>k<span class="br0">)</span> ~<span class="sy0">=</span> AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MapName</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
						<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
							bFound <span class="sy0">=</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
							<span class="kw2">break</span>;
</pre></li>
<li class="li1">
<pre class="de1">
						<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
					<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
					<span class="kw2">if</span> <span class="br0">(</span>bFound<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
						FoundMaps<span class="br0">[</span>FoundMaps.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> <span class="st0">"+"</span><span class="sy0">$</span>AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MapName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
					<span class="kw2">else</span>
</pre></li>
<li class="li2">
<pre class="de2">
						FoundMaps<span class="br0">[</span>FoundMaps.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MapName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
					<span class="kw2">break</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> FoundMaps;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">function</span> MapList GetMaps<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>Maps<span class="sy0">==</span><span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>GameClass<span class="sy0">==</span><span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
			GameClass<span class="sy0">=</span>class<span class="sy0">&lt;</span>GameInfo<span class="sy0">&gt;</span><span class="br0">(</span><span class="kw3">DynamicLoadObject</span><span class="br0">(</span>DefaultGameType, <span class="kw1">class</span><span class="st0">'Class'</span><span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
		Maps <span class="sy0">=</span> <span class="kw7">Level</span>.<span class="kw7">Game</span>.<span class="me0">GetMapList</span><span class="br0">(</span>AllMapsPrefix<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> Maps;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> GetUsedMaps<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span>	Strings;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>ActiveMaps <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ActiveMaps <span class="sy0">=</span> <span class="kw1">new</span><span class="br0">(</span><span class="kw5">None</span><span class="br0">)</span> <span class="kw1">class</span><span class="st0">'StringArray'</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i<span class="sy0">&lt;</span>ActiveMaps.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		Strings<span class="br0">[</span>Strings.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> ActiveMaps.<span class="me0">GetTag</span><span class="br0">(</span>i<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> Strings;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> GetUnusedMaps<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> Strings;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>ActiveMaps <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ActiveMaps <span class="sy0">=</span> <span class="kw1">new</span><span class="br0">(</span><span class="kw5">None</span><span class="br0">)</span> <span class="kw1">class</span><span class="st0">'StringArray'</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	Strings.<span class="me0">Length</span> <span class="sy0">=</span> AllMaps.<span class="me0">Length</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i<span class="sy0">&lt;</span>AllMaps.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		Strings<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">=</span> AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MapName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// Tag all used mutators</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i<span class="sy0">&lt;</span>ActiveMaps.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		Strings<span class="br0">[</span><span class="kw5">int</span><span class="br0">(</span>ActiveMaps.<span class="me0">GetItem</span><span class="br0">(</span>i<span class="br0">)</span><span class="br0">)</span><span class="br0">]</span> <span class="sy0">=</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i<span class="sy0">&lt;</span>Strings.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span>Strings<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">==</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			Strings.<span class="me0">Remove</span><span class="br0">(</span>i, <span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			i<span class="sy0">--</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> Strings;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> MapIsRequired<span class="br0">(</span><span class="kw5">string</span> MapName<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>AllMaps.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>MapName ~<span class="sy0">=</span> AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MapName</span> <span class="sy0">&amp;&amp;</span> AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">bRequired</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> array<span class="sy0">&lt;</span>ProfileMap<span class="sy0">&gt;</span> GetProfileMaps<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> AllMaps;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">int</span> GetMaxMaps<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> MaxMaps;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">/////////////////////////////////////////////////////////////////////</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Public Mutator list functions</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">/////////////////////////////////////////////////////////////////////</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> array<span class="sy0">&lt;</span>ProfileMutator<span class="sy0">&gt;</span> GetProfileMutators<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> AllMutators;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> GetUsedMutators<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span>	Strings;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>ActiveMutators <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ActiveMutators <span class="sy0">=</span> <span class="kw1">new</span><span class="br0">(</span><span class="kw5">None</span><span class="br0">)</span> <span class="kw1">class</span><span class="st0">'SortedStringArray'</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i<span class="sy0">&lt;</span>ActiveMutators.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		Strings<span class="br0">[</span>Strings.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> ActiveMutators.<span class="me0">GetTag</span><span class="br0">(</span>i<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> Strings;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> GetUnusedMutators<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> Strings;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>ActiveMutators <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ActiveMutators <span class="sy0">=</span> <span class="kw1">new</span><span class="br0">(</span><span class="kw5">None</span><span class="br0">)</span> <span class="kw1">class</span><span class="st0">'SortedStringArray'</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	Strings.<span class="me0">Length</span> <span class="sy0">=</span> AllMutators.<span class="me0">Length</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i<span class="sy0">&lt;</span>AllMutators.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		Strings<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">=</span> AllMutators<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MutatorName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// Tag all used mutators</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i<span class="sy0">&lt;</span>ActiveMutators.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
		Strings<span class="br0">[</span><span class="kw5">int</span><span class="br0">(</span>ActiveMutators.<span class="me0">GetItem</span><span class="br0">(</span>i<span class="br0">)</span><span class="br0">)</span><span class="br0">]</span> <span class="sy0">=</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i<span class="sy0">&lt;</span>Strings.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>Strings<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">==</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			Strings.<span class="me0">Remove</span><span class="br0">(</span>i, <span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			i<span class="sy0">--</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> Strings;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> AddMutator<span class="br0">(</span><span class="kw5">string</span> MutatorName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> Str;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"AddMutator()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>ActiveMutators.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
		SetUsedMutators<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// First make sure it isnt in the list</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i<span class="sy0">&lt;</span>ActiveMutators.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		Str <span class="sy0">=</span> ActiveMutators.<span class="me0">GetTag</span><span class="br0">(</span>i<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>Str ~<span class="sy0">=</span> MutatorName <span class="sy0">||</span> <span class="kw3">Right</span><span class="br0">(</span>Str, <span class="kw3">Len</span><span class="br0">(</span>MutatorName<span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span> ~<span class="sy0">=</span> <span class="br0">(</span><span class="st0">"."</span><span class="sy0">$</span>MutatorName<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>AllMutators.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		Str <span class="sy0">=</span> AllMutators<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MutatorName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>Str ~<span class="sy0">=</span> MutatorName <span class="sy0">||</span> <span class="kw3">Right</span><span class="br0">(</span>Str, <span class="kw3">Len</span><span class="br0">(</span>MutatorName<span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span> ~<span class="sy0">=</span> <span class="br0">(</span><span class="st0">"."</span><span class="sy0">$</span>MutatorName<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
			ActiveMutators.<span class="me0">Add</span><span class="br0">(</span><span class="kw5">string</span><span class="br0">(</span>i<span class="br0">)</span>, Str<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> DelMutator<span class="br0">(</span><span class="kw5">string</span> MutatorName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">string</span> Str;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"DelMutator()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>MutIsRequired<span class="br0">(</span>MutatorName<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// First make sure it is in the list</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i<span class="sy0">&lt;</span>ActiveMutators.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		Str <span class="sy0">=</span> ActiveMutators.<span class="me0">GetTag</span><span class="br0">(</span>i<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span>Str ~<span class="sy0">=</span> MutatorName <span class="sy0">||</span> <span class="kw3">Right</span><span class="br0">(</span>Str, <span class="kw3">Len</span><span class="br0">(</span>MutatorName<span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span> ~<span class="sy0">=</span> <span class="br0">(</span><span class="st0">"."</span><span class="sy0">$</span>MutatorName<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			ActiveMutators.<span class="me0">Remove</span><span class="br0">(</span>i<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Add mutator to list of possible mutators</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">function</span> <span class="kw5">bool</span> AddProfileMutator<span class="br0">(</span><span class="kw5">string</span> MutatorName, <span class="kw5">bool</span> bRequired<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i,j;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> Str;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> ProfileMutator tmp;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"AddProfileMutator()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>AllMutators.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		Str <span class="sy0">=</span> AllMutators<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MutatorName</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span>Str ~<span class="sy0">=</span> MutatorName <span class="sy0">||</span> <span class="kw3">Right</span><span class="br0">(</span>Str, <span class="kw3">Len</span><span class="br0">(</span>MutatorName<span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span> ~<span class="sy0">=</span> <span class="br0">(</span><span class="st0">"."</span><span class="sy0">$</span>MutatorName<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			AllMutators<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">bRequired</span> <span class="sy0">=</span> bRequired;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>j<span class="sy0">=</span><span class="nu0">0</span>;j<span class="sy0">&lt;</span>GameMutators.<span class="me0">Length</span>;j<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		Str <span class="sy0">=</span> GameMutators<span class="br0">[</span>j<span class="br0">]</span>.<span class="me0">ClassName</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span>Str ~<span class="sy0">=</span> MutatorName <span class="sy0">||</span> <span class="kw3">Right</span><span class="br0">(</span>Str, <span class="kw3">Len</span><span class="br0">(</span>MutatorName<span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span> ~<span class="sy0">=</span> <span class="br0">(</span><span class="st0">"."</span><span class="sy0">$</span>MutatorName<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			tmp.<span class="me0">MutatorName</span> <span class="sy0">=</span> Str;
</pre></li>
<li class="li1">
<pre class="de1">
			tmp.<span class="me0">bRequired</span> <span class="sy0">=</span> bRequired;
</pre></li>
<li class="li1">
<pre class="de1">
			AllMutators<span class="br0">[</span>AllMutators.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> tmp;
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> DelProfileMutator<span class="br0">(</span><span class="kw5">string</span> MutatorName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">string</span> Str;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"DelProfileMutator()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>AllMutators.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		Str <span class="sy0">=</span> AllMutators<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MutatorName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>Str ~<span class="sy0">=</span> MutatorName <span class="sy0">||</span> <span class="kw3">Right</span><span class="br0">(</span>Str, <span class="kw3">Len</span><span class="br0">(</span>MutatorName<span class="br0">)</span><span class="sy0">+</span><span class="nu0">1</span><span class="br0">)</span> ~<span class="sy0">=</span> <span class="br0">(</span><span class="st0">"."</span><span class="sy0">$</span>MutatorName<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			AllMutators.<span class="me0">Remove</span><span class="br0">(</span>i, <span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			SetUsedMutators<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> MutIsRequired<span class="br0">(</span><span class="kw5">string</span> MutatorName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>AllMutators.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>MutatorName ~<span class="sy0">=</span> AllMutators<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MutatorName</span> <span class="sy0">&amp;&amp;</span> AllMutators<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">bRequired</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//////////////////////////////////</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Public ServerActor Functions</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//////////////////////////////////</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">function</span> array<span class="sy0">&lt;</span>ProfileSA<span class="sy0">&gt;</span> GetProfileServerActors<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> AllServerActors;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">function</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> GetUsedServerActors<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span>	Strings;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span>ActiveServerActors <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ActiveServerActors <span class="sy0">=</span> <span class="kw1">new</span><span class="br0">(</span><span class="kw5">None</span><span class="br0">)</span> <span class="kw1">class</span><span class="st0">'SortedStringArray'</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i<span class="sy0">&lt;</span>ActiveServerActors.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		Strings<span class="br0">[</span>Strings.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> ActiveServerActors.<span class="me0">GetTag</span><span class="br0">(</span>i<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> Strings;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> AddProfileServerActor<span class="br0">(</span><span class="kw5">string</span> ActorName, <span class="kw5">bool</span> bRequired<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> ProfileSA tmp;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"AddProfileServerActor()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>AllServerActors.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>AllServerActors<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">ActorClass</span> ~<span class="sy0">=</span> ActorName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			AllServerActors<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">bRequired</span> <span class="sy0">=</span> bRequired;
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	tmp.<span class="me0">ActorClass</span> <span class="sy0">=</span> ActorName;
</pre></li>
<li class="li2">
<pre class="de2">
	tmp.<span class="me0">bRequired</span> <span class="sy0">=</span> bRequired;
</pre></li>
<li class="li1">
<pre class="de1">
	AllServerActors<span class="br0">[</span>AllServerActors.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> tmp;
</pre></li>
<li class="li1">
<pre class="de1">
	SetUsedServerActors<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> AddServerActor<span class="br0">(</span><span class="kw5">string</span> ActorName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"AddServerActor()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// Check for already exists</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>ProfileServerActors.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>ProfileServerActors<span class="br0">[</span>i<span class="br0">]</span> ~<span class="sy0">=</span> ActorName<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>AllServerActors.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span>AllServerActors<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">ActorClass</span> ~<span class="sy0">=</span> ActorName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			ProfileServerActors<span class="br0">[</span>ProfileServerActors.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> ActorName;
</pre></li>
<li class="li1">
<pre class="de1">
			SetUsedServerActors<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">function</span> <span class="kw5">bool</span> DelProfileServerActor<span class="br0">(</span><span class="kw5">string</span> ActorName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"DelProfileServerActor()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>AllServerActors.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>AllServerActors<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">ActorClass</span> ~<span class="sy0">=</span> ActorName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			AllServerActors.<span class="me0">Remove</span><span class="br0">(</span>i,<span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
			SetUsedServerActors<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> DelServerActor<span class="br0">(</span><span class="kw5">string</span> ActorName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"DelServerActor()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	i <span class="sy0">=</span> ActiveServerActors.<span class="me0">FindTagId</span><span class="br0">(</span>ActorName<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>i <span class="sy0">&gt;=</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ActiveServerActors.<span class="me0">Remove</span><span class="br0">(</span>i<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> ServerActorIsRequired<span class="br0">(</span><span class="kw5">string</span> ActorName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>AllServerActors.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>ActorName ~<span class="sy0">=</span> AllServerActors<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">ActorClass</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> AllServerActors<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">bRequired</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">////////////////////////////////</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// Protected Helping functions</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">////////////////////////////////</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Always reload settings at StartEdit()</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> <span class="kw5">string</span> LoadSettings<span class="br0">(</span>class<span class="sy0">&lt;</span>GameInfo<span class="sy0">&gt;</span> GameClass<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> class<span class="sy0">&lt;</span>Mutator<span class="sy0">&gt;</span> Mut<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> class<span class="sy0">&lt;</span>Info<span class="sy0">&gt;</span>	SA<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i,j;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"LoadSettings()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>PInfo <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		PInfo <span class="sy0">=</span> <span class="kw1">new</span><span class="br0">(</span><span class="kw5">None</span><span class="br0">)</span> <span class="kw1">class</span><span class="st0">'PlayInfo'</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	PInfo.<span class="me0">Clear</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// Unhook GameInfo.FillPlayInfo()'s hook to BaseMutator.FillPlayInfo()</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// Otherwise, we end up with mutator playinfo that we may not want</span>
</pre></li>
<li class="li1">
<pre class="de1">
	GameClass.<span class="kw1">static</span>.<span class="me0">FillPlayInfo</span><span class="br0">(</span>PInfo<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	PInfo.<span class="me0">PopClass</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>ACClass <span class="sy0">==</span> <span class="kw5">None</span> <span class="sy0">&amp;&amp;</span> AccessClass <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ACClass <span class="sy0">=</span> class<span class="sy0">&lt;</span>AccessControl<span class="sy0">&gt;</span><span class="br0">(</span><span class="kw3">DynamicLoadObject</span><span class="br0">(</span>AccessClass,<span class="kw1">class</span><span class="st0">'Class'</span><span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>ACClass<span class="sy0">!=</span><span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ACClass.<span class="kw1">static</span>.<span class="me0">FillPlayInfo</span><span class="br0">(</span>PInfo<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		PInfo.<span class="me0">PopClass</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span>GameClass.<span class="kw1">default</span>.<span class="me0">MutatorClass</span> <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		MutClass <span class="sy0">=</span> class<span class="sy0">&lt;</span>Mutator<span class="sy0">&gt;</span><span class="br0">(</span><span class="kw3">DynamicLoadObject</span><span class="br0">(</span>GameClass.<span class="kw1">default</span>.<span class="me0">MutatorClass</span>,<span class="kw1">class</span><span class="st0">'Class'</span><span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>MutClass <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
			MutClass.<span class="kw1">static</span>.<span class="me0">FillPlayInfo</span><span class="br0">(</span>PInfo<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			PInfo.<span class="me0">PopClass</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span>ActiveMutators.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		SetUsedMutators<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>ActiveServerActors.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		SetUsedServerActors<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>ActiveMutators.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		MutClass<span class="sy0">=</span>class<span class="sy0">&lt;</span>Mutator<span class="sy0">&gt;</span><span class="br0">(</span><span class="kw3">DynamicLoadObject</span><span class="br0">(</span>AllMutators<span class="br0">[</span><span class="kw5">int</span><span class="br0">(</span>ActiveMutators.<span class="me0">GetItem</span><span class="br0">(</span>i<span class="br0">)</span><span class="br0">)</span><span class="br0">]</span>.<span class="me0">MutatorName</span>,<span class="kw1">class</span><span class="st0">'class'</span><span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>MutClass<span class="sy0">!=</span><span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			MutClass.<span class="kw1">static</span>.<span class="me0">FillPlayInfo</span><span class="br0">(</span>PInfo<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			PInfo.<span class="me0">PopClass</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>ActiveServerActors.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		j <span class="sy0">=</span> <span class="kw5">int</span><span class="br0">(</span>ActiveServerActors.<span class="me0">GetItem</span><span class="br0">(</span>i<span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		SAClass <span class="sy0">=</span> class<span class="sy0">&lt;</span>Info<span class="sy0">&gt;</span><span class="br0">(</span><span class="kw3">DynamicLoadObject</span><span class="br0">(</span>AllServerActors<span class="br0">[</span>j<span class="br0">]</span>.<span class="me0">ActorClass</span>,<span class="kw1">class</span><span class="st0">'Class'</span><span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span>SAClass <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			SAClass.<span class="kw1">static</span>.<span class="me0">FillPlayInfo</span><span class="br0">(</span>PInfo<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			PInfo.<span class="me0">PopClass</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// Create active profile array</span>
</pre></li>
<li class="li1">
<pre class="de1">
	InitializeProfile<span class="br0">(</span>ActiveSettings<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>ProfileSettings.<span class="me0">Length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ActiveSettings.<span class="me0">Length</span> <span class="sy0">=</span> ProfileSettings.<span class="me0">Length</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="co1">// Then retrieve all stored values from saved profile</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>ProfileSettings.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			ActiveSettings<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">=</span> ProfileSettings<span class="br0">[</span>i<span class="br0">]</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">else</span> <span class="co1">// Copy active profile to saved profile.</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ProfileSettings.<span class="me0">Length</span> <span class="sy0">=</span> ActiveSettings.<span class="me0">Length</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>ActiveSettings.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
			SetProfileParam<span class="br0">(</span>i,ActiveSettings<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">SettingName</span>,ActiveSettings<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">SettingValue</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw5">string</span><span class="br0">(</span>GameClass<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> LoadGameTypes<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> class<span class="sy0">&lt;</span>GameInfo<span class="sy0">&gt;</span>	Temp<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">String</span> 			NextGame;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">int</span>				i;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// Compile a list of all gametypes.</span>
</pre></li>
<li class="li1">
<pre class="de1">
	i <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	NextGame <span class="sy0">=</span> <span class="kw7">Level</span>.<span class="me0">GetNextInt</span><span class="br0">(</span><span class="st0">"Engine.GameInfo"</span>, <span class="nu0">0</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	AllGameTypes.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">while</span> <span class="br0">(</span>NextGame <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		TempClass <span class="sy0">=</span> class<span class="sy0">&lt;</span>GameInfo<span class="sy0">&gt;</span><span class="br0">(</span><span class="kw3">DynamicLoadObject</span><span class="br0">(</span>NextGame, <span class="kw1">class</span><span class="st0">'Class'</span><span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>TempClass <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
			AllGameTypes<span class="br0">[</span>AllGameTypes.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> Temp<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
		NextGame <span class="sy0">=</span> <span class="kw7">Level</span>.<span class="me0">GetNextInt</span><span class="br0">(</span><span class="st0">"Engine.GameInfo"</span>, <span class="sy0">++</span>i<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> class<span class="sy0">&lt;</span>GameInfo<span class="sy0">&gt;</span> FindGameType<span class="br0">(</span><span class="kw5">string</span> GameType<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> class<span class="sy0">&lt;</span>GameInfo<span class="sy0">&gt;</span> Temp<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>AllGameTypes.<span class="me0">Length</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		LoadGameTypes<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	TempClass <span class="sy0">=</span> <span class="kw5">None</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>; i<span class="sy0">&lt;</span>AllGameTypes.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		TempClass <span class="sy0">=</span> AllGameTypes<span class="br0">[</span>i<span class="br0">]</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>GameType ~<span class="sy0">=</span> <span class="kw5">string</span><span class="br0">(</span>TempClass<span class="br0">)</span><span class="br0">)</span>				<span class="kw2">break</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>GameType ~<span class="sy0">=</span> TempClass.<span class="kw1">default</span>.<span class="me0">Acronym</span><span class="br0">)</span>		<span class="kw2">break</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>GameType ~<span class="sy0">=</span> TempClass.<span class="kw1">default</span>.<span class="me0">DecoTextName</span><span class="br0">)</span>	<span class="kw2">break</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span><span class="kw3">Right</span><span class="br0">(</span><span class="kw5">string</span><span class="br0">(</span>TempClass<span class="br0">)</span>, <span class="kw3">Len</span><span class="br0">(</span>GameType<span class="br0">)</span><span class="sy0">+</span><span class="nu0">1</span><span class="br0">)</span> ~<span class="sy0">=</span> <span class="br0">(</span><span class="st0">"."</span><span class="sy0">$</span>GameType<span class="br0">)</span><span class="br0">)</span>			<span class="kw2">break</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span><span class="kw3">Right</span><span class="br0">(</span>TempClass.<span class="kw1">default</span>.<span class="me0">DecoTextName</span>, <span class="kw3">Len</span><span class="br0">(</span>GameType<span class="br0">)</span><span class="sy0">+</span><span class="nu0">1</span><span class="br0">)</span> ~<span class="sy0">=</span> <span class="br0">(</span><span class="st0">"."</span><span class="sy0">$</span>GameType<span class="br0">)</span><span class="br0">)</span>	<span class="kw2">break</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> Temp<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> LoadAllMaps<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>GameClass<span class="sy0">==</span><span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		GameClass <span class="sy0">=</span> FindGameType<span class="br0">(</span>DefaultGameType<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>GameClass <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	GameMaps.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	GameClass.<span class="kw1">static</span>.<span class="me0">LoadMapList</span><span class="br0">(</span>GameClass.<span class="kw1">default</span>.<span class="me0">MapPrefix</span>, GameMaps<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> LoadAllMutators<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">class</span><span class="st0">'xUtil'</span>.<span class="kw1">static</span>.<span class="me0">GetMutatorList</span><span class="br0">(</span>GameMutators<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> LoadAllServerActors<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> ConfigMaster ConfigM;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="kw7">Level</span> <span class="sy0">!=</span> <span class="kw5">None</span> <span class="sy0">&amp;&amp;</span> <span class="kw7">Level</span>.<span class="kw7">Game</span> <span class="sy0">!=</span> <span class="kw5">None</span> <span class="sy0">&amp;&amp;</span> <span class="kw7">Level</span>.<span class="kw7">Game</span>.<span class="me0">BaseMutator</span> <span class="sy0">!=</span> <span class="kw5">None</span> <span class="sy0">&amp;&amp;</span> ConfigMaster<span class="br0">(</span><span class="kw7">Level</span>.<span class="kw7">Game</span>.<span class="me0">BaseMutator</span>.<span class="me0">NextMutator</span><span class="br0">)</span> <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ConfigM <span class="sy0">=</span> ConfigMaster<span class="br0">(</span><span class="kw7">Level</span>.<span class="kw7">Game</span>.<span class="me0">BaseMutator</span>.<span class="me0">NextMutator</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">else</span> <span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>ConfigM.<span class="me0">ManagedActors</span>.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		GameServerActors<span class="br0">[</span>GameServerActors.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> <span class="kw5">string</span><span class="br0">(</span>ConfigM.<span class="me0">ManagedActors</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">SAClass</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> <span class="kw5">bool</span> MapIsValid<span class="br0">(</span><span class="kw5">string</span> MapName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> Prefix, ShortName;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw3">Divide</span><span class="br0">(</span>MapName,<span class="st0">"-"</span>,Prefix,ShortName<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>Prefix ~<span class="sy0">=</span> AllMapsPrefix<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> <span class="kw5">string</span> GetMutatorGroup<span class="br0">(</span><span class="kw5">string</span> MutName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span>GameMutators.<span class="me0">Length</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		LoadAllMutators<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>GameMutators.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>GameMutators<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">ClassName</span> ~<span class="sy0">=</span> MutName<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw2">return</span> GameMutators<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">GroupName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">protected</span> <span class="kw1">function</span> SetUsedMaps<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i,j;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"SetUsedMaps()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span>AllMaps.<span class="me0">Length</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	ActiveMaps.<span class="kw4">Reset</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="co1">// Add required maps first, up to MaxMaps count</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>AllMaps.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>MaxMaps <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="sy0">&amp;&amp;</span> ActiveMaps.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">&gt;=</span> MaxMaps<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">break</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span>AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">bRequired</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			ActiveMaps.<span class="me0">Add</span><span class="br0">(</span><span class="kw5">string</span><span class="br0">(</span>i<span class="br0">)</span>,AllMaps<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MapName</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span><span class="br0">(</span><span class="br0">(</span>MaxMaps <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>ActiveMaps.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">&lt;</span> MaxMaps<span class="br0">)</span><span class="br0">)</span> <span class="sy0">||</span> <span class="br0">(</span>MaxMaps <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">&amp;&amp;</span><span class="br0">(</span>ProfileMaps.<span class="me0">Length</span><span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>ProfileMaps.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>MapIsValid<span class="br0">(</span>ProfileMaps<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
				ProfileMaps.<span class="me0">Remove</span><span class="br0">(</span>i,<span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				i<span class="sy0">--</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">continue</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw2">if</span> <span class="br0">(</span>MaxMaps <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="sy0">&amp;&amp;</span> ActiveMaps.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">&gt;=</span> MaxMaps<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">break</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">for</span> <span class="br0">(</span>j<span class="sy0">=</span><span class="nu0">0</span>;j<span class="sy0">&lt;</span>AllMaps.<span class="me0">Length</span>;j<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>ProfileMaps<span class="br0">[</span>i<span class="br0">]</span>~<span class="sy0">=</span>AllMaps<span class="br0">[</span>j<span class="br0">]</span>.<span class="me0">MapName</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>ActiveMaps.<span class="me0">FindTagId</span><span class="br0">(</span>AllMaps<span class="br0">[</span>j<span class="br0">]</span>.<span class="me0">MapName</span><span class="br0">)</span><span class="sy0">&lt;</span><span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
					ActiveMaps.<span class="me0">Add</span><span class="br0">(</span><span class="kw5">string</span><span class="br0">(</span>j<span class="br0">)</span>, AllMaps<span class="br0">[</span>j<span class="br0">]</span>.<span class="me0">MapName</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Loads used mutators from ini into ActiveMutators StringArray</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">protected</span> <span class="kw1">function</span> SetUsedMutators<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i,j;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> MutatorGroups, tmp;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"SetUsedMutators()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span>AllMutators.<span class="me0">Length</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	ActiveMutators.<span class="kw4">Reset</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// Add required mutators first</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>AllMutators.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>AllMutators<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">bRequired</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			tmp <span class="sy0">=</span> GetMutatorGroup<span class="br0">(</span>AllMutators<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MutatorName</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw2">if</span> <span class="br0">(</span><span class="kw3">InStr</span><span class="br0">(</span>MutatorGroups, tmp<span class="br0">)</span> <span class="sy0">==</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">if</span> <span class="br0">(</span>MutatorGroups <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span> MutatorGroups <span class="sy0">=</span> MutatorGroups <span class="sy0">$</span> <span class="st0">","</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				MutatorGroups <span class="sy0">=</span> MutatorGroups <span class="sy0">$</span> tmp;
</pre></li>
<li class="li1">
<pre class="de1">
				ActiveMutators.<span class="me0">Add</span><span class="br0">(</span><span class="kw5">string</span><span class="br0">(</span>i<span class="br0">)</span>, AllMutators<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">MutatorName</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>ProfileMutators.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">for</span> <span class="br0">(</span>j<span class="sy0">=</span><span class="nu0">0</span>;j<span class="sy0">&lt;</span>AllMutators.<span class="me0">Length</span>;j<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>AllMutators<span class="br0">[</span>j<span class="br0">]</span>.<span class="me0">MutatorName</span> ~<span class="sy0">=</span> ProfileMutators<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="sy0">&amp;&amp;</span><span class="br0">(</span>ActiveMutators.<span class="me0">FindTagId</span><span class="br0">(</span>AllMutators<span class="br0">[</span>j<span class="br0">]</span>.<span class="me0">MutatorName</span><span class="br0">)</span><span class="sy0">&lt;</span><span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
				tmp <span class="sy0">=</span> GetMutatorGroup<span class="br0">(</span>AllMutators<span class="br0">[</span>j<span class="br0">]</span>.<span class="me0">MutatorName</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">if</span> <span class="br0">(</span><span class="kw3">InStr</span><span class="br0">(</span>MutatorGroups, tmp<span class="br0">)</span> <span class="sy0">==</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
					<span class="kw2">if</span> <span class="br0">(</span>MutatorGroups <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span> MutatorGroups <span class="sy0">=</span> MutatorGroups <span class="sy0">$</span> <span class="st0">","</span>;
</pre></li>
<li class="li1">
<pre class="de1">
					MutatorGroups <span class="sy0">=</span> MutatorGroups <span class="sy0">$</span> tmp;
</pre></li>
<li class="li2">
<pre class="de2">
					ActiveMutators.<span class="me0">Add</span><span class="br0">(</span><span class="kw5">string</span><span class="br0">(</span>j<span class="br0">)</span>, AllMutators<span class="br0">[</span>j<span class="br0">]</span>.<span class="me0">MutatorName</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> SetUsedServerActors<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i,j;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"SetUsedServerActors()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>AllServerActors.<span class="me0">Length</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	ActiveServerActors.<span class="kw4">Reset</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="co1">// Add required server actors first</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>AllServerActors.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>AllServerActors<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">bRequired</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			ActiveServerActors.<span class="me0">Add</span><span class="br0">(</span><span class="kw5">string</span><span class="br0">(</span>i<span class="br0">)</span>, AllServerActors<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">ActorClass</span>,<span class="kw6">True</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>ProfileServerActors.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">for</span> <span class="br0">(</span>j<span class="sy0">=</span><span class="nu0">0</span>;j<span class="sy0">&lt;</span>AllServerActors.<span class="me0">Length</span>;j<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">if</span> <span class="br0">(</span>AllServerActors<span class="br0">[</span>j<span class="br0">]</span>.<span class="me0">ActorClass</span> ~<span class="sy0">=</span> ProfileServerActors<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
				ActiveServerActors.<span class="me0">Add</span><span class="br0">(</span><span class="kw5">string</span><span class="br0">(</span>j<span class="br0">)</span>,AllServerActors<span class="br0">[</span>j<span class="br0">]</span>.<span class="me0">ActorClass</span>,<span class="kw6">True</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> ClearUsedMaps<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	ProfileMaps.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw3">SaveConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> ClearUsedMutators<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	ProfileMutators.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw3">SaveConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> ClearUsedServerActors<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	ProfileServerActors.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw3">SaveConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> ClearAllMaps<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	AllMaps.<span class="me0">Length</span><span class="sy0">=</span><span class="nu0">0</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw3">SaveConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">protected</span> <span class="kw1">function</span> ClearAllMutators<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	AllMutators.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw3">SaveConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> ClearAllServerActors<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	AllServerActors.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw3">SaveConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Saves active maps for this profile to ini</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> SaveUsedMaps<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"SaveUsedMaps()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	ClearUsedMaps<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>ActiveMaps.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ProfileMaps<span class="br0">[</span>ProfileMaps.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> ActiveMaps.<span class="me0">GetTag</span><span class="br0">(</span>i<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Saves ActiveMutators to ini</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> SaveUsedMutators<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"SaveUsedMutators()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	ClearUsedMutators<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>ActiveMutators.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
		ProfileMutators<span class="br0">[</span>ProfileMutators.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> ActiveMutators.<span class="me0">GetTag</span><span class="br0">(</span>i<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> SaveUsedServerActors<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"SaveUsedServerActors()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	ClearUsedServerActors<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>ActiveServerActors.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ProfileServerActors<span class="br0">[</span>ProfileServerActors.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> ActiveServerActors.<span class="me0">GetTag</span><span class="br0">(</span>i<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Applies the active maps to the actual Game maplist</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> ApplyMapList<span class="br0">(</span>array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> NewMapList<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>GameClass <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		GameClass <span class="sy0">=</span> class<span class="sy0">&lt;</span>GameInfo<span class="sy0">&gt;</span><span class="br0">(</span><span class="kw3">DynamicLoadObject</span><span class="br0">(</span>DefaultGameType,<span class="kw1">class</span><span class="st0">'Class'</span><span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span>Maps <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		GetMaps<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>Maps <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	Maps.<span class="me0">Maps</span>.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>NewMapList.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		Maps.<span class="me0">Maps</span><span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">=</span> NewMapList<span class="br0">[</span>i<span class="br0">]</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	Maps.<span class="kw3">SaveConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Applies ActiveMutators to actual Game mutator list</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> ApplyMutators<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> TempMut;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"ApplyMutators()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>ActiveMutators.<span class="me0">Count</span><span class="br0">(</span><span class="br0">)</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		TempMut<span class="br0">[</span>TempMut.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> ActiveMutators.<span class="me0">GetTag</span><span class="br0">(</span>i<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>TempMut.<span class="me0">Length</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		NextMutators <span class="sy0">=</span> <span class="st0">""</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">else</span> NextMutators <span class="sy0">=</span> <span class="kw1">class</span><span class="st0">'wUtils103.wArray'</span>.<span class="kw1">static</span>.<span class="me0">Join</span><span class="br0">(</span>TempMut,<span class="st0">","</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">function</span> ClearProfile<span class="br0">(</span><span class="kw1">out</span> array<span class="sy0">&lt;</span>ProfileSetting<span class="sy0">&gt;</span> OldProfile<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"ClearProfile()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	OldProfile.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">protected</span> <span class="kw1">function</span> <span class="kw5">bool</span> InitializeProfile<span class="br0">(</span><span class="kw1">out</span> array<span class="sy0">&lt;</span>ProfileSetting<span class="sy0">&gt;</span> NewProfile<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> ProfileSetting NewSetting;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"InitializeProfile()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>PInfo<span class="sy0">==</span><span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>NewProfile.<span class="me0">Length</span><span class="sy0">&gt;</span><span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
		ClearProfile<span class="br0">(</span>NewProfile<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i <span class="sy0">&lt;</span> PInfo.<span class="me0">Settings</span>.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span><span class="kw3">InStr</span><span class="br0">(</span>PInfo.<span class="me0">Settings</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">SettingName</span>,<span class="st0">"AdminName"</span><span class="br0">)</span> <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span> <span class="sy0">||</span> <span class="kw3">InStr</span><span class="br0">(</span>PInfo.<span class="me0">Settings</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">SettingName</span>,<span class="st0">"AdminEmail"</span><span class="br0">)</span> <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw2">continue</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
		NewSetting.<span class="me0">SettingName</span> <span class="sy0">=</span> PInfo.<span class="me0">Settings</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">SettingName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		NewSetting.<span class="me0">SettingValue</span> <span class="sy0">=</span> PInfo.<span class="me0">Settings</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">Value</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
		NewProfile<span class="br0">[</span>NewProfile.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> NewSetting;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">////////////////////////////////////////////////////////////////////////////</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// PlayInfo Query Functions</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">////////////////////////////////////////////////////////////////////////////</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">function</span> <span class="kw5">string</span> GetParamName<span class="br0">(</span><span class="kw5">int</span> idx<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>idx <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="sy0">||</span> idx <span class="sy0">&gt;=</span> PInfo.<span class="me0">Settings</span>.<span class="me0">Length</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> PInfo.<span class="me0">Settings</span><span class="br0">[</span>idx<span class="br0">]</span>.<span class="me0">SettingName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">int</span> GetParamIndex<span class="br0">(</span><span class="kw5">string</span> SettingName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i <span class="sy0">&lt;</span> PInfo.<span class="me0">Settings</span>.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>PInfo.<span class="me0">Settings</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">SettingName</span> ~<span class="sy0">=</span> SettingName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">break</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>i<span class="sy0">==</span>PInfo.<span class="me0">Settings</span>.<span class="me0">Length</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="sy0">-</span><span class="nu0">1</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> i;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">string</span> GetParam<span class="br0">(</span><span class="kw5">int</span> idx<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>idx <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="sy0">||</span> idx <span class="sy0">&gt;=</span> PInfo.<span class="me0">Settings</span>.<span class="me0">Length</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">return</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> PInfo.<span class="me0">Settings</span><span class="br0">[</span>idx<span class="br0">]</span>.<span class="me0">Value</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">function</span> <span class="kw5">string</span> GetNamedParam<span class="br0">(</span><span class="kw5">string</span> Parameter<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> SettingName;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i <span class="sy0">&lt;</span> PInfo.<span class="me0">Settings</span>.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		SettingName <span class="sy0">=</span> PInfo.<span class="me0">Settings</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">SettingName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>SettingName ~<span class="sy0">=</span> Parameter <span class="sy0">||</span> <span class="kw3">Right</span><span class="br0">(</span>SettingName, <span class="kw3">Len</span><span class="br0">(</span>Parameter<span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span> ~<span class="sy0">=</span> <span class="br0">(</span><span class="st0">"."</span><span class="sy0">$</span>Parameter<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> PInfo.<span class="me0">Settings</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">Value</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> GetMaskedParams<span class="br0">(</span><span class="kw5">string</span> ParamMask<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> FoundParams;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> FoundMasks;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> SettingName, ShortName;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i, j, p;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">class</span><span class="st0">'wUtils103.wString'</span>.<span class="kw1">static</span>.<span class="me0">Split2</span><span class="br0">(</span>ParamMask, <span class="st0">" "</span>, FoundMasks<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>FoundMasks.<span class="me0">Length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i<span class="sy0">&lt;</span>PInfo.<span class="me0">Settings</span>.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			SettingName <span class="sy0">=</span> PInfo.<span class="me0">Settings</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">SettingName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
			ShortName <span class="sy0">=</span> SettingName;
</pre></li>
<li class="li1">
<pre class="de1">
			j <span class="sy0">=</span> <span class="kw3">Instr</span><span class="br0">(</span>ShortName, <span class="st0">"."</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw2">while</span> <span class="br0">(</span>j <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
				ShortName <span class="sy0">=</span> <span class="kw3">Mid</span><span class="br0">(</span>ShortName, p<span class="sy0">+</span><span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				j <span class="sy0">=</span> <span class="kw3">Instr</span><span class="br0">(</span>ShortName, <span class="st0">"."</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">for</span> <span class="br0">(</span>j <span class="sy0">=</span> <span class="nu0">0</span>; j<span class="sy0">&lt;</span>FoundMasks.<span class="me0">Length</span>; j<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">if</span> <span class="br0">(</span><span class="kw1">class</span><span class="st0">'wUtils103.wString'</span>.<span class="kw1">static</span>.<span class="me0">MaskedCompare</span><span class="br0">(</span>ShortName, FoundMasks<span class="br0">[</span>j<span class="br0">]</span><span class="br0">)</span> <span class="sy0">||</span> <span class="kw1">class</span><span class="st0">'wUtils103.wString'</span>.<span class="kw1">static</span>.<span class="me0">MaskedCompare</span><span class="br0">(</span>SettingName, FoundMasks<span class="br0">[</span>j<span class="br0">]</span><span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
					FoundParams<span class="br0">[</span>FoundParams.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> SettingName;
</pre></li>
<li class="li1">
<pre class="de1">
					FoundParams<span class="br0">[</span>FoundParams.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> PInfo.<span class="me0">Settings</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">Value</span>;
</pre></li>
<li class="li1">
<pre class="de1">
					<span class="kw2">break</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> FoundParams;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">/////////////////////////////////////////////////////////////////////</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Profile Query Functions</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">////////////////////////////////////////////////////////////////////</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">int</span> GetProfileParamIndex<span class="br0">(</span><span class="kw5">string</span> SettingName<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>ProfileSettings.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>ProfileSettings<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">SettingName</span> ~<span class="sy0">=</span> SettingName<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw2">break</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>i<span class="sy0">==</span>ProfileSettings.<span class="me0">Length</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="sy0">-</span><span class="nu0">1</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">string</span> GetProfileParamName<span class="br0">(</span><span class="kw5">int</span> idx<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span>idx <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="sy0">||</span> idx <span class="sy0">&gt;=</span> ProfileSettings.<span class="me0">Length</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> ProfileSettings<span class="br0">[</span>idx<span class="br0">]</span>.<span class="me0">SettingName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">string</span> GetProfileParam<span class="br0">(</span><span class="kw5">int</span> idx<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>idx <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="sy0">||</span> idx <span class="sy0">&gt;=</span> ProfileSettings.<span class="me0">Length</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="st0">""</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> ProfileSettings<span class="br0">[</span>idx<span class="br0">]</span>.<span class="me0">SettingValue</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">string</span> GetProfileNamedParam<span class="br0">(</span><span class="kw5">string</span> Parameter<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> SettingName;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i <span class="sy0">&lt;</span> ProfileSettings.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		SettingName <span class="sy0">=</span> ProfileSettings<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">SettingName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>SettingName ~<span class="sy0">=</span> Parameter <span class="sy0">||</span> <span class="kw3">Right</span><span class="br0">(</span>SettingName, <span class="kw3">Len</span><span class="br0">(</span>Parameter<span class="br0">)</span><span class="sy0">+</span><span class="nu0">1</span><span class="br0">)</span> ~<span class="sy0">=</span> <span class="br0">(</span><span class="st0">"."</span><span class="sy0">$</span>Parameter<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> ProfileSettings<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">SettingValue</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">/////////////////////////////////////////////////////////////////////</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// PlayInfo Manipulation Functions</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">/////////////////////////////////////////////////////////////////////</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> SavePI<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bEdit<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"SavePI()"</span><span class="sy0">@</span>DidNotStartEdit<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>PInfo <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	PInfo.<span class="me0">SaveSettings</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> SetParam<span class="br0">(</span><span class="kw5">int</span> idx, <span class="kw5">string</span> Value<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>PInfo <span class="sy0">==</span> <span class="kw5">None</span> <span class="sy0">||</span> idx <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="sy0">||</span> idx <span class="sy0">&gt;=</span> PInfo.<span class="me0">Settings</span>.<span class="me0">Length</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="kw3">InStr</span><span class="br0">(</span>PInfo.<span class="me0">Settings</span><span class="br0">[</span>idx<span class="br0">]</span>.<span class="me0">SettingName</span>,<span class="st0">"AdminName"</span><span class="br0">)</span> <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span> <span class="sy0">||</span> <span class="kw3">InStr</span><span class="br0">(</span>PInfo.<span class="me0">Settings</span><span class="br0">[</span>idx<span class="br0">]</span>.<span class="me0">SettingName</span>,<span class="st0">"AdminEmail"</span><span class="br0">)</span> <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> PInfo.<span class="me0">StoreSetting</span><span class="br0">(</span>idx, Value<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> SetNamedParam<span class="br0">(</span><span class="kw5">string</span> Parameter, <span class="kw5">string</span> Value<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> SettingName;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>PInfo <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span> <span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i <span class="sy0">&lt;</span> PInfo.<span class="me0">Settings</span>.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		SettingName <span class="sy0">=</span> PInfo.<span class="me0">Settings</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">SettingName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>SettingName ~<span class="sy0">=</span> Parameter <span class="sy0">||</span> <span class="kw3">Right</span><span class="br0">(</span>SettingName, <span class="kw3">Len</span><span class="br0">(</span>Parameter<span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span> ~<span class="sy0">=</span> <span class="br0">(</span><span class="st0">"."</span><span class="sy0">$</span>Parameter<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw2">if</span> <span class="br0">(</span><span class="kw3">InStr</span><span class="br0">(</span>PInfo.<span class="me0">Settings</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">SettingName</span>,<span class="st0">"AdminName"</span><span class="br0">)</span> <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span> <span class="sy0">||</span> <span class="kw3">InStr</span><span class="br0">(</span>PInfo.<span class="me0">Settings</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">SettingName</span>,<span class="st0">"AdminEmail"</span><span class="br0">)</span> <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> PInfo.<span class="me0">StoreSetting</span><span class="br0">(</span>i, Value<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// Parameter not found</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">///////////////////////////////////////////////////////////////////////////</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Profile Manipulation Functions</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">///////////////////////////////////////////////////////////////////////////</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">int</span> Count<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> ProfileSettings.<span class="me0">Length</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> SetProfileParam<span class="br0">(</span><span class="kw5">int</span> idx, <span class="kw5">string</span> SettingName, <span class="kw1">coerce</span> <span class="kw5">string</span> SettingValue<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>idx <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="sy0">||</span> idx <span class="sy0">&gt;</span> ProfileSettings.<span class="me0">Length</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="kw2">if</span> <span class="br0">(</span>ProfileSettings.<span class="me0">Length</span> <span class="sy0">==</span> idx<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
    	ProfileSettings.<span class="me0">Length</span> <span class="sy0">=</span> ProfileSettings.<span class="me0">Length</span><span class="sy0">+</span><span class="nu0">1</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	ProfileSettings<span class="br0">[</span>idx<span class="br0">]</span>.<span class="me0">SettingName</span> <span class="sy0">=</span> SettingName;
</pre></li>
<li class="li1">
<pre class="de1">
	ProfileSettings<span class="br0">[</span>idx<span class="br0">]</span>.<span class="me0">SettingValue</span> <span class="sy0">=</span> SettingValue;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> SetProfileNamedParam<span class="br0">(</span><span class="kw5">string</span> Parameter, <span class="kw5">string</span> Value<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> SettingName;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>;i <span class="sy0">&lt;</span> ProfileSettings.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		SettingName <span class="sy0">=</span> ProfileSettings<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">SettingName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>SettingName ~<span class="sy0">=</span> Parameter <span class="sy0">||</span> <span class="kw3">Right</span><span class="br0">(</span>SettingName, <span class="kw3">Len</span><span class="br0">(</span>Parameter<span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span> ~<span class="sy0">=</span> <span class="br0">(</span><span class="st0">"."</span><span class="sy0">$</span>Parameter<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			ProfileSettings<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">SettingValue</span> <span class="sy0">=</span> Value;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
</ol>
</div>
</div>

<!-- 
NewPP limit report
CPU time usage: 0.336 seconds
Real time usage: 0.342 seconds
Preprocessor visited node count: 13/1000000
Preprocessor generated node count: 77/1000000
Postâexpand include size: 334/2097152 bytes
Template argument size: 108/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    2.341      1 - -total
100.00%    2.341      1 - Template:Classbox
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:2466-0!*!0!*!*!*!* and timestamp 20161215190913 and revision id 5925
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Legacy:ProfileConfigSet?oldid=5925">https://wiki.beyondunreal.com/Legacy:ProfileConfigSet?oldid=5925</a>"</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-legacy" class="selected"><a href="Legacy_ProfileConfigSet.html">Legacy</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Legacy_talk:ProfileConfigSet?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Legacy:ProfileConfigSet" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Legacy:ProfileConfigSet" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AProfileConfigSet&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AProfileConfigSet" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Legacy:ProfileConfigSet" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Legacy:ProfileConfigSet" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Legacy:ProfileConfigSet?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Legacy:ProfileConfigSet?oldid=5925" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Legacy:ProfileConfigSet" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 23:04, 17 February 2003.</li>
									<li id="copyright">Licensed as <a href="Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":90});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Legacy:ProfileConfigSet by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 10:55:55 GMT -->
</html>
