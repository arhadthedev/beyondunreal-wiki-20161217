<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Legacy:Will/Creating_A_HTTP_Server_List_Tab by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 10:55:12 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Legacy:Will/Creating A HTTP Server List Tab - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Will/Creating_A_HTTP_Server_List_Tab" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Will/Creating_A_HTTP_Server_List_Tab" />
<link rel="shortcut icon" href="../w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="../w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="../w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Creating_A_HTTP_Server_List_Tab.html" />
<link rel="copyright" href="../Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="../w/load2743.css?debug=false&amp;lang=en&amp;modules=ext.geshi.language.uscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="../w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="../w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Legacy","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Legacy:Will/Creating_A_HTTP_Server_List_Tab","wgTitle":"Will/Creating A HTTP Server List Tab","wgCurRevisionId":9465,"wgRevisionId":9465,"wgArticleId":3727,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:Will/Creating_A_HTTP_Server_List_Tab","wgRelevantArticleId":3727,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-100 ns-subject page-Legacy_Will_Creating_A_HTTP_Server_List_Tab skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>My program doesn't have bugs. It just develops random features.
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:Will/Creating A HTTP Server List Tab</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"><span class="subpages">&lt; <a href="../Legacy_Will.html" title="Legacy:Will">Legacy:Will</a></span></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p></p>
<div id="toc" class="toc">
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Creating_A_HTTP_Server_List_Tab"><span class="tocnumber">1</span> <span class="toctext">Creating A HTTP Server List Tab</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Talking_to_the_webserver"><span class="tocnumber">1.1</span> <span class="toctext">Talking to the webserver</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#The_tab_itself"><span class="tocnumber">1.2</span> <span class="toctext">The tab itself</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Loading_the_tab"><span class="tocnumber">1.3</span> <span class="toctext">Loading the tab</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#The_whole_lot"><span class="tocnumber">1.4</span> <span class="toctext">The whole lot</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Why.3F.3F.21"><span class="tocnumber">1.5</span> <span class="toctext">Why??!</span></a></li>
</ul>
</li>
</ul>
</div>
<p></p>
<h2><span class="mw-headline" id="Creating_A_HTTP_Server_List_Tab">Creating A HTTP Server List Tab</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Will/Creating_A_HTTP_Server_List_Tab?section=1" title="Edit section: Creating A HTTP Server List Tab">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This page basically explains the steps I've taken over the last day or so to create a server tab that will pull it's list of servers from a file on a webserver somewhere. It took me a fair while because I'd not looked at server tabs or how they all go together before at all.</p>
<h3><span class="mw-headline" id="Talking_to_the_webserver">Talking to the webserver</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Will/Creating_A_HTTP_Server_List_Tab?section=2" title="Edit section: Talking to the webserver">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>If you want to pull some data from a web server, you have to talk to this server. This is the part that gave me the most greif in figuring it out (mainly that my CR and LF and CRLF variables weren't set – it worked once I'd set them).</p>
<p>This part is going to be a <a href="https://wiki.beyondunreal.com/edit/Legacy:BufferedTCPLink?redlink=1" class="new" title="Legacy:BufferedTCPLink (page does not exist)">BufferedTCPLink</a> subclass.</p>
<p>You need to declare a few variables first:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Var</span> <span class="kw5">String</span> ServerAddress; <span class="co1">//the server address, ie: www.beyondunreal.com</span>
<span class="kw1">Var</span> <span class="kw5">String</span> ServerPath; <span class="co1">//The path to connect to, ie: /index.php</span>
<span class="kw1">Var</span> <span class="kw5">Int</span> ServerPort; <span class="co1">//The port on the server to connect to</span>
<span class="kw1">Var</span> BYBrowser_Page BYBP; <span class="co1">//A link to the browser page itself. Used later, and set by the browser page. </span>
<span class="kw1">Var</span> Array<span class="sy0">&lt;</span>String<span class="sy0">&gt;</span> LinesA; <span class="co1">//This holds the results of your query</span>
</pre></div>
</div>
<p>Righto. That's sorted. Now onto the function and events.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Function</span> RetrieveServers<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
	LinesA.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
	ResetBuffer<span class="br0">(</span><span class="br0">)</span>;
	Resolve<span class="br0">(</span>ServerAddress<span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<p>This should be fairly self explanatory. It resets the string array, resets the buffer (which also sets the CR, LF, and CRLF variables), and tries to resolve the server address to an IP. If the resolve succeeds, event "Resolved" is fired off, which nicely brings me onto the next one...:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Function</span> Resolved<span class="br0">(</span>IpAddr Addr<span class="br0">)</span>
<span class="br0">{</span>
	Addr.<span class="me0">Port</span> <span class="sy0">=</span> ServerPort;
 
	<span class="kw2">If</span> <span class="br0">(</span>BindPort<span class="br0">(</span><span class="br0">)</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
		<span class="kw2">Return</span>;
 
	Open<span class="br0">(</span>Addr<span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<p>Basically, this sets the port to be used, attempts to bind a port, and opens a connection to the remote server. When the connection is opened, Event "Opened" is called.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Event</span> Opened<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw1">Local</span> <span class="kw5">String</span> SendString;
 
	SendString <span class="sy0">=</span> <span class="st0">"GET "</span> <span class="sy0">$</span> <span class="st0">"http://"</span> <span class="sy0">$</span> ServerAddress <span class="sy0">$</span> ServerPath <span class="sy0">$</span> <span class="st0">" HTTP/1.0"</span> <span class="sy0">$</span> CRLF <span class="sy0">$</span> <span class="st0">"Host: "</span> <span class="sy0">$</span> ServerAddress <span class="sy0">$</span> CRLF <span class="sy0">$</span> CRLF;
 
	SendBufferedData<span class="br0">(</span>SendString<span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<p>This function quite simply creates the string to be sent to the server (requesting the document), and then adds it to the send buffer.</p>
<p>Now we're onto the processing of the data that is returned, all handled in these next two functions:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">event</span> ReceivedText<span class="br0">(</span><span class="kw5">string</span> Text<span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw1">Local</span> <span class="kw5">int</span> I;
	SplitIntoLines<span class="br0">(</span>Text<span class="br0">)</span>;
	<span class="kw2">For</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>linesa.<span class="me0">length</span>;i<span class="sy0">++</span><span class="br0">)</span>
		<span class="br0">{</span>
		BYBP.<span class="me0">AddToList</span><span class="br0">(</span>BYBP.<span class="me0">IPToServer</span><span class="br0">(</span>linesa<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="br0">)</span>;
		<span class="br0">}</span>
	BYBP.<span class="me0">RefreshFinished</span><span class="br0">(</span><span class="br0">)</span>;
	LinesA.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
<span class="br0">}</span>
 
<span class="kw1">Function</span> SplitIntoLines<span class="br0">(</span><span class="kw5">String</span> Text<span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw1">Local</span> <span class="kw5">int</span> i;
	<span class="kw1">Local</span> <span class="kw5">String</span> Temp;
 
	Text <span class="sy0">=</span> <span class="kw3">Mid</span><span class="br0">(</span>Text, <span class="kw3">InStr</span><span class="br0">(</span>Text, CRLF<span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span>; <span class="co1">//Split off the headers</span>
 
	<span class="kw2">Do</span>	<span class="br0">{</span>
		Temp <span class="sy0">=</span> <span class="st0">""</span>;
		Temp <span class="sy0">=</span> <span class="kw3">Left</span><span class="br0">(</span>Text, <span class="kw3">InStr</span><span class="br0">(</span>Text, <span class="kw3">Chr</span><span class="br0">(</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>;
 
		<span class="kw2">If</span> <span class="br0">(</span><span class="br0">(</span>Temp <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>Temp <span class="sy0">!=</span> <span class="kw3">Chr</span><span class="br0">(</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>Temp <span class="sy0">!=</span> <span class="kw3">Chr</span><span class="br0">(</span><span class="nu0">13</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>
			<span class="br0">{</span>
			LinesA.<span class="me0">Length</span> <span class="sy0">=</span> LinesA.<span class="me0">Length</span> <span class="sy0">+</span> <span class="nu0">1</span>;
			LinesA<span class="br0">[</span>LinesA.<span class="me0">Length</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy0">=</span> Temp;
			<span class="br0">}</span>
		Text <span class="sy0">=</span> <span class="kw3">Mid</span><span class="br0">(</span>Text, <span class="kw3">InStr</span><span class="br0">(</span>Text, <span class="kw3">Chr</span><span class="br0">(</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span>;
		i<span class="sy0">++</span>;
		<span class="br0">}</span> Until <span class="br0">(</span><span class="br0">(</span><span class="kw3">InStr</span><span class="br0">(</span>Text, <span class="kw3">Chr</span><span class="br0">(</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">)</span> <span class="sy0">==</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span> <span class="sy0">||</span> <span class="br0">(</span>i <span class="sy0">&gt;</span> <span class="nu0">200</span><span class="br0">)</span><span class="br0">)</span>; <span class="co1">//put in to stop a massive loop which might happen</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>RecievedText is called when, you guessed it, some text is received. It then calls the SplitIntoLines function, who's job it is to remove the headers (all before one CRLF), and then split the remainder into IP's (Seperarated by LF's). The IP's are all added into the dynamic array, and this is used back in the RecievedText function to add the IP's into the server tab's list. The array is then reset.</p>
<p>And of course, you need the defaultproperties:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">DefaultProperties</span>
<span class="br0">{</span>
	ServerAddress<span class="sy0">=</span><span class="st0">"byut.net"</span>
	ServerPath<span class="sy0">=</span><span class="st0">"/serverlist2k3.php"</span>
	ServerPort<span class="sy0">=</span><span class="nu0">80</span>
<span class="br0">}</span>
</pre></div>
</div>
<h3><span class="mw-headline" id="The_tab_itself">The tab itself</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Will/Creating_A_HTTP_Server_List_Tab?section=3" title="Edit section: The tab itself">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This is probably one of the bits that caused me the LEAST greif. I decided to subclass it from the Favourites tab, because that is closest to what I want it to be.</p>
<p>Only one variable here:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Var</span> BYBrowser_HTTPLink BYB;
</pre></div>
</div>
<p>That's just a reference to the HTTPLink, which is needed to actually query the HTTP server to get the server list.</p>
<p>InitComponent, I think this is one of the places that gave me the least greif. It's all very simple and straightforward.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> InitComponent<span class="br0">(</span>GUIController MyController, GUIComponent MyOwner<span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw6">Super</span><span class="br0">(</span>Browser_ServerListPageBase<span class="br0">)</span>.<span class="me0">Initcomponent</span><span class="br0">(</span>MyController, MyOwner<span class="br0">)</span>;
 
	<span class="kw2">if</span><span class="br0">(</span>SQC <span class="sy0">==</span> <span class="kw5">None</span> <span class="br0">)</span> <span class="co1">//needed for pingage, etc</span>
		<span class="br0">{</span>
		SQC <span class="sy0">=</span> PlayerOwner<span class="br0">(</span><span class="br0">)</span>.<span class="kw7">Level</span>.<span class="kw4">Spawn</span><span class="br0">(</span><span class="kw1">class</span><span class="st0">'ServerQueryClient'</span><span class="br0">)</span>;
		SQC.<span class="me0">OnReceivedPingInfo</span> <span class="sy0">=</span> MyServersList.<span class="me0">MyReceivedPingInfo</span>;
		SQC.<span class="me0">OnPingTimeout</span> <span class="sy0">=</span> MyServersList.<span class="me0">MyPingTimeout</span>;
		<span class="br0">}</span>
 
	<span class="co1">//edit buttons</span>
	GUIButton<span class="br0">(</span>GUIPanel<span class="br0">(</span>Controls<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span>.<span class="me0">Controls</span><span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span>.<span class="me0">Caption</span> <span class="sy0">=</span> <span class="st0">"RE-PING LIST"</span>;
	GUIButton<span class="br0">(</span>GUIPanel<span class="br0">(</span>Controls<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span>.<span class="me0">Controls</span><span class="br0">[</span><span class="nu0">6</span><span class="br0">]</span><span class="br0">)</span>.<span class="me0">bVisible</span><span class="sy0">=</span><span class="kw6">False</span>;
	GUIButton<span class="br0">(</span>GUIPanel<span class="br0">(</span>Controls<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span>.<span class="me0">Controls</span><span class="br0">[</span><span class="nu0">7</span><span class="br0">]</span><span class="br0">)</span>.<span class="me0">Caption</span> <span class="sy0">=</span> <span class="st0">"REFRESH LIST"</span>;
	GUIButton<span class="br0">(</span>GUIPanel<span class="br0">(</span>Controls<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span>.<span class="me0">Controls</span><span class="br0">[</span><span class="nu0">7</span><span class="br0">]</span><span class="br0">)</span>.<span class="me0">OnClick</span> <span class="sy0">=</span> RefreshClick;
	StatusBar.<span class="me0">WinWidth</span><span class="sy0">=</span><span class="nu0">0.8</span>;
 
	RefreshList<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<p>Skip out the favoutites class in the Super call, else you'll be just messing around, and server query client is something I left out at first, before I realised it was needed to actually talk to the servers themselves. The rest is just altering the buttons, as the Favourites tab leaves out one, and renames another. I changed them back to what they should be.</p>
<p>Next bit is the RefreshList function, which handles loading and using the HTTP Link class.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Function</span> RefreshList<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw2">ForEach</span> PlayerOwner<span class="br0">(</span><span class="br0">)</span>.<span class="kw7">Level</span>.<span class="kw2">AllActors</span><span class="br0">(</span><span class="kw1">Class</span><span class="st0">'BYBrowser_HTTPLink'</span>, BYB<span class="br0">)</span>
		<span class="kw2">Break</span>;
	<span class="kw2">if</span><span class="br0">(</span>BYB <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
		BYB <span class="sy0">=</span> PlayerOwner<span class="br0">(</span><span class="br0">)</span>.<span class="kw7">Level</span>.<span class="kw4">Spawn</span><span class="br0">(</span><span class="kw1">class</span><span class="st0">'BYBrowser_HTTPLink'</span><span class="br0">)</span>;
 
	BYB.<span class="me0">BYBP</span> <span class="sy0">=</span> <span class="kw6">Self</span>;
 
	MyServersList.<span class="me0">Clear</span><span class="br0">(</span><span class="br0">)</span>; <span class="co1">//Clear the current list</span>
	BYB.<span class="me0">RetrieveServers</span><span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<p>Basically, all that does is find (or create) the HTTP Link, set it's BYBP value (see the section above), clears the current server list, then calls RetrieveServers on the HTTP Link – which as you'll know initiates the connection, etc.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Function</span> RefreshFinished<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
	MyServersList.<span class="me0">AutoPingServers</span><span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<p>This diddy function is just called at the end of an update to force the servers to refresh, re-ping, etc.</p>
<p>The following function was ripped right out of another class, and all it does is turn an IP into a ServerResponseLine which is needed to add it to the list.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Function</span> <span class="kw9">GameInfo</span>.<span class="me0">ServerResponseLine</span> IPToServer<span class="br0">(</span><span class="kw5">string</span> Address<span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw1">local</span> <span class="kw9">GameInfo</span>.<span class="me0">ServerResponseLine</span> S;
	<span class="kw1">local</span> <span class="kw5">string</span> ipString, portString;
	<span class="kw1">local</span> <span class="kw5">int</span> colonPos, portNum;
 
	<span class="co1">// Parse text to find IP and possibly port number</span>
	colonPos <span class="sy0">=</span> <span class="kw3">InStr</span><span class="br0">(</span>address, <span class="st0">":"</span><span class="br0">)</span>;
	<span class="kw2">if</span><span class="br0">(</span>colonPos <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="br0">)</span>
		<span class="br0">{</span>
		ipString <span class="sy0">=</span> address;
		portNum <span class="sy0">=</span> <span class="nu0">7777</span>;
		<span class="br0">}</span>
	<span class="kw2">else</span>
		<span class="br0">{</span>
		ipString <span class="sy0">=</span> <span class="kw3">Left</span><span class="br0">(</span>address, colonPos<span class="br0">)</span>;
		portString <span class="sy0">=</span> <span class="kw3">Mid</span><span class="br0">(</span>address, colonPos<span class="sy0">+</span><span class="nu0">1</span><span class="br0">)</span>;
		portNum <span class="sy0">=</span> <span class="kw5">int</span><span class="br0">(</span>portString<span class="br0">)</span>;
		<span class="br0">}</span>
 
	S.<span class="me0">IP</span> <span class="sy0">=</span> ipString;
	S.<span class="me0">Port</span> <span class="sy0">=</span> portNum;
	S.<span class="me0">QueryPort</span> <span class="sy0">=</span> portNum;
	S.<span class="me0">ServerName</span> <span class="sy0">=</span> <span class="st0">"Unknown"</span>;
 
	<span class="kw2">Return</span> S;
<span class="br0">}</span>
</pre></div>
</div>
<p>You'll see the above function called in conjunction with the function below in the HTTP Link class.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Function</span> AddToList<span class="br0">(</span><span class="kw9">GameInfo</span>.<span class="me0">ServerResponseLine</span> S<span class="br0">)</span>
<span class="br0">{</span>
	MyServersList.<span class="me0">MyOnReceivedServer</span><span class="br0">(</span>S<span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<p>Quite simply, that just adds the server to the list. Nothing more to it.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> PingServer<span class="br0">(</span> <span class="kw5">int</span> listid, ServerQueryClient.<span class="me0">EPingCause</span> PingCause, <span class="kw9">GameInfo</span>.<span class="me0">ServerResponseLine</span> s <span class="br0">)</span>
<span class="br0">{</span>
 
	<span class="kw2">if</span><span class="br0">(</span> PingCause <span class="sy0">==</span> PC_Clicked <span class="br0">)</span>
		SQC.<span class="me0">PingServer</span><span class="br0">(</span> listid, PingCause, s.<span class="me0">IP</span>, s.<span class="me0">QueryPort</span>, QI_RulesAndPlayers, s <span class="br0">)</span>;
	<span class="kw2">else</span>
		SQC.<span class="me0">PingServer</span><span class="br0">(</span> listid, PingCause, s.<span class="me0">IP</span>, s.<span class="me0">QueryPort</span>, QI_Ping, s <span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<p>PingServer. Pings the server. Simple huh? (this might be left over from the Favourites tab superclass, I'm not sure...).</p>
<p>And the below functions are just set to do nothing, because that's what they should do for this tab.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> AddIPClick<span class="br0">(</span>GUIComponent Sender<span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw1">function</span> SaveFavorites<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>And finally, the defaultproperties, where the caption for this tab is set.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">DefaultProperties</span>
<span class="br0">{</span>
	PageCaption<span class="sy0">=</span><span class="st0">"BY Servers"</span>
<span class="br0">}</span>
</pre></div>
</div>
<h3><span class="mw-headline" id="Loading_the_tab">Loading the tab</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Will/Creating_A_HTTP_Server_List_Tab?section=4" title="Edit section: Loading the tab">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Although this bit was very simple, I'm still kinda peeved that epic/DE didn't include any way to load the tab without having to use some silly "summon" command. Ah well, since this class is basically one simple function, I'll paste it all below and explain it.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> <span class="kw4">PostBeginPlay</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw1">local</span> ServerBrowser SB;
	<span class="kw1">local</span> Browser_ServerListPageFavorites BYServerListPage;
 
	<span class="kw2">ForEach</span> <span class="kw3">AllObjects</span><span class="br0">(</span><span class="kw1">Class</span><span class="st0">'ServerBrowser'</span>,SB<span class="br0">)</span>	<span class="co1">// Search to see if it is already added, if not, add it.</span>
		<span class="br0">{</span>
		<span class="kw2">If</span> <span class="br0">(</span>SB <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
			<span class="br0">{</span>
			BYServerListPage <span class="sy0">=</span> <span class="kw1">new</span><span class="br0">(</span><span class="kw5">None</span><span class="br0">)</span> <span class="kw1">class</span><span class="st0">'BYBrowser_Page'</span>;
			SB.<span class="me0">AddBrowserPage</span><span class="br0">(</span>BYServerListPage<span class="br0">)</span>;
			<span class="kw2">Break</span>;
			<span class="br0">}</span>
		<span class="br0">}</span>
 
	<span class="kw4">Destroy</span><span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
	bHidden<span class="sy0">=</span><span class="kw6">True</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>When this actor is spawned, it looks for the server browser. If it finds it, it adds my tab. It then kills itself. That simple, nothing more to it.</p>
<h3><span class="mw-headline" id="The_whole_lot">The whole lot</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Will/Creating_A_HTTP_Server_List_Tab?section=5" title="Edit section: The whole lot">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Well, for you people who just want the code so they can modify it and change it to suit their needs, I've pasted the whole three classes below.</p>
<p><b>The HTTP Link:</b></p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Class</span> BYBrowser_HTTPLink <span class="kw1">Extends</span> BufferedTCPLink;
 
<span class="kw1">Var</span> <span class="kw5">String</span> ServerAddress;
<span class="kw1">Var</span> <span class="kw5">String</span> ServerPath;
<span class="kw1">Var</span> <span class="kw5">Int</span> ServerPort;
<span class="kw1">Var</span> BYBrowser_Page BYBP;
<span class="kw1">Var</span> Array<span class="sy0">&lt;</span>String<span class="sy0">&gt;</span> LinesA;
 
<span class="kw1">Function</span> RetrieveServers<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
	LinesA.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
	ResetBuffer<span class="br0">(</span><span class="br0">)</span>;
	Resolve<span class="br0">(</span>ServerAddress<span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw1">Function</span> Resolved<span class="br0">(</span>IpAddr Addr<span class="br0">)</span>
<span class="br0">{</span>
	Addr.<span class="me0">Port</span> <span class="sy0">=</span> ServerPort;
 
	<span class="kw2">If</span> <span class="br0">(</span>BindPort<span class="br0">(</span><span class="br0">)</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
		<span class="kw2">Return</span>;
 
	Open<span class="br0">(</span>Addr<span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw1">Event</span> Opened<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw1">Local</span> <span class="kw5">String</span> SendString;
 
	SendString <span class="sy0">=</span> <span class="st0">"GET "</span> <span class="sy0">$</span> <span class="st0">"http://"</span> <span class="sy0">$</span> ServerAddress <span class="sy0">$</span> ServerPath <span class="sy0">$</span> <span class="st0">" HTTP/1.0"</span> <span class="sy0">$</span> CRLF <span class="sy0">$</span> <span class="st0">"Host: "</span> <span class="sy0">$</span> ServerAddress <span class="sy0">$</span> CRLF <span class="sy0">$</span> CRLF;
 
	SendBufferedData<span class="br0">(</span>SendString<span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw1">Function</span> <span class="kw4">Tick</span> <span class="br0">(</span><span class="kw5">Float</span> TimeDelta<span class="br0">)</span>
<span class="br0">{</span>
	DoBufferQueueIO<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw1">event</span> ReceivedText<span class="br0">(</span><span class="kw5">string</span> Text<span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw1">Local</span> <span class="kw5">int</span> I;
 
	SplitIntoLines<span class="br0">(</span>Text<span class="br0">)</span>;
 
	<span class="kw2">For</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>linesa.<span class="me0">length</span>;i<span class="sy0">++</span><span class="br0">)</span>
		<span class="br0">{</span>
		BYBP.<span class="me0">AddToList</span><span class="br0">(</span>BYBP.<span class="me0">IPToServer</span><span class="br0">(</span>linesa<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span><span class="br0">)</span>;
		<span class="br0">}</span>
 
	BYBP.<span class="me0">RefreshFinished</span><span class="br0">(</span><span class="br0">)</span>;
 
	LinesA.<span class="me0">Length</span> <span class="sy0">=</span> <span class="nu0">0</span>;
<span class="br0">}</span>
 
<span class="kw1">Function</span> SplitIntoLines<span class="br0">(</span><span class="kw5">String</span> Text<span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw1">Local</span> <span class="kw5">int</span> i;
	<span class="kw1">Local</span> <span class="kw5">String</span> Temp;
 
	Text <span class="sy0">=</span> <span class="kw3">Mid</span><span class="br0">(</span>Text, <span class="kw3">InStr</span><span class="br0">(</span>Text, CRLF<span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span>; <span class="co1">//Split off the headers</span>
 
	<span class="kw2">Do</span>	<span class="br0">{</span>
		Temp <span class="sy0">=</span> <span class="st0">""</span>;
		Temp <span class="sy0">=</span> <span class="kw3">Left</span><span class="br0">(</span>Text, <span class="kw3">InStr</span><span class="br0">(</span>Text, <span class="kw3">Chr</span><span class="br0">(</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>;
 
		<span class="kw2">If</span> <span class="br0">(</span><span class="br0">(</span>Temp <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>Temp <span class="sy0">!=</span> <span class="kw3">Chr</span><span class="br0">(</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>Temp <span class="sy0">!=</span> <span class="kw3">Chr</span><span class="br0">(</span><span class="nu0">13</span><span class="br0">)</span><span class="br0">)</span><span class="br0">)</span>
			<span class="br0">{</span>
			LinesA.<span class="me0">Length</span> <span class="sy0">=</span> LinesA.<span class="me0">Length</span> <span class="sy0">+</span> <span class="nu0">1</span>;
			LinesA<span class="br0">[</span>LinesA.<span class="me0">Length</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy0">=</span> Temp;
			<span class="br0">}</span>
		Text <span class="sy0">=</span> <span class="kw3">Mid</span><span class="br0">(</span>Text, <span class="kw3">InStr</span><span class="br0">(</span>Text, <span class="kw3">Chr</span><span class="br0">(</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span>;
		i<span class="sy0">++</span>;
		<span class="br0">}</span> Until <span class="br0">(</span><span class="br0">(</span><span class="kw3">InStr</span><span class="br0">(</span>Text, <span class="kw3">Chr</span><span class="br0">(</span><span class="nu0">10</span><span class="br0">)</span><span class="br0">)</span> <span class="sy0">==</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span> <span class="sy0">||</span> <span class="br0">(</span>i <span class="sy0">&gt;</span> <span class="nu0">50</span><span class="br0">)</span><span class="br0">)</span>; <span class="co1">//put in to stop a massive loop which might happen</span>
<span class="br0">}</span>
 
<span class="kw1">DefaultProperties</span>
<span class="br0">{</span>
	ServerAddress<span class="sy0">=</span><span class="st0">"byut.net"</span>
	ServerPath<span class="sy0">=</span><span class="st0">"/serverlist2k3.php"</span>
	ServerPort<span class="sy0">=</span><span class="nu0">80</span>
<span class="br0">}</span>
</pre></div>
</div>
<p><b>And now, the server tab:</b></p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Class</span> BYBrowser_Page <span class="kw1">extends</span> Browser_ServerListPageFavorites;
 
<span class="kw1">Var</span> BYBrowser_HTTPLink BYB;
 
<span class="kw1">function</span> InitComponent<span class="br0">(</span>GUIController MyController, GUIComponent MyOwner<span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw6">Super</span><span class="br0">(</span>Browser_ServerListPageBase<span class="br0">)</span>.<span class="me0">Initcomponent</span><span class="br0">(</span>MyController, MyOwner<span class="br0">)</span>;
 
	<span class="kw2">if</span><span class="br0">(</span>SQC <span class="sy0">==</span> <span class="kw5">None</span> <span class="br0">)</span> <span class="co1">//needed for pingage, etc</span>
		<span class="br0">{</span>
		SQC <span class="sy0">=</span> PlayerOwner<span class="br0">(</span><span class="br0">)</span>.<span class="kw7">Level</span>.<span class="kw4">Spawn</span><span class="br0">(</span><span class="kw1">class</span><span class="st0">'ServerQueryClient'</span><span class="br0">)</span>;
		SQC.<span class="me0">OnReceivedPingInfo</span> <span class="sy0">=</span> MyServersList.<span class="me0">MyReceivedPingInfo</span>;
		SQC.<span class="me0">OnPingTimeout</span> <span class="sy0">=</span> MyServersList.<span class="me0">MyPingTimeout</span>;
		<span class="br0">}</span>
 
	<span class="co1">//edit buttons</span>
	GUIButton<span class="br0">(</span>GUIPanel<span class="br0">(</span>Controls<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span>.<span class="me0">Controls</span><span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span>.<span class="me0">Caption</span> <span class="sy0">=</span> <span class="st0">"RE-PING LIST"</span>;
	GUIButton<span class="br0">(</span>GUIPanel<span class="br0">(</span>Controls<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span>.<span class="me0">Controls</span><span class="br0">[</span><span class="nu0">6</span><span class="br0">]</span><span class="br0">)</span>.<span class="me0">bVisible</span><span class="sy0">=</span><span class="kw6">False</span>;
	GUIButton<span class="br0">(</span>GUIPanel<span class="br0">(</span>Controls<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span>.<span class="me0">Controls</span><span class="br0">[</span><span class="nu0">7</span><span class="br0">]</span><span class="br0">)</span>.<span class="me0">Caption</span> <span class="sy0">=</span> <span class="st0">"REFRESH LIST"</span>;
	GUIButton<span class="br0">(</span>GUIPanel<span class="br0">(</span>Controls<span class="br0">[</span><span class="nu0">1</span><span class="br0">]</span><span class="br0">)</span>.<span class="me0">Controls</span><span class="br0">[</span><span class="nu0">7</span><span class="br0">]</span><span class="br0">)</span>.<span class="me0">OnClick</span> <span class="sy0">=</span> RefreshClick;
	StatusBar.<span class="me0">WinWidth</span><span class="sy0">=</span><span class="nu0">0.8</span>;
 
	RefreshList<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw1">Function</span> RefreshList<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw2">ForEach</span> PlayerOwner<span class="br0">(</span><span class="br0">)</span>.<span class="kw7">Level</span>.<span class="kw2">AllActors</span><span class="br0">(</span><span class="kw1">Class</span><span class="st0">'BYBrowser_HTTPLink'</span>, BYB<span class="br0">)</span>
		<span class="kw2">Break</span>;
	<span class="kw2">if</span><span class="br0">(</span>BYB <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
		BYB <span class="sy0">=</span> PlayerOwner<span class="br0">(</span><span class="br0">)</span>.<span class="kw7">Level</span>.<span class="kw4">Spawn</span><span class="br0">(</span><span class="kw1">class</span><span class="st0">'BYBrowser_HTTPLink'</span><span class="br0">)</span>;
 
	BYB.<span class="me0">BYBP</span> <span class="sy0">=</span> <span class="kw6">Self</span>;
 
	MyServersList.<span class="me0">Clear</span><span class="br0">(</span><span class="br0">)</span>; <span class="co1">//Clear the current list</span>
	BYB.<span class="me0">RetrieveServers</span><span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw1">Function</span> RefreshFinished<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
	MyServersList.<span class="me0">AutoPingServers</span><span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw1">Function</span> <span class="kw9">GameInfo</span>.<span class="me0">ServerResponseLine</span> IPToServer<span class="br0">(</span><span class="kw5">string</span> Address<span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw1">local</span> <span class="kw9">GameInfo</span>.<span class="me0">ServerResponseLine</span> S;
	<span class="kw1">local</span> <span class="kw5">string</span> ipString, portString;
	<span class="kw1">local</span> <span class="kw5">int</span> colonPos, portNum;
 
	<span class="co1">// Parse text to find IP and possibly port number</span>
	colonPos <span class="sy0">=</span> <span class="kw3">InStr</span><span class="br0">(</span>address, <span class="st0">":"</span><span class="br0">)</span>;
	<span class="kw2">if</span><span class="br0">(</span>colonPos <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="br0">)</span>
		<span class="br0">{</span>
		ipString <span class="sy0">=</span> address;
		portNum <span class="sy0">=</span> <span class="nu0">7777</span>;
		<span class="br0">}</span>
	<span class="kw2">else</span>
		<span class="br0">{</span>
		ipString <span class="sy0">=</span> <span class="kw3">Left</span><span class="br0">(</span>address, colonPos<span class="br0">)</span>;
		portString <span class="sy0">=</span> <span class="kw3">Mid</span><span class="br0">(</span>address, colonPos<span class="sy0">+</span><span class="nu0">1</span><span class="br0">)</span>;
		portNum <span class="sy0">=</span> <span class="kw5">int</span><span class="br0">(</span>portString<span class="br0">)</span> ;
		<span class="br0">}</span>
 
	S.<span class="me0">IP</span> <span class="sy0">=</span> ipString;
	S.<span class="me0">Port</span> <span class="sy0">=</span> portNum;
	S.<span class="me0">QueryPort</span> <span class="sy0">=</span> portNum;
	S.<span class="me0">ServerName</span> <span class="sy0">=</span> <span class="st0">"Unknown"</span>;
 
	<span class="kw2">Return</span> S;
<span class="br0">}</span>
 
<span class="kw1">Function</span> AddToList<span class="br0">(</span><span class="kw9">GameInfo</span>.<span class="me0">ServerResponseLine</span> S<span class="br0">)</span>
<span class="br0">{</span>
	MyServersList.<span class="me0">MyOnReceivedServer</span><span class="br0">(</span>S<span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw1">function</span> PingServer<span class="br0">(</span> <span class="kw5">int</span> listid, ServerQueryClient.<span class="me0">EPingCause</span> PingCause, <span class="kw9">GameInfo</span>.<span class="me0">ServerResponseLine</span> s <span class="br0">)</span>
<span class="br0">{</span>
 
	<span class="kw2">if</span><span class="br0">(</span> PingCause <span class="sy0">==</span> PC_Clicked <span class="br0">)</span>
		SQC.<span class="me0">PingServer</span><span class="br0">(</span> listid, PingCause, s.<span class="me0">IP</span>, s.<span class="me0">QueryPort</span>, QI_RulesAndPlayers, s <span class="br0">)</span>;
	<span class="kw2">else</span>
		SQC.<span class="me0">PingServer</span><span class="br0">(</span> listid, PingCause, s.<span class="me0">IP</span>, s.<span class="me0">QueryPort</span>, QI_Ping, s <span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="co1">//Functions that I now want to mean nothing</span>
<span class="kw1">function</span> <span class="kw5">bool</span> AddIPClick<span class="br0">(</span>GUIComponent Sender<span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw1">function</span> SaveFavorites<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
<span class="br0">}</span>
 
<span class="kw1">DefaultProperties</span>
<span class="br0">{</span>
	PageCaption<span class="sy0">=</span><span class="st0">"BY Servers"</span>
<span class="br0">}</span>
</pre></div>
</div>
<p><b>And finally, the loader:</b></p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">class</span> Load <span class="kw1">extends</span> <span class="kw9">Actor</span>;
 
<span class="kw1">function</span> <span class="kw4">PostBeginPlay</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw1">local</span> ServerBrowser SB;
	<span class="kw1">local</span> Browser_ServerListPageFavorites BYServerListPage;
 
	<span class="kw2">ForEach</span> <span class="kw3">AllObjects</span><span class="br0">(</span><span class="kw1">Class</span><span class="st0">'ServerBrowser'</span>,SB<span class="br0">)</span> <span class="co1">//add the tab.</span>
		<span class="br0">{</span>
		<span class="kw2">If</span> <span class="br0">(</span>SB <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
			<span class="br0">{</span>
			BYServerListPage <span class="sy0">=</span> <span class="kw1">new</span><span class="br0">(</span><span class="kw5">None</span><span class="br0">)</span> <span class="kw1">class</span><span class="st0">'BYBrowser_Page'</span>;
			SB.<span class="me0">AddBrowserPage</span><span class="br0">(</span>BYServerListPage<span class="br0">)</span>;
			<span class="kw2">Break</span>;
			<span class="br0">}</span>
		<span class="br0">}</span>
 
	<span class="kw4">Destroy</span><span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
	bHidden<span class="sy0">=</span><span class="kw6">True</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>And there it is!!</p>
<h3><span class="mw-headline" id="Why.3F.3F.21">Why??!</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Will/Creating_A_HTTP_Server_List_Tab?section=6" title="Edit section: Why??!">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The above was all written to create a server browser tab that will pick up servers currently running on Blueyonder games (A GSP which also happens to be part of my ISP). It took me a while to do and figure out, so I figured the wiki may like it.</p>
<hr />
<p><b>Will:</b> GEBUS CHRIST!! That's gotta be the biggest amount I've added to the wiki since I wrote the stuff on interactions. Please read through, point out code errors, logic errors, spelling errors, grammar errors, or any kind of errors you want.&#160;:)</p>
<p><b>Will:</b> ARGH GODDAMNS**THEADED*****INGB*STARDS!!&#160;:|</p>
<p>I just found out (via Wormbo), that epics latest beta patch (2179) prevents the problem of using custom server tabs as a root for a clientside hack by totally f*cking you up all together. You cant use them AT ALL. F*ck people by not including a way to add tabs automatically, f*ck people by not including a stock tab that can be used to download a server list from a wevserver, then f*ck em all again by removed the possibility for custom server tabs. GG epic. &gt;:| &gt;:| &gt;:|</p>
<p><b>Mychaeel:</b> Chill. – So, what exactly did they change?</p>
<p><b>Will:</b> I'm not exactly sure (I dont have the patch), but it now seems they've added those kind of packages that are loaded clientside and not preset serverside into the checks. Even the basic server tab itself will prevent you from joining a server, which is why I am hacked off - because they provide no alternative method of adding your own server tab while destroying the possibility of using one loaded yourself. Could this be a result of the email sent to DrSin about the ability to use tabs like that as a cheat?</p>
<p><b>Mychaeel:</b> Yes, I think it could. To be honest I had expected that the client purity check worked like that all the time.</p>
<p>What would help might be a way to have auto-creation of server tabs or other objects when the (full-screen) menu is displayed, and giving those objects some sort of notification just before the user leaves the menu to go (back) into the game to give them a chance to auto-destruct before a purity check is done. Or they could "freeze" all objects client-side from packages that aren't present on the server (no Tick, no PostRender, and generally no function calls possible).</p>

<!-- 
NewPP limit report
CPU time usage: 0.254 seconds
Real time usage: 0.256 seconds
Preprocessor visited node count: 193/1000000
Preprocessor generated node count: 408/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:3727-0!*!0!!en!*!* and timestamp 20161215190712 and revision id 9465
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Legacy:Will/Creating_A_HTTP_Server_List_Tab?oldid=9465">https://wiki.beyondunreal.com/Legacy:Will/Creating_A_HTTP_Server_List_Tab?oldid=9465</a>"</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-legacy" class="selected"><a href="Creating_A_HTTP_Server_List_Tab.html">Legacy</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Legacy_talk:Will/Creating_A_HTTP_Server_List_Tab?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Legacy:Will/Creating_A_HTTP_Server_List_Tab" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Legacy:Will/Creating_A_HTTP_Server_List_Tab" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AWill%2FCreating+A+HTTP+Server+List+Tab&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AWill%2FCreating+A+HTTP+Server+List+Tab" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="../index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="../index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="../Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Legacy:Will/Creating_A_HTTP_Server_List_Tab" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Legacy:Will/Creating_A_HTTP_Server_List_Tab" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Legacy:Will/Creating_A_HTTP_Server_List_Tab?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Legacy:Will/Creating_A_HTTP_Server_List_Tab?oldid=9465" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Legacy:Will/Creating_A_HTTP_Server_List_Tab" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 19:08, 14 January 2003.</li>
									<li id="copyright">Licensed as <a href="../Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="../Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="../Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="../Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":77});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Legacy:Will/Creating_A_HTTP_Server_List_Tab by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 10:55:12 GMT -->
</html>
