<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Legacy:Using_LocalMessages by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:56:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Legacy:Using LocalMessages - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Using_LocalMessages" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Using_LocalMessages" />
<link rel="shortcut icon" href="w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Legacy_Using_LocalMessages.html" />
<link rel="copyright" href="Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="w/load2743.css?debug=false&amp;lang=en&amp;modules=ext.geshi.language.uscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Legacy","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Legacy:Using_LocalMessages","wgTitle":"Using LocalMessages","wgCurRevisionId":8785,"wgRevisionId":8785,"wgArticleId":3409,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Legacy Tutorial","Legacy To Do"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:Using_LocalMessages","wgRelevantArticleId":3409,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-100 ns-subject page-Legacy_Using_LocalMessages skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>I love the smell of UnrealEd crashing in the morning. &#8211; tarquin
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:Using LocalMessages</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p></p>
<div id="toc" class="toc">
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#What_Are_LocalMessages.3F"><span class="tocnumber">1</span> <span class="toctext">What Are LocalMessages?</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Getting_to_know_LocalMessages"><span class="tocnumber">2</span> <span class="toctext">Getting to know LocalMessages</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Setting_up_a_testing_environment"><span class="tocnumber">2.1</span> <span class="toctext">Setting up a testing environment</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Broadcasting_a_LocalMessage"><span class="tocnumber">2.2</span> <span class="toctext">Broadcasting a LocalMessage</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#The_Switch_Parameter"><span class="tocnumber">2.2.1</span> <span class="toctext">The Switch Parameter</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#The_Related_PRIs"><span class="tocnumber">2.2.2</span> <span class="toctext">The Related PRIs</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#The_Optional_Object"><span class="tocnumber">2.2.3</span> <span class="toctext">The Optional Object</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#Sending_Messages_To_Individual_Players"><span class="tocnumber">2.3</span> <span class="toctext">Sending Messages To Individual Players</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Creating_New_LocalMessages"><span class="tocnumber">3</span> <span class="toctext">Creating New LocalMessages</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Related_Topics"><span class="tocnumber">4</span> <span class="toctext">Related Topics</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Related_Classes"><span class="tocnumber">5</span> <span class="toctext">Related Classes</span></a></li>
</ul>
</div>
<p></p>
<h2><span class="mw-headline" id="What_Are_LocalMessages.3F">What Are LocalMessages?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Using_LocalMessages?section=1" title="Edit section: What Are LocalMessages?">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The short description would be: All the messages in the game (e.g. "You have the flag, return to base!") are LocalMessage classes. LocalMessages have two important advantages over string messages: They use less network bandwidth and they can be displayed in different languages, regardless of the language the server uses. The classes can dynamically create the displayed strings from the parameters that were passed to them.</p>
<h2><span class="mw-headline" id="Getting_to_know_LocalMessages">Getting to know LocalMessages</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Using_LocalMessages?section=2" title="Edit section: Getting to know LocalMessages">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Setting_up_a_testing_environment">Setting up a testing environment</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Using_LocalMessages?section=3" title="Edit section: Setting up a testing environment">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>To get into LocalMessages we'll try using some of the existing message classes from a simple <a href="Legacy_Mutator.html" title="Legacy:Mutator">mutator</a> first. Make a new mutator like the one below and <a href="Legacy_Create_An_INT_File.html" title="Legacy:Create An INT File">create an INT File</a> for it, so it shows up in the game.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">class</span> MutLocalMessageTest <span class="kw1">extends</span> <span class="kw9">Mutator</span>;
 
<span class="kw1">function</span> ModifyPlayer<span class="br0">(</span><span class="kw9">Pawn</span> Other<span class="br0">)</span>
<span class="br0">{</span>
  <span class="co1">// call next mutator's ModifyPlayer, so we don't break other mutators</span>
  <span class="kw6">Super</span>.<span class="me0">ModifyPlayer</span><span class="br0">(</span>Other<span class="br0">)</span>;
 
  <span class="co1">// we'll put our code here soon</span>
<span class="br0">}</span>
 
<span class="co1">// Default properties neccessary for UT2003 mutators.</span>
<span class="co1">// Don't add this section if you're coding for earlier engine versions,</span>
<span class="co1">// it'll only cause compiler warnings.</span>
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
  FriendlyName<span class="sy0">=</span><span class="st0">"LocalMessage Test"</span>
  Description<span class="sy0">=</span><span class="st0">"Test mutator for LocalMessage classes."</span>
  GroupName<span class="sy0">=</span><span class="st0">"LocalMessage Test"</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>Now we have a testing environment we can use to play with the features of LocalMessage classes.</p>
<h3><span class="mw-headline" id="Broadcasting_a_LocalMessage">Broadcasting a LocalMessage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Using_LocalMessages?section=4" title="Edit section: Broadcasting a LocalMessage">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The first method to send LocalMessages we'll try is broadcasting them to all players. This sounds much more difficult than it is, because every <a href="Legacy_Actor.html" title="Legacy:Actor">Actor</a> (e.g. our mutator) has a function which does exactly that.</p>
<dl>
<dt>BroadcastLocalizedMessage (class&lt;<a href="Legacy_LocalMessage.html" title="Legacy:LocalMessage">LocalMessage</a>&gt; MessageClass, optional int Switch, optional <a href="Legacy_PlayerReplicationInfo.html" title="Legacy:PlayerReplicationInfo">PlayerReplicationInfo</a> RelatedPRI_1, optional <a href="Legacy_PlayerReplicationInfo.html" title="Legacy:PlayerReplicationInfo">PlayerReplicationInfo</a> RelatedPRI_2, optional <a href="Legacy_Object.html" title="Legacy:Object">Object</a> OptionalObject)</dt>
</dl>
<p>The MessageClass parameter specifies the LocalMessage class that should be broadcasted and is the only required parameter. We'll get back to the optional parameters later.</p>
<p>Let's broadcast a simple message whenever a player respawns by adding the following code to the mutator's ModifyPlayer function:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
BroadcastLocalizedMessage<span class="br0">(</span><span class="kw1">class</span><span class="st0">'CTFHUDMessage'</span><span class="br0">)</span>; <span class="co1">// in UT use CTFMessage2 instead</span>
</pre></div>
</div>
<p>Compile the mutator, start a Practice Session/Instant Action game and add the LocalMessage Test mutator. Now every time a player or bot respawns you get the "You have the flag, return to base!" message. If you open the UnrealGame.CTFHUDMessage (or Botpack.CTFMessage2) class you'll notice that this string isn't hard-coded, but instead stored in a localized variable. Localization happens client-side, so on a client with the German version the message would appear as "Sie haben die Flagge! Zurück zur Basis!", while the French version displays "Vous avez le drapeau, regagnez la base&#160;!" even though both may be connected to a server that runs the Spanish version. (which in case of a listen server would see "Tienes la bandera, ¡regresa a la base!")&#160;:)</p>
<h4><span class="mw-headline" id="The_Switch_Parameter">The Switch Parameter</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Using_LocalMessages?section=5" title="Edit section: The Switch Parameter">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The CTFHUDMessage class also contains the "The enemy has your flag, recover it!" message. To display it we have to use the first optional parameter of the BroadcastLocalizedMessage function, the Switch parameter. This is an integer value and by not specifying it the value 0 is used. Change the BroadcastLocalizedMessage call to this:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
BroadcastLocalizedMessage<span class="br0">(</span><span class="kw1">class</span><span class="st0">'CTFHUDMessage'</span>, <span class="nu0">1</span><span class="br0">)</span>; <span class="co1">// in UT use CTFMessage2 instead</span>
</pre></div>
</div>
<p>After recompiling you now see the new message each time somebody respawns.</p>
<p>Most LocalMessage classes use the Switch parameter for displaying completely different messages. Some examples are the CTF messages ("Player x picked up/dropped/captures/etc. the flag") or the game status messages. ("Press FIRE to start!", "The match is about to begin...3/2/1", etc.) You could say the Switch parameter specifies the type of message that should be displayed from a given class of LocalMessages.</p>
<h4><span class="mw-headline" id="The_Related_PRIs">The Related PRIs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Using_LocalMessages?section=6" title="Edit section: The Related PRIs">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>PRI is short for <a href="Legacy_PlayerReplicationInfo.html" title="Legacy:PlayerReplicationInfo">PlayerReplicationInfo</a>. PRIs are actors holding information about a player. LocalMessages build their display strings client-side. However, due to optimization in the <a href="Legacy_Replication.html" title="Legacy:Replication">replication</a> code not every bit of information about the players is sent to the clients in a network game. The things a client might want to know about even if the player isn't visible are saved in a PRI which is always available on all clients. (unlike the player's <a href="Legacy_Pawn.html" title="Legacy:Pawn">Pawn</a> or <a href="Legacy_Controller.html" title="Legacy:Controller">Controller</a> actors)</p>
<p>Some messages require information about one or two players. This could be a player's name (think "A's killing spree was ended by B."), a player's team or other player-specific information. The LocalMessages use their RelatedPRI_1 and RelatedPRI_2 parameters to specify up to two PRIs.</p>
<p>Let's try the "You were killed by ..." message. This message uses the RelatedPRI_1 parameter to get the killer's name. We will just let the respawned player be the "killer" here. Every Pawn and Controller actor has a PlayerReplicationInfo property which can be used to access the player's PRI. Change the broadcast line to this:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
BroadcastLocalizedMessage<span class="br0">(</span><span class="kw1">class</span><span class="st0">'xVictimMessage'</span>,, Other.<span class="me0">PlayerReplicationInfo</span><span class="br0">)</span>; <span class="co1">// use class'VictimMessage' in UT</span>
</pre></div>
</div>
<p>The victim message doesn't use the Switch parameter, that's why it isn't specified here.</p>
<h4><span class="mw-headline" id="The_Optional_Object">The Optional Object</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Using_LocalMessages?section=7" title="Edit section: The Optional Object">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The fourth optional parameter when broadcasting LocalMessages is of type Object. You can specify every kind of object here (Classes, Actors, Textures, Sounds, etc.), but you have to make sure that the object exists on all clients. This might only be a problem with Actors, since they have to be replicated before they can be used as the optional object parameter of a LocalMessage. In CTF and Bombing Run messages the optional object is either the flag/ball or a <a href="Legacy_TeamInfo.html" title="Legacy:TeamInfo">TeamInfo</a>.</p>
<p>For this tutorial we will use the item pickup message. The pickup message is stored in the PickupMessagePlus class (same name for UT and UT2003) and only checks the <a href="Legacy_Pickup.html" title="Legacy:Pickup">Pickup</a> class or <a href="Legacy_Inventory_(UT).html" title="Legacy:Inventory (UT)">Inventory (UT)</a> class passed as the optional object. To get the Sniper Rifle's/Lightning Gun's pickup message we use the following line:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
BroadcastLocalizedMessage<span class="br0">(</span><span class="kw1">class</span><span class="st0">'PickupMessagePlus'</span>,,, <span class="kw1">class</span><span class="st0">'SniperRiflePickup'</span><span class="br0">)</span>; <span class="co1">// use just class'SniperRifle' in UT</span>
</pre></div>
</div>
<p>This will display the message "You got the Lightning Gun." in UT2003 or "You got a Sniper Rifle." in UT.</p>
<h3><span class="mw-headline" id="Sending_Messages_To_Individual_Players">Sending Messages To Individual Players</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Using_LocalMessages?section=8" title="Edit section: Sending Messages To Individual Players">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Sending messages to individual players is a little more complicated (but not much) than broadcasting it. All we need is a reference to a <a href="Legacy_PlayerPawn.html" title="Legacy:PlayerPawn">PlayerPawn</a> in UT or a <a href="Legacy_PlayerController.html" title="Legacy:PlayerController">PlayerController</a> in UT2003. The PlayerPawn and PlayerController classes have a ReceiveLocalizedMessage function which is also used by the BroadcastMessage function. BroadcastMessage calls all players' ReceiveLocalizedMessage functions to broadcast the message, we'll only call it for one player for now.</p>
<dl>
<dt>ReceiveLocalizedMessage (class&lt;<a href="Legacy_LocalMessage.html" title="Legacy:LocalMessage">LocalMessage</a>&gt; Message, optional int Switch, optional <a href="Legacy_PlayerReplicationInfo.html" title="Legacy:PlayerReplicationInfo">PlayerReplicationInfo</a> RelatedPRI_1, optional <a href="Legacy_PlayerReplicationInfo.html" title="Legacy:PlayerReplicationInfo">PlayerReplicationInfo</a> RelatedPRI_2, optional <a href="Legacy_Object.html" title="Legacy:Object">Object</a> OptionalObject)</dt>
</dl>
<p>As you can see ReceiveLocalizedMessage has the same parameters as BroadcastLocalizedMessage. There's no need to explain scomething fundamentally new here, so let's jump right into an example.</p>
<p>For this example we will use the Mutate function of our test mutator because it already gives us a reference to a player and we don't have to go look for one. First we'll extend out testing environment. Add the following code below the ModifyPlayer function or replace that function with it.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="co1">// in UT write PlayerPawn Sender instead</span>
<span class="kw1">function</span> Mutate<span class="br0">(</span><span class="kw5">string</span> MutateString, <span class="kw9">PlayerController</span> Sender<span class="br0">)</span>
<span class="br0">{</span>
  <span class="co1">// call next mutator's Mutate, so we don't break other mutators</span>
  <span class="kw6">Super</span>.<span class="me0">Mutate</span><span class="br0">(</span>MutateString, Sender<span class="br0">)</span>;
 
  <span class="co1">// our code will go here</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>Let's send a headshot announcement to everyone who types "mutate headshot" at the console. Add the following lines in the Mutate function:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
  <span class="co1">// case-insensitive</span>
  <span class="kw2">if</span> <span class="br0">(</span> MutateString ~<span class="sy0">=</span> <span class="st0">"headshot"</span> <span class="br0">)</span>
    Sender.<span class="me0">ReceiveLocalizedMessage</span><span class="br0">(</span><span class="kw1">class</span><span class="st0">'SpecialKillMessage'</span><span class="br0">)</span>; <span class="co1">// use class'DecapitationMessage' in UT</span>
</pre></div>
</div>
<p>The headshot message doesn't need any parameters, it's always the same regardless of switch, related PRIs or optional object.</p>
<p>Now compile the mutator and start a game with it. Whenever you type "mutate headshot" you will see (and hear) "Headshot!", and in network games <i>only</i> the player who types it can see and hear it.</p>
<h2><span class="mw-headline" id="Creating_New_LocalMessages">Creating New LocalMessages</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Using_LocalMessages?section=9" title="Edit section: Creating New LocalMessages">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>For scripters, an easy way to get into creating your own localmessages is simply to steal an existing one. I wanted some onscreen debug messages so I copied <a href="Legacy_CTFHUDMessage.html" title="Legacy:CTFHUDMessage">CTFHUDMessage</a>, saved it into a file called MyScratchMessage.uc, and tweaked it to return my required messages.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">class</span> MyScratchMessage <span class="kw1">extends</span> LocalMessage;
 
<span class="co1">// Switch 0: Checkreset said Die</span>
<span class="co1">// Switch 1: Checkreset said vehicle not empty</span>
<span class="co1">// Switch 2: Checkreset found a collidingactor required ten more seconds</span>
<span class="co1">// Switch 3: Checkreset Destroyed!</span>
 
<span class="kw1">var</span><span class="br0">(</span>Message<span class="br0">)</span> <span class="kw1">localized</span> <span class="kw5">string</span> string0;
<span class="kw1">var</span><span class="br0">(</span>Message<span class="br0">)</span> <span class="kw1">localized</span> <span class="kw5">string</span> string1;
<span class="kw1">var</span><span class="br0">(</span>Message<span class="br0">)</span> <span class="kw1">localized</span> <span class="kw5">string</span> string2;
<span class="kw1">var</span><span class="br0">(</span>Message<span class="br0">)</span> <span class="kw1">localized</span> <span class="kw5">string</span> string3;
<span class="kw1">var</span><span class="br0">(</span>Message<span class="br0">)</span> <span class="kw5">color</span> YellowColor;
 
<span class="kw1">static</span> <span class="kw1">function</span> <span class="kw5">color</span> GetColor<span class="br0">(</span>
	<span class="kw1">optional</span> <span class="kw5">int</span> <span class="kw2">Switch</span>,
	<span class="kw1">optional</span> PlayerReplicationInfo RelatedPRI_1, 
	<span class="kw1">optional</span> PlayerReplicationInfo RelatedPRI_2
	<span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw2">return</span> <span class="kw1">Default</span>.<span class="me0">YellowColor</span>;
<span class="br0">}</span>
 
<span class="kw1">static</span> <span class="kw1">function</span> <span class="kw5">string</span> GetString<span class="br0">(</span>
	<span class="kw1">optional</span> <span class="kw5">int</span> <span class="kw2">Switch</span>,
	<span class="kw1">optional</span> PlayerReplicationInfo RelatedPRI_1, 
	<span class="kw1">optional</span> PlayerReplicationInfo RelatedPRI_2,
	<span class="kw1">optional</span> <span class="kw8">Object</span> OptionalObject
	<span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw2">if</span> <span class="br0">(</span><span class="kw2">Switch</span> <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>
	    <span class="kw2">return</span> <span class="kw1">Default</span>.<span class="me0">string0</span>;
    	<span class="kw2">else</span> <span class="kw2">if</span> <span class="br0">(</span><span class="kw2">Switch</span> <span class="sy0">==</span> <span class="nu0">1</span><span class="br0">)</span>
	    <span class="kw2">return</span> <span class="kw1">Default</span>.<span class="me0">string1</span>;
    	<span class="kw2">else</span> <span class="kw2">if</span> <span class="br0">(</span><span class="kw2">Switch</span> <span class="sy0">==</span> <span class="nu0">2</span><span class="br0">)</span>
	    <span class="kw2">return</span> <span class="kw1">Default</span>.<span class="me0">string2</span>;
    	<span class="kw2">else</span> 
	    <span class="kw2">return</span> <span class="kw1">Default</span>.<span class="me0">string3</span>;
<span class="br0">}</span>
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
     string0<span class="sy0">=</span><span class="st0">"Checkreset said Die"</span>
     string1<span class="sy0">=</span><span class="st0">"Checkreset said vehicle not empty"</span>
     string2<span class="sy0">=</span><span class="st0">"Checkreset found a collidingactor required ten more seconds"</span>
     string3<span class="sy0">=</span><span class="st0">"Checkreset Destroyed!"</span>
 
     YellowColor<span class="sy0">=</span><span class="br0">(</span>G<span class="sy0">=</span><span class="nu0">255</span>,R<span class="sy0">=</span><span class="nu0">255</span>,A<span class="sy0">=</span><span class="nu0">255</span><span class="br0">)</span>
 
     bIsPartiallyUnique<span class="sy0">=</span><span class="kw6">True</span>
     bIsConsoleMessage<span class="sy0">=</span><span class="kw6">False</span>
     bFadeMessage<span class="sy0">=</span><span class="kw6">True</span>
     bBeep<span class="sy0">=</span><span class="kw6">True</span>
     Lifetime<span class="sy0">=</span><span class="nu0">2</span>
     DrawColor<span class="sy0">=</span><span class="br0">(</span>G<span class="sy0">=</span><span class="nu0">160</span>,R<span class="sy0">=</span><span class="nu0">0</span><span class="br0">)</span>
     StackMode<span class="sy0">=</span>SM_Down
     PosY<span class="sy0">=</span><span class="nu0">0.100000</span>
     FontSize<span class="sy0">=</span><span class="nu0">1</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>As a scripter, I found I could just compile that into my package and it was available using <code>BroadcastLocalizedMessage(class'MyScratchMessage',1);</code></p>
<p><b>Sweavo:</b> I don't know how to then localize this for different regions, though. I guess you need to have separate source codes that compile into classes of the same name.</p>
<p><b>Tarquin:</b> Suppose I create and embed a LocalMessage class in <a href="Legacy_MyLevel.html" title="Legacy:MyLevel">MyLevel</a>... now how do I refer to it somewhere in the map so it's saved properly? Making it placeable seems to work.&#160;:)</p>
<h2><span class="mw-headline" id="Related_Topics">Related Topics</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Using_LocalMessages?section=10" title="Edit section: Related Topics">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li><a href="Legacy_Localization.html" title="Legacy:Localization">Localization</a></li>
<li><a href="Legacy_INT_File.html" title="Legacy:INT File">INT File</a></li>
</ul>
<h2><span class="mw-headline" id="Related_Classes">Related Classes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Using_LocalMessages?section=11" title="Edit section: Related Classes">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li><a href="Legacy_LocalMessage.html" title="Legacy:LocalMessage">LocalMessage</a>, <a href="Legacy_LocalMessage_(UT).html" title="Legacy:LocalMessage (UT)">LocalMessage (UT)</a></li>
<li><a href="Legacy_HUD.html" title="Legacy:HUD">HUD</a>, <a href="Legacy_HUD_(UT).html" title="Legacy:HUD (UT)">HUD (UT)</a></li>
<li><a href="Legacy_Canvas.html" title="Legacy:Canvas">Canvas</a>, <a href="Legacy_Canvas_(UT).html" title="Legacy:Canvas (UT)">Canvas (UT)</a></li>
</ul>
<hr />
<p><a href="Category_Legacy_Tutorial.html" title="Category:Legacy Tutorial">Category:Legacy Tutorial</a><br />
<a href="Category_Legacy_To_Do.html" title="Category:Legacy To Do">Category:Legacy To Do</a> → Add info about creating new LocalMessage classes.</p>

<!-- 
NewPP limit report
CPU time usage: 0.112 seconds
Real time usage: 0.114 seconds
Preprocessor visited node count: 117/1000000
Preprocessor generated node count: 226/1000000
Post‐expand include size: 38/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:3409-0!*!0!!en!*!* and timestamp 20161215142750 and revision id 8785
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Legacy:Using_LocalMessages?oldid=8785">https://wiki.beyondunreal.com/Legacy:Using_LocalMessages?oldid=8785</a>"</div>
					<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.beyondunreal.com/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="Category_Legacy_Tutorial.html" title="Category:Legacy Tutorial">Legacy Tutorial</a></li><li><a href="Category_Legacy_To_Do.html" title="Category:Legacy To Do">Legacy To Do</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-legacy" class="selected"><a href="Legacy_Using_LocalMessages.html">Legacy</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Legacy_talk:Using_LocalMessages?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Legacy:Using_LocalMessages" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Legacy:Using_LocalMessages" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AUsing+LocalMessages&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AUsing+LocalMessages" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Legacy:Using_LocalMessages" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Legacy:Using_LocalMessages" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Legacy:Using_LocalMessages?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Legacy:Using_LocalMessages?oldid=8785" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Legacy:Using_LocalMessages" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 01:24, 3 September 2005.</li>
									<li id="copyright">Licensed as <a href="Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":97});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Legacy:Using_LocalMessages by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:56:30 GMT -->
</html>
