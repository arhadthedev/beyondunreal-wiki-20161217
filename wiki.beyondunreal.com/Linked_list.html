<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Linked_list by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:52:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Linked list - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Linked_list" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Linked_list" />
<link rel="shortcut icon" href="w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Linked_list.html" />
<link rel="copyright" href="Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="w/load2743.css?debug=false&amp;lang=en&amp;modules=ext.geshi.language.uscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Linked_list","wgTitle":"Linked list","wgCurRevisionId":34589,"wgRevisionId":34589,"wgArticleId":24166,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Programming articles"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Linked_list","wgRelevantArticleId":24166,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Linked_list skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>Always snap to grid
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Linked list</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>A <b>linked list</b> is a data structure consisting of a sequence of values, where each element in the list not only holds the data, but also a reference to the next element in the list.</p>
<center><a href="File_Singly-linked-list.html" class="image"><img alt="Singly-linked-list.png" src="w/images/Singly-linked-list.png" width="408" height="41" /></a><br />
<small>A linked list containing integer values.</small></center>
<p>See <a href="http://en.wikipedia.org/wiki/linked_list" class="extiw" title="wp:linked list">linked list</a> for a more general introduction to linked lists.</p>
<p></p>
<div id="toc" class="toc">
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Linked_list_examples_in_UnrealScript"><span class="tocnumber">1</span> <span class="toctext">Linked list examples in UnrealScript</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Inventory_list"><span class="tocnumber">1.1</span> <span class="toctext">Inventory list</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Mutator_lists"><span class="tocnumber">1.2</span> <span class="toctext">Mutator lists</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Controller.2C_Pawn_and_NavigationPoint_lists"><span class="tocnumber">1.3</span> <span class="toctext">Controller, Pawn and NavigationPoint lists</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Iterating_over_linked_lists"><span class="tocnumber">2</span> <span class="toctext">Iterating over linked lists</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Using_built-in_iterator_functions"><span class="tocnumber">2.1</span> <span class="toctext">Using built-in iterator functions</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Building_linked_lists"><span class="tocnumber">3</span> <span class="toctext">Building linked lists</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Removing_list_items"><span class="tocnumber">4</span> <span class="toctext">Removing list items</span></a></li>
</ul>
</div>
<p></p>
<h2><span class="mw-headline" id="Linked_list_examples_in_UnrealScript">Linked list examples in UnrealScript</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Linked_list?section=1" title="Edit section: Linked list examples in UnrealScript">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The linked lists used in <a href="UnrealScript.html" title="UnrealScript">UnrealScript</a> are usually <b>simply-linked linear lists</b>, as opposed to circular and/or doubly- or multiply-linked lists. Also the lists or list nodes in UnrealScript linked lists usually aren't explicitly encapsulated in special objects, but instead are created implicitly through properties in the objects contained in the list. The first such object is usually referenced directly in another object.</p>
<p>Linked lists in UnrealScript are sometimes a bit difficult to explain, as the property pointing to the first or next item in the list often has a name that is similar or identical to the type of objects in the list. For example, the inventory item list is created through a property of type Inventory with the name Inventory. Don't get the type and name of variables confused here.</p>
<h3><span class="mw-headline" id="Inventory_list">Inventory list</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Linked_list?section=2" title="Edit section: Inventory list">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Probably one of the most important linked lists in UnrealScript is the Inventory<sup>(<span><a href="UE1_Inventory_(RTNP).html" title="UE1:Inventory (RTNP)">RTNP</a></span>, <span><a href="UE1_Inventory_(U1).html" title="UE1:Inventory (U1)">U1</a></span>, <span><a href="UE1_Inventory_(UT).html" title="UE1:Inventory (UT)">UT</a></span>, <span><a href="UE2_Inventory_(U2).html" title="UE2:Inventory (U2)">U2</a></span>, <span><a href="UE2_Inventory_(U2XMP).html" title="UE2:Inventory (U2XMP)">U2XMP</a></span>, <span><a href="UE2_Inventory_(UE2Runtime).html" title="UE2:Inventory (UE2Runtime)">UE2Runtime</a></span>, <span><a href="UE2_Inventory_(UT2003).html" title="UE2:Inventory (UT2003)">UT2003</a></span>, <span><a href="UE2_Inventory_(UT2004).html" title="UE2:Inventory (UT2004)">UT2004</a></span>, <span><a href="UE3_Inventory_(UDK).html" title="UE3:Inventory (UDK)">UDK</a></span>, <span><a href="UE3_Inventory_(UT3).html" title="UE3:Inventory (UT3)">UT3</a></span>)</sup> item list. In <a href="https://wiki.beyondunreal.com/edit/Unreal_Engine_1?redlink=1" class="new" title="Unreal Engine 1 (page does not exist)">Unreal Engine 1</a> and <a href="https://wiki.beyondunreal.com/edit/Unreal_Engine_2?redlink=1" class="new" title="Unreal Engine 2 (page does not exist)">2</a> games it is built via the Actor.Inventory property. In theory this means any Actor can have an Inventory list, but practically the Inventory property is only used by Pawns and Inventory items to create the list.</p>
<center><a href="File_InventoryListUT.html" class="image"><img alt="InventoryListUT.png" src="w/images/InventoryListUT.png" width="472" height="100" /></a><br />
<small>An inventory list in <a href="UT.html" title="UT" class="mw-redirect">UT</a>, starting at a <a href="UE1_Pawn_(UT).html" title="UE1:Pawn (UT)">Pawn</a> and containing a <a href="UE1_UT_FlakCannon_(UT).html" title="UE1:UT FlakCannon (UT)">Flak Cannon</a>, its <a href="UE1_FlakAmmo_(UT).html" title="UE1:FlakAmmo (UT)">ammo</a> and a <a href="UE1_Armor2_(UT).html" title="UE1:Armor2 (UT)">body armor</a>.</small></center>
<p><a href="Unreal_Engine_3.html" title="Unreal Engine 3">Unreal Engine 3</a> changed the layout of the inventory list a bit. Pawns now have a special InventoryManager<sup>(<span><a href="UE3_InventoryManager_(UDK).html" title="UE3:InventoryManager (UDK)">UDK</a></span>, <span><a href="UE3_InventoryManager_(UT3).html" title="UE3:InventoryManager (UT3)">UT3</a></span>)</sup> object, which holds a reference to the first item in the inventory list via its InventoryChain property. The Inventory property is declared in the Inventory class now, so "universal" inventory lists are no longer possible.</p>
<p>In either case the inventory list is a replicated linked list, which means its start and link properties are replicated.</p>
<h3><span class="mw-headline" id="Mutator_lists">Mutator lists</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Linked_list?section=3" title="Edit section: Mutator lists">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Another very important linked list is the Mutator<sup>(<span><a href="UE1_Mutator_(RTNP).html" title="UE1:Mutator (RTNP)">RTNP</a></span>, <span><a href="UE1_Mutator_(U1).html" title="UE1:Mutator (U1)">U1</a></span>, <span><a href="UE1_Mutator_(UT).html" title="UE1:Mutator (UT)">UT</a></span>, <span><a href="UE2_Mutator_(U2).html" title="UE2:Mutator (U2)">U2</a></span>, <span><a href="UE2_Mutator_(U2XMP).html" title="UE2:Mutator (U2XMP)">U2XMP</a></span>, <span><a href="UE2_Mutator_(UE2Runtime).html" title="UE2:Mutator (UE2Runtime)">UE2Runtime</a></span>, <span><a href="UE2_Mutator_(UT2003).html" title="UE2:Mutator (UT2003)">UT2003</a></span>, <span><a href="UE2_Mutator_(UT2004).html" title="UE2:Mutator (UT2004)">UT2004</a></span>, <span><a href="UE3_Mutator_(UDK).html" title="UE3:Mutator (UDK)">UDK</a></span>, <span><a href="UE3_Mutator_(UT3).html" title="UE3:Mutator (UT3)">UT3</a></span>)</sup> chain and the related GameRules<sup>(<span><a href="UE2_GameRules_(U2).html" title="UE2:GameRules (U2)">U2</a></span>, <span><a href="UE2_GameRules_(U2XMP).html" title="UE2:GameRules (U2XMP)">U2XMP</a></span>, <span><a href="UE2_GameRules_(UE2Runtime).html" title="UE2:GameRules (UE2Runtime)">UE2Runtime</a></span>, <span><a href="UE2_GameRules_(UT2003).html" title="UE2:GameRules (UT2003)">UT2003</a></span>, <span><a href="UE2_GameRules_(UT2004).html" title="UE2:GameRules (UT2004)">UT2004</a></span>, <span><a href="UE3_GameRules_(UT3).html" title="UE3:GameRules (UT3)">UT3</a></span>)</sup> chain. In <a href="UT.html" title="UT" class="mw-redirect">UT</a> there are even four different Mutator chains, the "main" mutators list, damage mutators, message mutators and HUD mutators. Except for the HUD mutators list, all mutator and gamerules lists are serverside-only.</p>
<p>The main mutators list starts with the BaseMutator property of the <a href="GameInfo.html" title="GameInfo">GameInfo</a><sup>(<span><a href="UE1_GameInfo_(RTNP).html" title="UE1:GameInfo (RTNP)">RTNP</a></span>, <span><a href="UE1_GameInfo_(U1).html" title="UE1:GameInfo (U1)">U1</a></span>, <span><a href="UE1_GameInfo_(UT).html" title="UE1:GameInfo (UT)">UT</a></span>, <span><a href="UE2_GameInfo_(U2).html" title="UE2:GameInfo (U2)">U2</a></span>, <span><a href="UE2_GameInfo_(U2XMP).html" title="UE2:GameInfo (U2XMP)">U2XMP</a></span>, <span><a href="UE2_GameInfo_(UE2Runtime).html" title="UE2:GameInfo (UE2Runtime)">UE2Runtime</a></span>, <span><a href="UE2_GameInfo_(UT2003).html" title="UE2:GameInfo (UT2003)">UT2003</a></span>, <span><a href="UE2_GameInfo_(UT2004).html" title="UE2:GameInfo (UT2004)">UT2004</a></span>, <span><a href="UE3_GameInfo_(UDK).html" title="UE3:GameInfo (UDK)">UDK</a></span>, <span><a href="UE3_GameInfo_(UT3).html" title="UE3:GameInfo (UT3)">UT3</a></span>)</sup> and continues via the Mutator.NextMutator property. In earlier engine generations you can assume the mutator list to contain at least one entry during the game, but starting with <a href="Unreal_Engine_3.html" title="Unreal Engine 3">Unreal Engine 3</a> the mutator list can also be completely empty.</p>
<p>Similarly, UT's damage and message mutator lists start with GameInfo.DamageMutator and GameInfo.MessageMutator respectively and continue with the Mutator.NextDamageMutator and Mutator.NextMessageMutator properties. Later engine generations combined these into the separate GameRules class. The GameRules list starts at GameInfo.GameRulesModifiers and continues via the GameRules.NextGameRules property.</p>
<p>HUD mutators are a bit tricky. Technically they are a clientside linked list starting at <a href="UE1_HUD_(UT).html#HUDMutator" title="UE1:HUD (UT)">HUD.HUDMutator</a> and continuing via the <a href="UE1_Mutator_(UT).html#NextHUDMutator" title="UE1:Mutator (UT)">Mutator.NextHUDMutator</a> property. Two problems make them harder to use, though. One is the lack of a standard registering method and standard PostRender() implementation. The other, more critical is an implementation inconsistency in the Relic mutators. These use the incompatible chaining property <a href="UE1_HUDMutator_(UT).html#NextRHUDMutator" title="UE1:HUDMutator (UT)">HUDMutator.NextRHUDMutator</a>. If that wasn't bad enough, the HUDMutator's registering method also destroys any previously existing chain built on the Mutator.NextHUDMutator property! (See <a href="Legacy_Relics_Patch.html" title="Legacy:Relics Patch">Legacy:Relics Patch</a> for an attempt to fix this incompatibility at least for the standard Relic mutators.)</p>
<h3><span class="mw-headline" id="Controller.2C_Pawn_and_NavigationPoint_lists">Controller, Pawn and NavigationPoint lists</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Linked_list?section=4" title="Edit section: Controller, Pawn and NavigationPoint lists">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In <a href="https://wiki.beyondunreal.com/edit/Unreal_Engine_1?redlink=1" class="new" title="Unreal Engine 1 (page does not exist)">Unreal Engine 1</a> games, all Pawns are automatically added to a linked list starting at the LevelInfo.PawnList property, which is accessible from all actors via <code>Level.PawnList</code> and continues via the Pawn.NextPawn property. Similarly <a href="https://wiki.beyondunreal.com/edit/Unreal_Engine_2?redlink=1" class="new" title="Unreal Engine 2 (page does not exist)">Unreal Engine 2</a> games maintain a Controller list (but no Pawn list) via LevelInfo.ControllerList and Controller.NextController. <a href="Unreal_Engine_3.html" title="Unreal Engine 3">Unreal Engine 3</a> games maintain both a Controller and a Pawn list via WorldInfo.ControllerList and WorldInfo.PawnList respectively.</p>
<p>All Unreal Engine games maintain a list of NavigationPoints via the LevelInfo/WorldInfo.NavigationPointList and NavigationPoint.NextNavigationPoint properties.</p>
<h2><span class="mw-headline" id="Iterating_over_linked_lists">Iterating over linked lists</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Linked_list?section=5" title="Edit section: Iterating over linked lists">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>To iterate over all items in a typical UnrealScript linked list, use the following <a href="For_loop.html" title="For loop">for loop</a>:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">local</span> ListItemType Item;
 
<span class="kw2">for</span> <span class="br0">(</span>Item <span class="sy0">=</span> FirstListItem; Item <span class="sy0">!=</span> <span class="kw5">None</span>; Item <span class="sy0">=</span> Item.<span class="me0">NextItem</span><span class="br0">)</span> <span class="br0">{</span>
  <span class="co1">// process the current list item</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>Here <i>ListItemType</i> is the type of items making up the list, <i>FirstListItem</i> stands for an expression that returns the first item in the linked list and <i>Item.NextItem</i> stands for an expression that returns the item in the list following the current item.</p>
<p>Sometimes you may want to delete items from a linked list while iterating over the list. In this case the above scheme will not work correctly. A more robust way to iterate in such cases looks as follows:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">local</span> ListItemType Item, Next;
 
<span class="kw2">for</span> <span class="br0">(</span>Item <span class="sy0">=</span> FirstListItem; Item <span class="sy0">!=</span> <span class="kw5">None</span>; Item <span class="sy0">=</span> Next<span class="br0">)</span> <span class="br0">{</span>
  Next <span class="sy0">=</span> Item.<span class="me0">NextItem</span>;
  <span class="co1">// process the current list item</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>Here the next item is determined before processing (and potentially deleting) the current item.</p>
<h3><span class="mw-headline" id="Using_built-in_iterator_functions">Using built-in iterator functions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Linked_list?section=6" title="Edit section: Using built-in iterator functions">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><a href="Unreal_Engine_3.html" title="Unreal Engine 3">Unreal Engine 3</a> provides <a href="Iterator_functions.html" title="Iterator functions" class="mw-redirect">iterator functions</a> for many built-in linked list, for example <a href="UE3_InventoryManager_(UT3).html#InventoryActors" title="UE3:InventoryManager (UT3)">InventoryManager.InventoryActors()</a> and <a href="UE3_WorldInfo_(UT3).html#AllPawns" title="UE3:WorldInfo (UT3)">WorldInfo.AllPawns()</a>/<a href="UE3_WorldInfo_(UT3).html#AllControllers" title="UE3:WorldInfo (UT3)">AllControllers()</a>. So, in order to iterate over all weapons in a Pawn's inventory, you would use the following <a href="Foreach_loop-2.html" title="Foreach loop" class="mw-redirect">foreach loop</a>:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">local</span> <span class="kw9">Weapon</span> W;
 
<span class="kw2">foreach</span> thePawn.<span class="me0">InvManager</span>.<span class="me0">InventoryActors</span><span class="br0">(</span><span class="kw1">class</span><span class="st0">'Weapon'</span>, W<span class="br0">)</span> <span class="br0">{</span>
  <span class="co1">// process this weapon</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>Earlier Unreal Engine generations require you to modify the original <a href="For_loop.html" title="For loop">for loop</a>:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">local</span> <span class="kw9">Inventory</span> Inv;
<span class="kw1">local</span> <span class="kw9">Weapon</span> W;
 
<span class="kw2">for</span> <span class="br0">(</span>Inv <span class="sy0">=</span> thePawn.<span class="kw9">Inventory</span>; Inv <span class="sy0">!=</span> <span class="kw5">None</span>; Inv <span class="sy0">=</span> Inv.<span class="kw9">Inventory</span><span class="br0">)</span> <span class="br0">{</span>
  W <span class="sy0">=</span> <span class="kw9">Weapon</span><span class="br0">(</span>Inv<span class="br0">)</span>;
  <span class="kw2">if</span> <span class="br0">(</span>W <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span> <span class="br0">{</span>
    <span class="co1">// process this weapon</span>
  <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>In Unreal Engine 3 the iteration steps and the checked <a href="Typecasting.html" title="Typecasting">typecasting</a> can be performed in fast <a href="https://wiki.beyondunreal.com/edit/Native_code?redlink=1" class="new" title="Native code (page does not exist)">native code</a> by using the iterator functions mentioned above. In fact, the Controller and NavigationPoint lists can only be accessed via the iterator functions because they are built from private variables.</p>
<h2><span class="mw-headline" id="Building_linked_lists">Building linked lists</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Linked_list?section=7" title="Edit section: Building linked lists">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>You already know how to iterate over existing items in a linked list, but how do you add new items to it? Well, basically there are three different positions in a list where an item can be added:</p>
<ol>
<li>as new first item,</li>
<li>at the end of the list or</li>
<li>somewhere in the middle of the list, potentially after a specific other item.</li>
</ol>
<p>If the list is empty, the second option collapses into the first option and the third option no longer applies.</p>
<p>The first option is the easiest:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
NewItem.<span class="me0">NextItem</span> <span class="sy0">=</span> FirstListItem;
FirstListItem <span class="sy0">=</span> NewItem;
</pre></div>
</div>
<p>Basically the previously first list item becomes the successor of the new item and the new item becomes the new first item of the list. This is how almost all linked lists in UnrealScript are used, although it's not very <a href="Replication.html" title="Replication" class="mw-redirect">replication</a>-friendly as clients might temporarily see only the new item in the list if the "link properties" are replicated instead of being built clientsidely.</p>
<p>Adding new items to the end of the list is a bit more complicated unless you remember the last element in a separate variable, but it is much more robust in the case of replicated linked lists:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">local</span> ListItemType Item;
 
<span class="kw2">if</span> <span class="br0">(</span>FirstListItem <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span> <span class="br0">{</span>
  FirstListItem <span class="sy0">=</span> NewItem;
<span class="br0">}</span>
<span class="kw2">else</span> <span class="br0">{</span>
  <span class="kw2">for</span> <span class="br0">(</span>Item <span class="sy0">=</span> FirstListItem; Item <span class="sy0">!=</span> <span class="kw5">None</span>; Item <span class="sy0">=</span> Item.<span class="me0">NextItem</span><span class="br0">)</span> <span class="br0">{</span>
    <span class="kw2">if</span> <span class="br0">(</span>Item.<span class="me0">NextItem</span> <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span> <span class="br0">{</span>
      <span class="co1">// found last item</span>
      Item.<span class="me0">NextItem</span> <span class="sy0">=</span> NewItem;
      <span class="kw2">break</span>;
    <span class="br0">}</span>
  <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>Note that you need to catch the special case where <code>FirstListItem == None</code> (i.e. the list is empty) because the for loop can't cover this case.</p>
<p>The third option, inserting a new item after a given item is as simple as the first option:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
NewItem.<span class="me0">NextItem</span> <span class="sy0">=</span> GivenItem.<span class="me0">NextItem</span>;
GivenItem.<span class="me0">NextItem</span> <span class="sy0">=</span> NewItem;
</pre></div>
</div>
<p>One very important thing to keep in mind when using these schemes is that every item can only be added to a list if it is not already in that or in any other list! Checking other lists is virtually impossible, you can only make sure an item is only added to a list if it was just created or removed from a list.</p>
<p>Another considerable issue with regard to building a linked list, by appending new elements on the end of the list, is the 250 calls restriction. That is, when adding new elements by passing the new element through the whole list, by calling an "add" function on the first element, which passes the new element to the next etc.., until the last element assigns the new element as its next element, the game will throw a "Infinite Script Recursion (250 calls) detected" General Protection Fault on your screen. This will happen from the moment it wants to add the 250th element, thus, resulting in a sum of 250 recursive calls of the "Add" function.</p>
<p>In short, to benefit the replication surplus of adding elements to the end of a linked list,either use an iterating function in the base object, or keep a pointing variable to the last element of the list and use that one instead to add the new element directly to the end. Make sure the function responsible for removing elements from the list, will update this variable if it's pointing to the element being removed, before removing the element.</p>
<h2><span class="mw-headline" id="Removing_list_items">Removing list items</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Linked_list?section=8" title="Edit section: Removing list items">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The previous section outlined how to build a linked list, but sometimes you need to remove items from he list without breaking it. Take the inventory list example from the top of the page and imagine the player throws away his Flak Cannon. The Flak Cannon must be properly removed from the inventory chain, otherwise Bad Things might happen. Similarly, if a player leaves the game, the player's Controller and/or Pawn must be removed from their corresponding lists.</p>
<p>To remove an item from a simply-linked linear list, one must consider two cases:</p>
<ol>
<li>The item is the first in the list or</li>
<li>the item is at some later point in the list.</li>
</ol>
<p>The following removal scheme accounts for both cases:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">local</span> ListItemType Item;
 
<span class="kw2">if</span> <span class="br0">(</span>ItemToRemove <span class="sy0">==</span> FirstListItem<span class="br0">)</span> <span class="br0">{</span>
  <span class="co1">// item is first in list</span>
  FirstListItem <span class="sy0">=</span> ItemToRemove.<span class="me0">NextItem</span>;
  ItemToRemove.<span class="me0">NextItem</span> <span class="sy0">=</span> <span class="kw5">None</span>; <span class="co1">// important: unlink the remaining list from the item!</span>
<span class="br0">}</span>
<span class="kw2">else</span> <span class="br0">{</span>
  <span class="co1">// item is somewhere else (or not at all) in the list</span>
  <span class="kw2">for</span> <span class="br0">(</span>Item <span class="sy0">=</span> FirstListItem; Item <span class="sy0">!=</span> <span class="kw5">None</span> <span class="sy0">&amp;&amp;</span> Item.<span class="me0">NextItem</span> <span class="sy0">!=</span> <span class="kw5">None</span>; Item <span class="sy0">=</span> Item.<span class="me0">NextItem</span><span class="br0">)</span> <span class="br0">{</span>
    <span class="kw2">if</span> <span class="br0">(</span>Item.<span class="me0">NextItem</span> <span class="sy0">==</span> ItemToRemove<span class="br0">)</span> <span class="br0">{</span>
      <span class="co1">// found the item, unlink it from the list</span>
      Item.<span class="me0">NextItem</span> <span class="sy0">=</span> ItemToRemove.<span class="me0">NextItem</span>;
      ItemToRemove.<span class="me0">NextItem</span> <span class="sy0">=</span> <span class="kw5">None</span>; <span class="co1">// important: unlink the remaining list from the item!</span>
      <span class="kw2">break</span>; <span class="co1">// item can be in the list only once</span>
    <span class="br0">}</span>
  <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>

<!-- 
NewPP limit report
CPU time usage: 0.244 seconds
Real time usage: 0.275 seconds
Preprocessor visited node count: 267/1000000
Preprocessor generated node count: 526/1000000
Post‐expand include size: 3268/2097152 bytes
Template argument size: 196/2097152 bytes
Highest expansion depth: 4/40
Expensive parser function count: 5/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%  129.344      1 - -total
 99.16%  128.257      5 - Template:Classgames
  1.21%    1.565      5 - Template:Extension_DPL
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:24166-0!*!*!*!*!*!* and timestamp 20161215125424 and revision id 34589
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Linked_list?oldid=34589">https://wiki.beyondunreal.com/Linked_list?oldid=34589</a>"</div>
					<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.beyondunreal.com/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="Category_Programming_articles.html" title="Category:Programming articles">Programming articles</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="Linked_list.html" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Talk:Linked_list?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Linked_list" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Linked_list" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Linked+list&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Linked+list" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Linked_list" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Linked_list" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Linked_list?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Linked_list?oldid=34589" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Linked_list" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 16:49, 27 July 2009.</li>
									<li id="copyright">Licensed as <a href="Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":87});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Linked_list by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:52:50 GMT -->
</html>
