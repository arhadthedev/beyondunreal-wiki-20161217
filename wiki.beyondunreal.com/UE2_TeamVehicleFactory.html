<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/UE2:TeamVehicleFactory by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:53:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>UE2:TeamVehicleFactory - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/UE2:TeamVehicleFactory" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/UE2:TeamVehicleFactory" />
<link rel="shortcut icon" href="w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="UE2_TeamVehicleFactory.html" />
<link rel="copyright" href="Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="w/load2743.css?debug=false&amp;lang=en&amp;modules=ext.geshi.language.uscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"UE2","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":104,"wgPageName":"UE2:TeamVehicleFactory","wgTitle":"TeamVehicleFactory","wgCurRevisionId":11840,"wgRevisionId":11840,"wgArticleId":4788,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Custom UE2-specific classes","Subclasses of SVehicleFactory (UE2)"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"UE2:TeamVehicleFactory","wgRelevantArticleId":4788,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-104 ns-subject page-UE2_TeamVehicleFactory skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>Worst-case scenario: the UEd Goblin wipes the map and burns down your house.
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">UE2:TeamVehicleFactory</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p></p>
<div id="toc" class="toc">
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Features"><span class="tocnumber">1</span> <span class="toctext">Features</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Notes"><span class="tocnumber">2</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Properties"><span class="tocnumber">3</span> <span class="toctext">Properties</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Main"><span class="tocnumber">3.1</span> <span class="toctext">Main</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Hidden"><span class="tocnumber">3.2</span> <span class="toctext">Hidden</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Code"><span class="tocnumber">4</span> <span class="toctext">Code</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#External_Links"><span class="tocnumber">5</span> <span class="toctext">External Links</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Related_Topics"><span class="tocnumber">6</span> <span class="toctext">Related Topics</span></a></li>
</ul>
</div>
<p></p>
<p>This custom actor really duplicates much of the functionality of the ONSVehicleFactory subclasses, but the big feature is that nearly any vehicle class can be spawned. Although this actor cannot display the selected vehicle class in the editor, it does offer added controls that mappers for VCTF or other vehicle gametypes might want.</p>
<h2><span class="mw-headline" id="Features">Features</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/UE2:TeamVehicleFactory?section=1" title="Edit section: Features">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li>The ability to spawn random vehicles from a list of vehicle classes</li>
<li>The ability to spawn nearly any vehicle class in gametypes that allow vehicles</li>
<li>The ability to trigger PreSpawn and (Post)Spawn events</li>
<li>The option to allow the vehicle to spawn over and crush other actors</li>
<li>The option to use this as either a triggerable or an automatic (timed) vehicle factory.</li>
<li>Greater control over spawn timing</li>
</ul>
<h2><span class="mw-headline" id="Notes">Notes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/UE2:TeamVehicleFactory?section=2" title="Edit section: Notes">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li>If you use a TeamVehicleFactory "as is" in your custom map, please credit me in the readme file of the map. (<b>SuperApe</b>)</li>
<li>You have to supply spawning effects and sounds, via <a href="Legacy_ScriptedTrigger.html" title="Legacy:ScriptedTrigger">ScriptedTrigger</a>, <a href="Legacy_Emitter.html" title="Legacy:Emitter">Emitter</a> and the like. This is meant to allow flexibilty in the ways you want vehicles to spawn. An example VCTF map posted on <a rel="nofollow" class="external text" href="http://unrealplayground.com/forums/showthread.php?t=23515">this UP Forum thread</a> gives my suggestion for spawning particles and sound. (It appears similar to pickup spawning.)</li>
<li>With bAutoSpawn on and without a PreSpawnTime of around 2 seconds, you run the risk of spawning a vehicle before headlights can be properly spawned at map start. Subsequent vehicles after map start will spawn headlights normally.</li>
<li>Turrets that are spawned automatically get an AIController. They are auto turrets; firing at enemies, or if set to neutral (team 255), firing at any non-neutral controlled pawn it detects.</li>
<li>The AS Spacefighters are spawned with a minimum velocity that makes them impractical to use. However, a custom launcher for these is easy to make with a TryToDrive() function.</li>
<li>This has a slightly larger bBlocked check radius than ONSVehicleFactory. ( 1.33&#160;: 1.25 )</li>
</ul>
<h2><span class="mw-headline" id="Properties">Properties</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/UE2:TeamVehicleFactory?section=3" title="Edit section: Properties">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Main">Main</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/UE2:TeamVehicleFactory?section=4" title="Edit section: Main">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl>
<dt>int TeamNum&#160;</dt>
<dd>Team Number to be set on spawn. 0= red, 1= blue, 255= neutral / none</dd>
<dt>bool bPlayerControl&#160;</dt>
<dd>Only player instigators can trigger.</dd>
<dt>bool bAutoSpawn&#160;</dt>
<dd>Will spawn at regular intervals. The triggering ability is disabled.</dd>
<dt>int RespawnTime&#160;</dt>
<dd>Interval to wait before AutoSpawning.</dd>
</dl>
<dl>
<dt>name PreSpawnEvent&#160;</dt>
<dd>Event to trigger before spawn.</dd>
<dt>int PreSpawnTime&#160;</dt>
<dd>Time before spawn to trigger event. Will begin event this many seconds before the factory is set to AutoSpawn.</dd>
<dt>name SpawnEvent&#160;</dt>
<dd>Event to trigger after spawn. A post spawn event.</dd>
<dt>bool bCrushable&#160;</dt>
<dd>Allow spawning over colliding actors. Note: Turrets will normally spawn in collision with other actors, spawned vehicles will generally move out of the way.</dd>
<dt>int RetrySpawnTime&#160;</dt>
<dd>Interval to wait if bBlocked.</dd>
<dt>bool bRandomFlip&#160;</dt>
<dd>Neutral vehicles may face backwards.</dd>
<dt>bool bRandomSpawn&#160;</dt>
<dd>Will spawn random vehicle class.</dd>
<dt>struct class&lt;<a href="Legacy_Vehicle.html" title="Legacy:Vehicle">Vehicle</a>&gt; SpawnedVehicle&#160;</dt>
<dd>Selected random vehicle class.</dd>
<dt>array&lt;SpawnedVehicle&gt; RandomVehicles&#160;</dt>
<dd>List for random vehicle spawn.</dd>
</dl>
<h3><span class="mw-headline" id="Hidden">Hidden</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/UE2:TeamVehicleFactory?section=5" title="Edit section: Hidden">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<dl>
<dt>bool bWaiting&#160;</dt>
<dd>Waiting to spawn.</dd>
<dt>int FactoryTime&#160;</dt>
<dd>Time last spawn. (in Level.TimeSeconds)</dd>
<dt>bool bPreSpawn&#160;</dt>
<dd>Should trigger PreSpawnEvent next.</dd>
</dl>
<h2><span class="mw-headline" id="Code">Code</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/UE2:TeamVehicleFactory?section=6" title="Edit section: Code">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="infobox infobox-class">
<table style="background:transparent">
<tr>
<td style="vertical-align:top"><a href="Unreal_Engine_2.html" title="Unreal Engine 2"><img alt="UE2" src="w/images/Icon-UE2.png" width="32" height="18" /></a></td>
<td><a href="UE2_Actor.html" title="UE2:Actor">Actor</a> &gt;&gt;&#160;<a href="https://wiki.beyondunreal.com/edit/UE2:SVehicleFactory?redlink=1" class="new" title="UE2:SVehicleFactory (page does not exist)">SVehicleFactory</a> &gt;&gt;&#160;<b>TeamVehicleFactory</b> <i>(custom)</i></td>
</tr>
</table>
</div>
<div style="float:right;padding:0 0 1em 1em;"></div>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="co1">//==================================================================================</span>
<span class="co1">// TeamVehicleFactory.</span>
<span class="co1">// Spawn any Vehicle or Turret, set Team, pre &amp; post spawn Events, timing, and more.</span>
<span class="co1">// Glenn 'SuperApe' Storm -- June 2004 -- Updated: July 2005</span>
<span class="co1">//==================================================================================</span>
<span class="kw1">class</span> TeamVehicleFactory <span class="kw1">extends</span> SVehicleFactory
        <span class="kw1">placeable</span>;
 
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span>     <span class="kw5">int</span>       TeamNum;            <span class="co1">// 0= red, 1= blue, 255= neutral / none</span>
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span>     <span class="kw5">bool</span>      bPlayerControl;     <span class="co1">// Only player instigators can trigger</span>
 
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span>     <span class="kw5">bool</span>      bAutoSpawn;         <span class="co1">// Will spawn at regular intervals</span>
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span>     <span class="kw5">int</span>       RespawnTime;        <span class="co1">// Interval to wait before AutoSpawning</span>
 
<span class="kw1">var</span>       <span class="kw5">bool</span>      bWaiting;           <span class="co1">// About to spawn</span>
<span class="kw1">var</span>       <span class="kw5">int</span>       FactoryTime;        <span class="co1">// Time last spawn</span>
 
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span>     <span class="kw5">name</span>      PreSpawnEvent;      <span class="co1">// Event to trigger before spawn</span>
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span>     <span class="kw5">int</span>       PreSpawnTime;       <span class="co1">// Time before spawn to trigger event</span>
<span class="kw1">var</span>       <span class="kw5">bool</span>      bPreSpawn;                        <span class="co1">// Should trigger PreSpawnEvent next</span>
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span>     <span class="kw5">name</span>      SpawnEvent;         <span class="co1">// Event to trigger after spawn</span>
 
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span>     <span class="kw5">bool</span>      bCrushable;         <span class="co1">// Allow spawning over colliding actors</span>
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span>     <span class="kw5">int</span>       RetrySpawnTime;     <span class="co1">// Interval to wait if bBlocked</span>
 
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span>     <span class="kw5">bool</span>      bRandomFlip;        <span class="co1">// Neutral vehicles may face backwards</span>
 
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span>     <span class="kw5">bool</span>      bRandomSpawn;       <span class="co1">// Spawn random vehicle class</span>
 
<span class="kw1">struct</span> SpawnedVehicle
<span class="br0">{</span>
     <span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> class<span class="sy0">&lt;</span>Vehicle<span class="sy0">&gt;</span> SpawnVehicle; <span class="co1">// Selected random vehicle class</span>
<span class="br0">}</span>;
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span>     array<span class="sy0">&lt;</span>SpawnedVehicle<span class="sy0">&gt;</span>     RandomVehicles;   <span class="co1">// List for random vehicle spawn</span>
 
 
<span class="kw1">simulated</span> <span class="kw1">function</span> <span class="kw4">PostBeginPlay</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
     <span class="kw6">Super</span>.<span class="kw4">PostBeginPlay</span><span class="br0">(</span><span class="br0">)</span>;
 
     <span class="kw2">if</span> <span class="br0">(</span> bAutoSpawn <span class="br0">)</span>
          bWaiting <span class="sy0">=</span> <span class="kw6">true</span>;
          bPreSpawn <span class="sy0">=</span> <span class="kw6">true</span>;
          <span class="kw2">if</span> <span class="br0">(</span> RespawnTime <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="br0">)</span>
               FactoryTime <span class="sy0">=</span> <span class="kw7">Level</span>.<span class="me0">TimeSeconds</span> <span class="sy0">-</span> RespawnTime <span class="sy0">+</span> PreSpawnTime;
          <span class="kw2">else</span>
               FactoryTime <span class="sy0">=</span> <span class="kw7">Level</span>.<span class="me0">TimeSeconds</span> <span class="sy0">-</span> PreSpawnTime;
<span class="br0">}</span>
 
<span class="kw1">simulated</span> <span class="kw1">event</span> <span class="kw4">Trigger</span><span class="br0">(</span> <span class="kw9">Actor</span> Other, <span class="kw9">Pawn</span> EventInstigator <span class="br0">)</span>
<span class="br0">{</span>
     <span class="kw2">if</span> <span class="br0">(</span> bAutoSpawn <span class="br0">)</span>
          <span class="co1">// bAutoSpawn overrides Trigger</span>
          <span class="kw2">return</span>;
 
     <span class="kw2">if</span> <span class="br0">(</span> <span class="sy0">!</span>EventInstigator.<span class="kw3">IsA</span><span class="br0">(</span><span class="st0">'UnrealPawn'</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> bPlayerControl <span class="br0">)</span>
          <span class="kw2">return</span>;
 
     <span class="kw2">if</span> <span class="br0">(</span> VehicleCount <span class="sy0">&gt;=</span> MaxVehicleCount <span class="br0">)</span>
          <span class="kw2">return</span>;
 
 
     <span class="kw2">if</span> <span class="br0">(</span> VehicleClass <span class="sy0">==</span> <span class="kw5">None</span> <span class="sy0">||</span> <span class="br0">(</span> bRandomSpawn <span class="sy0">&amp;&amp;</span> RandomVehicles.<span class="me0">length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="br0">)</span> <span class="br0">)</span>
     <span class="br0">{</span>
          <span class="kw3">Log</span><span class="br0">(</span><span class="st0">"TeamVehicleFactory:"</span><span class="sy0">@</span><span class="kw6">self</span><span class="sy0">@</span><span class="st0">"has no VehicleClass"</span><span class="br0">)</span>;
          <span class="kw2">return</span>;
     <span class="br0">}</span>
 
     bWaiting <span class="sy0">=</span> <span class="kw6">true</span>;
     bPreSpawn <span class="sy0">=</span> <span class="kw6">true</span>;
     <span class="kw2">if</span> <span class="br0">(</span> RespawnTime <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="br0">)</span>
          FactoryTime <span class="sy0">=</span> <span class="kw7">Level</span>.<span class="me0">TimeSeconds</span> <span class="sy0">-</span> RespawnTime <span class="sy0">+</span> PreSpawnTime;
     <span class="kw2">else</span>
          FactoryTime <span class="sy0">=</span> <span class="kw7">Level</span>.<span class="me0">TimeSeconds</span> <span class="sy0">-</span> PreSpawnTime;
<span class="br0">}</span>
 
<span class="kw1">simulated</span> <span class="kw1">function</span> SpawnItNow<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
     <span class="kw1">local</span>  <span class="kw9">Vehicle</span>         CreatedVehicle;
     <span class="kw1">local</span>  <span class="kw5">bool</span>           bBlocked;
     <span class="kw1">local</span>  <span class="kw9">Pawn</span>              P;
     <span class="kw1">local</span>  <span class="kw5">float</span>          SV;
 
     bBlocked <span class="sy0">=</span> <span class="kw6">false</span>;
 
     <span class="kw2">if</span> <span class="br0">(</span> VehicleClass <span class="sy0">!=</span> <span class="kw5">None</span> <span class="sy0">||</span> <span class="br0">(</span> bRandomSpawn <span class="sy0">&amp;&amp;</span> RandomVehicles.<span class="me0">length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="br0">)</span> <span class="br0">)</span>
     <span class="br0">{</span>
          <span class="kw2">if</span> <span class="br0">(</span> bRandomSpawn <span class="sy0">&amp;&amp;</span> RandomVehicles.<span class="me0">length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="br0">)</span>
               VehicleClass <span class="sy0">=</span> RandomVehicles<span class="br0">[</span> <span class="kw5">int</span><span class="br0">(</span> <span class="kw3">FRand</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">*</span> RandomVehicles.<span class="me0">length</span> <span class="br0">)</span> <span class="br0">]</span>.<span class="me0">SpawnVehicle</span>;
          <span class="kw2">foreach</span> <span class="kw2">CollidingActors</span><span class="br0">(</span><span class="kw1">class</span><span class="st0">'Pawn'</span>, P, VehicleClass.<span class="kw1">default</span>.<span class="kw7">CollisionRadius</span> <span class="sy0">*</span> <span class="nu0">1.33</span><span class="br0">)</span>
               bBlocked <span class="sy0">=</span> <span class="kw6">true</span>;
     <span class="br0">}</span>
     <span class="kw2">else</span>
     <span class="br0">{</span>
          <span class="kw3">Log</span><span class="br0">(</span><span class="st0">"TeamVehicleFactory:"</span><span class="sy0">@</span><span class="kw6">self</span><span class="sy0">@</span><span class="st0">"has no VehicleClass"</span><span class="br0">)</span>;
          <span class="kw2">return</span>;
     <span class="br0">}</span>
 
     <span class="kw2">if</span> <span class="br0">(</span> bBlocked <span class="sy0">&amp;&amp;</span> <span class="sy0">!</span>bCrushable <span class="br0">)</span>
     <span class="br0">{</span>
          bWaiting <span class="sy0">=</span> <span class="kw6">true</span>;
          bPreSpawn <span class="sy0">=</span> <span class="kw6">true</span>;
          <span class="kw2">if</span> <span class="br0">(</span> RespawnTime <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="br0">)</span>
               FactoryTime <span class="sy0">=</span> <span class="kw7">Level</span>.<span class="me0">TimeSeconds</span> <span class="sy0">-</span> RespawnTime <span class="sy0">+</span> RetrySpawnTime <span class="sy0">+</span> PreSpawnTime;
          <span class="kw2">else</span>
               FactoryTime <span class="sy0">=</span> <span class="kw7">Level</span>.<span class="me0">TimeSeconds</span> <span class="sy0">-</span> RetrySpawnTime <span class="sy0">+</span> PreSpawnTime;
          <span class="kw2">return</span>;
     <span class="br0">}</span>
     <span class="kw2">else</span>
     <span class="br0">{</span>
          <span class="kw2">if</span> <span class="br0">(</span> TeamNum <span class="sy0">==</span> <span class="nu0">255</span> <span class="br0">)</span>
          <span class="br0">{</span>
               <span class="kw2">if</span> <span class="br0">(</span> bRandomFlip <span class="sy0">&amp;&amp;</span> <span class="kw3">Rand</span><span class="br0">(</span><span class="nu0">2</span><span class="br0">)</span> <span class="sy0">==</span> <span class="nu0">1</span> <span class="br0">)</span>
                    CreatedVehicle <span class="sy0">=</span> <span class="kw4">spawn</span><span class="br0">(</span>VehicleClass, , , <span class="kw7">Location</span>, <span class="kw7">Rotation</span> <span class="sy0">+</span> <span class="kw3">rot</span><span class="br0">(</span><span class="nu0">0</span>,<span class="nu0">32768</span>,<span class="nu0">0</span><span class="br0">)</span><span class="br0">)</span>;
               <span class="kw2">else</span>
               CreatedVehicle <span class="sy0">=</span> <span class="kw4">spawn</span><span class="br0">(</span>VehicleClass, , , <span class="kw7">Location</span>, <span class="kw7">Rotation</span><span class="br0">)</span>;
 
               <span class="co1">// Unlock neutral vehicles</span>
               CreatedVehicle.<span class="me0">bTeamLocked</span> <span class="sy0">=</span> <span class="kw6">false</span>;
          <span class="br0">}</span>
          <span class="kw2">else</span>
          CreatedVehicle <span class="sy0">=</span> <span class="kw4">spawn</span><span class="br0">(</span>VehicleClass, , , <span class="kw7">Location</span>, <span class="kw7">Rotation</span><span class="br0">)</span>;
 
          <span class="kw2">if</span> <span class="br0">(</span> CreatedVehicle <span class="sy0">!=</span> <span class="kw5">None</span> <span class="br0">)</span>
          <span class="br0">{</span>
               VehicleCount<span class="sy0">++</span>;
               CreatedVehicle.<span class="kw1">Event</span> <span class="sy0">=</span> <span class="kw7">Tag</span>;
               CreatedVehicle.<span class="me0">ParentFactory</span> <span class="sy0">=</span> <span class="kw6">self</span>;
               CreatedVehicle.<span class="me0">SetTeamNum</span><span class="br0">(</span>TeamNum<span class="br0">)</span>;
               TriggerEvent<span class="br0">(</span>SpawnEvent, <span class="kw6">self</span>, <span class="kw5">None</span><span class="br0">)</span>;
          <span class="br0">}</span>
     <span class="br0">}</span>
<span class="br0">}</span>
 
<span class="kw1">event</span> VehicleDestroyed<span class="br0">(</span><span class="kw9">Vehicle</span> V<span class="br0">)</span>
<span class="br0">{</span>
     <span class="kw6">Super</span>.<span class="me0">VehicleDestroyed</span><span class="br0">(</span>V<span class="br0">)</span>;
 
     <span class="kw2">if</span> <span class="br0">(</span> bAutoSpawn <span class="br0">)</span>
     <span class="br0">{</span>
          bWaiting <span class="sy0">=</span> <span class="kw6">true</span>;
          bPreSpawn <span class="sy0">=</span> <span class="kw6">true</span>;
          FactoryTime <span class="sy0">=</span> <span class="kw7">Level</span>.<span class="me0">TimeSeconds</span>;
     <span class="br0">}</span>
<span class="br0">}</span>
 
<span class="kw1">simulated</span> <span class="kw1">function</span> <span class="kw4">Tick</span><span class="br0">(</span><span class="kw5">float</span> DeltaTime<span class="br0">)</span>
<span class="br0">{</span>
     <span class="kw2">if</span> <span class="br0">(</span> bWaiting <span class="br0">)</span>
     <span class="br0">{</span>
          <span class="kw2">if</span> <span class="br0">(</span> <span class="kw7">Level</span>.<span class="me0">TimeSeconds</span> <span class="sy0">-</span> FactoryTime <span class="sy0">&lt;</span> RespawnTime <span class="sy0">-</span> PreSpawnTime <span class="br0">)</span>
               <span class="kw2">return</span>;
 
          <span class="kw2">if</span> <span class="br0">(</span> VehicleCount <span class="sy0">&lt;</span> MaxVehicleCount <span class="br0">)</span>
                    <span class="kw2">if</span> <span class="br0">(</span> <span class="sy0">!</span>bPreSpawn <span class="br0">)</span>
                    <span class="br0">{</span>
                         <span class="kw2">if</span> <span class="br0">(</span> <span class="kw7">Level</span>.<span class="me0">TimeSeconds</span> <span class="sy0">-</span> FactoryTime <span class="sy0">&gt;=</span> RespawnTime <span class="br0">)</span>
                         <span class="br0">{</span>
                              bWaiting <span class="sy0">=</span> <span class="kw6">false</span>;
                              FactoryTime <span class="sy0">=</span> <span class="kw7">Level</span>.<span class="me0">TimeSeconds</span>;
                              SpawnItNow<span class="br0">(</span><span class="br0">)</span>;
                         <span class="br0">}</span>
                    <span class="br0">}</span>
                    <span class="kw2">else</span>
                    <span class="br0">{</span>
                         bPreSpawn <span class="sy0">=</span> <span class="kw6">false</span>;
                         TriggerEvent<span class="br0">(</span>PreSpawnEvent, <span class="kw6">self</span>, <span class="kw5">None</span><span class="br0">)</span>;
                    <span class="br0">}</span>
     <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
<h2><span class="mw-headline" id="External_Links">External Links</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/UE2:TeamVehicleFactory?section=7" title="Edit section: External Links">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://forums.unrealplayground.com/showthread.php?t=23515">Mapping for VCTF</a> – A thread on UnrealPlayground that includes a test map using this actor and suggested spawn EFX.</li>
</ul>
<h2><span class="mw-headline" id="Related_Topics">Related Topics</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/UE2:TeamVehicleFactory?section=8" title="Edit section: Related Topics">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li><a href="Legacy_Third-Party_Components.html" title="Legacy:Third-Party Components">Third-Party Components</a></li>
<li><a href="Legacy_Mapping_For_AS_(UT2004).html" title="Legacy:Mapping For AS (UT2004)">Mapping for AS (UT2004)</a></li>
<li><a href="Legacy_Mapping_For_ONS.html" title="Legacy:Mapping For ONS">Mapping for ONS</a></li>
<li><a href="Legacy_Mapping_For_VCTF.html" title="Legacy:Mapping For VCTF">Mapping for VCTF</a></li>
<li><a href="User_SuperApe/Mapping_For_OSM_Adventure.html" title="User:SuperApe/Mapping For OSM Adventure">Mapping for OSM Adventure</a> <i>(Note: A version of TeamVehicleFactory is included in OSMT)</i></li>
<li><a href="Legacy_Pathing_For_Vehicles.html" title="Legacy:Pathing For Vehicles">Pathing For Vehicles</a></li>
<li><a href="Legacy_Pathing_2k4_Flying_Vehicles.html" title="Legacy:Pathing 2k4 Flying Vehicles">Pathing 2k4 Flying Vehicles</a></li>
<li><a href="Legacy_Vehicles.html" title="Legacy:Vehicles">Vehicles</a> – Hub for all vehicle topics
<ul>
<li><a href="Legacy_Vehicle.html" title="Legacy:Vehicle">Vehicle</a> – UT2004 parent class for all vehicles and turrets</li>
<li><a href="Legacy_Vehicle_Gameplay.html" title="Legacy:Vehicle Gameplay">Vehicle Gameplay</a> – Placing VehicleFactories for strong <a href="Legacy_Map_Flow.html" title="Legacy:Map Flow">Map Flow</a></li>
</ul>
</li>
</ul>

<!-- 
NewPP limit report
CPU time usage: 0.159 seconds
Real time usage: 0.173 seconds
Preprocessor visited node count: 495/1000000
Preprocessor generated node count: 3954/1000000
Post‐expand include size: 1914/2097152 bytes
Template argument size: 419/2097152 bytes
Highest expansion depth: 9/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   79.972      1 - -total
100.00%   79.972      1 - Template:Infobox_class
 90.86%   72.661      1 - Template:Infobox_class/core
 23.83%   19.059      2 - Template:Ch
  4.80%    3.838      1 - Template:UE2
  4.62%    3.696      2 - Template:Gamename
  2.35%    1.881      4 - Template:Extension_DPL
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:4788-0!*!0!!en!5!* and timestamp 20161215134323 and revision id 11840
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/UE2:TeamVehicleFactory?oldid=11840">https://wiki.beyondunreal.com/UE2:TeamVehicleFactory?oldid=11840</a>"</div>
					<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.beyondunreal.com/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="Category_Custom_UE2-specific_classes.html" title="Category:Custom UE2-specific classes">Custom UE2-specific classes</a></li><li><a href="https://wiki.beyondunreal.com/edit/Category:Subclasses_of_SVehicleFactory_(UE2)?redlink=1" class="new" title="Category:Subclasses of SVehicleFactory (UE2) (page does not exist)">Subclasses of SVehicleFactory (UE2)</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-ue2" class="selected"><a href="UE2_TeamVehicleFactory.html">UE2</a></li>
				<li id="ca-talk"><a href="UE2_talk_TeamVehicleFactory.html" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/UE2:TeamVehicleFactory" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/UE2:TeamVehicleFactory" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=UE2%3ATeamVehicleFactory&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=UE2%3ATeamVehicleFactory" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/UE2:TeamVehicleFactory" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/UE2:TeamVehicleFactory" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/UE2:TeamVehicleFactory?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/UE2:TeamVehicleFactory?oldid=11840" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/UE2:TeamVehicleFactory" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 09:34, 10 May 2008.</li>
									<li id="copyright">Licensed as <a href="Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":122});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/UE2:TeamVehicleFactory by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:53:19 GMT -->
</html>
