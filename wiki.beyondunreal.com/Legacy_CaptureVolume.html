<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Legacy:CaptureVolume by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 09:42:32 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Legacy:CaptureVolume - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:CaptureVolume" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:CaptureVolume" />
<link rel="shortcut icon" href="w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Legacy_CaptureVolume.html" />
<link rel="copyright" href="Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="w/load2743.css?debug=false&amp;lang=en&amp;modules=ext.geshi.language.uscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Legacy","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Legacy:CaptureVolume","wgTitle":"CaptureVolume","wgCurRevisionId":2201,"wgRevisionId":2201,"wgArticleId":772,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Legacy Custom Class (UT2003)","Legacy Custom Class (UT2004)"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:CaptureVolume","wgRelevantArticleId":772,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-100 ns-subject page-Legacy_CaptureVolume skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>Once I get that upgrade to 36-hour days, I will tackle that. &#8211; Mychaeel
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:CaptureVolume</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p></p>
<div id="toc" class="toc">
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Linking_Volumes_and_Control_Points"><span class="tocnumber">1</span> <span class="toctext">Linking Volumes and Control Points</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Writing_The_Code"><span class="tocnumber">2</span> <span class="toctext">Writing The Code</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#CaptureVolume"><span class="tocnumber">2.1</span> <span class="toctext">CaptureVolume</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#CapturePoint"><span class="tocnumber">2.2</span> <span class="toctext">CapturePoint</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Custom_PlayerReplicationInfo"><span class="tocnumber">2.3</span> <span class="toctext">Custom PlayerReplicationInfo</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Linking_Through_UnrealEd"><span class="tocnumber">3</span> <span class="toctext">Linking Through UnrealEd</span></a></li>
</ul>
</div>
<p></p>
<h2><span class="mw-headline" id="Linking_Volumes_and_Control_Points">Linking Volumes and Control Points</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:CaptureVolume?section=1" title="Edit section: Linking Volumes and Control Points">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><i>Or, how I learned to stop worrying and love my volume!</i></p>
<blockquote class="legacyquote">
<p>Goes without saying, but if you sample any of this code please give me credit somewhere in your script. Also, note that I'm not the cleanest coder in the world, so be sure to check and double check! Share the love baby!</p>
<p>Props go to the Adster. Visit his page @ <a rel="nofollow" class="external free" href="http://www.speakerprojects.com/index.html">http://www.speakerprojects.com/index.html</a> and tell him he's sexy.</p>
</blockquote>
<p>The origin of this page comes from a project I'm currently working. For the mod, it was necessary to track player position and then have an icon fade in and out on the hud. I'm not going to go into the fades right now since that's a whole monster to itself. What I'm going to focus on is how to link a control point to a capture volume and, using the two, get it to display icons onto the HUD.</p>
<h2><span class="mw-headline" id="Writing_The_Code">Writing The Code</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:CaptureVolume?section=2" title="Edit section: Writing The Code">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>You need to create some new UnrealScript classes. You can either:</p>
<ul>
<li><a href="Legacy_Create_A_Subclass.html" title="Legacy:Create A Subclass">Create a subclass</a> in UnrealEd for each of the following scripts,</li>
<li>or create a <a href="Legacy_Package.html" title="Legacy:Package">package</a> containing all of these classes.</li>
</ul>
<p><b>Note:</b> Using UnrealEd is not recommended. Instead, use any of the <a href="Legacy_Text_Editor.html" title="Legacy:Text Editor">suggested text editors</a>.</p>
<h3><span class="mw-headline" id="CaptureVolume">CaptureVolume</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:CaptureVolume?section=3" title="Edit section: CaptureVolume">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The first thing you want to do is <a href="Legacy_Create_A_Subclass.html" title="Legacy:Create A Subclass">create a subclass</a> of the <a href="Legacy_Volume.html" title="Legacy:Volume">volume</a> class. The volume will be used to track when a player enters (or leaves) a given space.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="coMULTI">/*
Extended Volume Class
 
Graham Ross 9/21/04
 
An extended volume class to help display the names of
rooms on the HUD
 
*/</span>
<span class="co1">//Graham Ross (thanks Adster!!!)</span>
<span class="co1">//An interactive volume to trigger elements on the HUD</span>
<span class="co1">// 10/13/04</span>
<span class="co1">//=============================================================================</span>
 
<span class="kw1">class</span> captureVolume <span class="kw1">extends</span> <span class="kw9">PhysicsVolume</span>;
 
<span class="kw1">var</span><span class="br0">(</span> <span class="br0">)</span> <span class="kw5">Int</span> captureVolumeNumber;
<span class="kw1">var</span> CapturePoint ourCapturePoint;
 
<span class="kw1">var</span> <span class="kw5">int</span> volumeNumber;
<span class="kw1">var</span> <span class="kw5">bool</span> inVolume;
 
<span class="kw1">simulated</span> <span class="kw1">function</span> <span class="kw4">PostBeginPlay</span><span class="br0">(</span> <span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw1">local</span> <span class="kw9">NavigationPoint</span> nP;
 
	<span class="kw6">Super</span>.<span class="kw4">PostBeginPlay</span><span class="br0">(</span> <span class="br0">)</span>;
 
	<span class="kw2">for</span><span class="br0">(</span> nP <span class="sy0">=</span> <span class="kw7">Level</span>.<span class="me0">NavigationPointList</span>; nP <span class="sy0">!=</span> <span class="kw5">None</span>; nP <span class="sy0">=</span> nP.<span class="me0">NextNavigationPoint</span> <span class="br0">)</span>
	<span class="br0">{</span>
		<span class="kw2">if</span><span class="br0">(</span> <span class="sy0">!</span>nP.<span class="kw3">IsA</span><span class="br0">(</span> <span class="st0">'CapturePoint'</span> <span class="br0">)</span> <span class="br0">)</span>
			<span class="kw2">continue</span>;
 
		<span class="kw2">if</span><span class="br0">(</span> CapturePoint<span class="br0">(</span> nP <span class="br0">)</span>.<span class="me0">capturePointNumber</span> <span class="sy0">==</span> captureVolumeNumber <span class="br0">)</span>
		<span class="br0">{</span>
			ourCapturePoint <span class="sy0">=</span> CapturePoint<span class="br0">(</span> nP <span class="br0">)</span>;
			ourCapturePoint.<span class="me0">SetMaster</span><span class="br0">(</span> <span class="kw6">self</span> <span class="br0">)</span>;
			<span class="kw2">break</span>;
		<span class="br0">}</span>
	<span class="br0">}</span>
<span class="br0">}</span>
 
<span class="kw1">event</span> PawnEnteredVolume<span class="br0">(</span> <span class="kw9">Pawn</span> other <span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw2">if</span><span class="br0">(</span> <span class="br0">(</span> other.<span class="me0">IsPlayerPawn</span><span class="br0">(</span><span class="br0">)</span> <span class="br0">)</span>
		<span class="sy0">&amp;&amp;</span> <span class="br0">(</span> ourCapturePoint <span class="sy0">!=</span> <span class="kw5">None</span> <span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="br0">(</span>other.<span class="me0">PlayerReplicationInfo</span> <span class="sy0">!=</span> <span class="kw5">none</span><span class="br0">)</span><span class="br0">)</span>   <span class="co1">//is the problem that the capt. point is none?</span>
	<span class="br0">{</span>
		<span class="kw2">if</span><span class="br0">(</span> customPawn<span class="br0">(</span> other <span class="br0">)</span> <span class="sy0">!=</span> <span class="kw5">none</span> <span class="br0">)</span>
        	rscPRI<span class="br0">(</span>other.<span class="me0">PlayerReplicationInfo</span><span class="br0">)</span>.<span class="me0">cVolumeNumber</span> <span class="sy0">=</span> captureVolumeNumber;
 
 		ourCapturePoint.<span class="me0">Touched</span><span class="br0">(</span> other<span class="br0">)</span>;
 
     <span class="br0">}</span>
<span class="br0">}</span>
 
<span class="kw1">event</span> PawnLeavingVolume<span class="br0">(</span> <span class="kw9">Pawn</span> other <span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw2">if</span><span class="br0">(</span><span class="br0">(</span>  other  <span class="sy0">!=</span> <span class="kw5">none</span> <span class="br0">)</span><span class="sy0">&amp;&amp;</span> <span class="br0">(</span> ourCapturePoint <span class="sy0">!=</span> <span class="kw5">None</span> <span class="br0">)</span><span class="sy0">&amp;&amp;</span> <span class="br0">(</span>other.<span class="me0">PlayerReplicationInfo</span> <span class="sy0">!=</span> <span class="kw5">none</span><span class="br0">)</span><span class="br0">)</span>
    <span class="br0">{</span>
		<span class="kw2">if</span><span class="br0">(</span> customPawn<span class="br0">(</span> other <span class="br0">)</span> <span class="sy0">!=</span> <span class="kw5">none</span> <span class="br0">)</span>
        	 rscPRI<span class="br0">(</span>other.<span class="me0">PlayerReplicationInfo</span><span class="br0">)</span>.<span class="me0">cVolumeNumber</span> <span class="sy0">=</span> <span class="nu0">0</span>;
 
		ourCapturePoint.<span class="me0">Untouched</span><span class="br0">(</span> other<span class="br0">)</span>;
    <span class="br0">}</span>
<span class="br0">}</span>
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
	captureVolumeNumber<span class="sy0">=</span><span class="nu0">255</span>
	volumeNumber <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">1</span>;
<span class="br0">}</span>
</pre></div>
</div>
<p>So you'll notice there are a few things I'm keeping track of. First, in the PostBeginPlay function, I'm cycling through all the NavigationPoints in the level. If it is a CapturePoint (or a subclass of it), I proceed forward and match up the number of capture points to the number of the volume, two attributes I've manually set from within the level. You'll also notice I have two checks for whether the pawn enters or leaves a volume. This is the most important part of the code. When a player enters the volume, it calls the Touched and Untouched functions of the capture point. We'll get into that part shortly.</p>
<p><b>Note:</b> I've set captureVolumeNumber and Volume number to 255 and -1, two out of range types.</p>
<h3><span class="mw-headline" id="CapturePoint">CapturePoint</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:CaptureVolume?section=4" title="Edit section: CapturePoint">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Now we move on to creating a custom CapturePoint for our new CaptureVolumes to link to.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="co1">//  Graham Ross (Thanks Adster!!!)</span>
<span class="co1">// class for altering the function of GameObjective.</span>
<span class="co1">//</span>
<span class="co1">//=============================================================================</span>
 
<span class="kw1">class</span> CapturePoint <span class="kw1">extends</span> <span class="kw9">GameObjective</span>
	<span class="kw1">Placeable</span>;
 
<span class="kw1">var</span><span class="br0">(</span> <span class="br0">)</span> <span class="kw1">localized</span> <span class="kw5">String</span> captureName;
<span class="kw1">var</span><span class="br0">(</span> <span class="br0">)</span> <span class="kw5">Name</span> captureEvent; 
<span class="kw1">var</span><span class="br0">(</span> <span class="br0">)</span> <span class="kw5">Int</span> capturePointNumber;
 
<span class="kw1">var</span> CaptureVolume captureVolume;
 
<span class="kw1">simulated</span> <span class="kw1">function</span> <span class="kw4">PostBeginPlay</span><span class="br0">(</span> <span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw6">Super</span>.<span class="kw4">PostBeginPlay</span><span class="br0">(</span> <span class="br0">)</span>;
<span class="br0">}</span>
 
 
<span class="kw1">function</span> SetMaster<span class="br0">(</span> CaptureVolume ourCaptureVolume <span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw2">if</span><span class="br0">(</span> ourCaptureVolume <span class="sy0">!=</span> <span class="kw5">None</span> <span class="br0">)</span>
		captureVolume <span class="sy0">=</span> ourCaptureVolume;
<span class="br0">}</span>
 
 
 
<span class="kw1">function</span> Touched<span class="br0">(</span> <span class="kw9">Pawn</span> other<span class="br0">)</span>
<span class="br0">{</span>
 
<span class="br0">}</span>
 
<span class="kw1">function</span> Untouched<span class="br0">(</span> <span class="kw9">Pawn</span> other<span class="br0">)</span>
<span class="br0">{</span>
 
<span class="br0">}</span>
 
<span class="kw1">function</span> ResetPoint<span class="br0">(</span> <span class="kw5">Bool</span> bEnabled <span class="br0">)</span>
<span class="br0">{</span>
 
 
<span class="br0">}</span>
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
   	bHidden<span class="sy0">=</span><span class="kw6">False</span>
	capturePointNumber<span class="sy0">=-</span><span class="nu0">1</span>
	captureName<span class="sy0">=</span><span class="st0">"A Capture Point"</span>
	bUseCylinderCollision<span class="sy0">=</span><span class="kw6">True</span>
	<span class="kw7">RemoteRole</span><span class="sy0">=</span><span class="kw7">ROLE_SimulatedProxy</span>
	bAlwaysRelevant<span class="sy0">=</span><span class="kw6">True</span>
	bStasis<span class="sy0">=</span><span class="kw6">False</span>
	bStatic<span class="sy0">=</span><span class="kw6">False</span>
	bNoDelete<span class="sy0">=</span><span class="kw6">True</span>
	bNetNotify<span class="sy0">=</span><span class="kw6">True</span>
	<span class="kw7">CollisionRadius</span><span class="sy0">=</span><span class="nu0">60.000000</span>
	<span class="kw7">CollisionHeight</span><span class="sy0">=</span><span class="nu0">40.000000</span>
	<span class="kw7">DrawScale</span><span class="sy0">=</span><span class="nu0">0.60000</span>
	bCollideActors<span class="sy0">=</span><span class="kw6">True</span>
	bBlockActors<span class="sy0">=</span><span class="kw6">False</span>
	bBlockPlayers<span class="sy0">=</span><span class="kw6">False</span>
	NetUpdateFrequency<span class="sy0">=</span><span class="nu0">8</span>
	ObjectiveName<span class="sy0">=</span><span class="st0">"Capture Point"</span>
 
<span class="br0">}</span>
</pre></div>
</div>
<p>You'll notice there's not much there. Basically the only thing I want is the touched and untouched function. This will allow me to interact easily with the <a href="Legacy_HUD.html" title="Legacy:HUD">HUD</a> and draw upon it. I personally wasn't able to find a way to interact solely using the volume and the HUD. It's also helpful to note that the triggering is not done by the CapturePoint, but done by the CaptureVolume which then interacts with their specified CapturePoint.</p>
<p><b>Note:</b> You must create a custom <a href="https://wiki.beyondunreal.com/edit/Legacy:Player_Replication_Info?redlink=1" class="new" title="Legacy:Player Replication Info (page does not exist)">Player Replication Info</a> for your player to hold a single variable that will track the volume number.</p>
<h3><span class="mw-headline" id="Custom_PlayerReplicationInfo">Custom PlayerReplicationInfo</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:CaptureVolume?section=5" title="Edit section: Custom PlayerReplicationInfo">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="co1">// Graham Ross</span>
<span class="co1">// 10/13/04</span>
<span class="co1">//</span>
<span class="co1">// Custom PRI to use with my volume and my hud</span>
 
<span class="kw1">class</span> rscPRI <span class="kw1">extends</span> xPlayerReplicationInfo;
 
<span class="kw1">var</span> <span class="kw5">int</span> cVolumeNumber;
 
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
       cVolumeNumber <span class="sy0">=</span> <span class="nu0">0</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>The last bit of code will do the drawing on the hud for us. I'm using a HUD interaction here, in my opinion the best way to draw on the HUD.</p>
<p>At the top, declare something like this:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">enum</span> volumeNo
<span class="br0">{</span>
    VN_None,
    VN_Bal1,
    VN_Bal2
<span class="br0">}</span>  VNStatus;
</pre></div>
</div>
<p>Later, do something like this...</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">simulated</span> <span class="kw1">function</span> checkGlowVariable<span class="br0">(</span><span class="kw8">canvas</span> c<span class="br0">)</span>
<span class="br0">{</span>
 
 
 
    <span class="kw2">switch</span><span class="br0">(</span>rscPRI<span class="br0">(</span>pOwner.<span class="me0">PlayerReplicationInfo</span><span class="br0">)</span>.<span class="me0">cVolumeNumber</span><span class="br0">)</span>
      <span class="br0">{</span>
         <span class="kw2">case</span> <span class="nu0">0</span>:
               VNStatus <span class="sy0">=</span> VN_None;  fadeout <span class="sy0">=</span> <span class="kw6">true</span>;
               <span class="kw2">break</span>;
 
         <span class="kw2">case</span> <span class="nu0">1</span>:
               VNStatus <span class="sy0">=</span> VN_Bal1;    fadeout <span class="sy0">=</span> <span class="kw6">true</span>;
               <span class="kw2">break</span>;
 
         <span class="kw2">case</span> <span class="nu0">2</span>:
               VNStatus <span class="sy0">=</span> VN_Bal2;     fadeout <span class="sy0">=</span> <span class="kw6">true</span>;
               <span class="kw2">break</span>;
 
         <span class="kw1">default</span>:
 
        <span class="br0">}</span>
 
<span class="br0">}</span>
</pre></div>
</div>
<p>In the DrawHud function (or separate function that will be called) put in the following code:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
 
<span class="kw1">simulated</span> <span class="kw1">function</span> checkGlowInfo<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
 
    <span class="kw1">local</span> <span class="kw5">byte</span> tempStyle;
    <span class="kw1">local</span> <span class="kw5">color</span> tempColor;
 
 
 
    glowMoveX <span class="sy0">=</span> shiftX;
    glowMoveY <span class="sy0">=</span> ShiftY;
 
 
 
    tempStyle <span class="sy0">=</span> Cv.<span class="kw7">Style</span>;
    tempcolor <span class="sy0">=</span> Cv.<span class="me0">DrawColor</span>;
 
 
    cv.<span class="me0">SetDrawColor</span><span class="br0">(</span><span class="nu0">255</span>, <span class="nu0">255</span>, <span class="nu0">255</span>, <span class="nu0">0</span><span class="br0">)</span>;
    cv.<span class="me0">SetPos</span><span class="br0">(</span><span class="br0">(</span>cv.<span class="me0">ClipX</span> <span class="sy0">-</span> xpos <span class="sy0">*</span> HUDscaleX<span class="br0">)</span>, <span class="br0">(</span>cv.<span class="me0">ClipY</span> <span class="sy0">-</span> ypos <span class="sy0">*</span> HUDScaley<span class="br0">)</span><span class="br0">)</span>;
    cv.<span class="me0">DrawIcon</span><span class="br0">(</span> LastRoom, sizeIcon <span class="sy0">*</span> <span class="br0">(</span>hudScaleX <span class="sy0">+</span> hudScaleY<span class="br0">)</span><span class="br0">)</span>;
 
 
    cv.<span class="me0">SetDrawColor</span><span class="br0">(</span><span class="nu0">255</span>, <span class="nu0">255</span>, <span class="nu0">255</span>, fade<span class="br0">)</span>;
    cv.<span class="me0">SetPos</span><span class="br0">(</span><span class="br0">(</span>cv.<span class="me0">ClipX</span> <span class="sy0">-</span> xpos <span class="sy0">*</span> HUDscaleX<span class="br0">)</span>, <span class="br0">(</span>cv.<span class="me0">ClipY</span> <span class="sy0">-</span> ypos <span class="sy0">*</span> HUDScaley<span class="br0">)</span><span class="br0">)</span>;
    cv.<span class="me0">DrawIcon</span><span class="br0">(</span> pLastRoom, sizeIcon <span class="sy0">*</span> <span class="br0">(</span>hudScaleX <span class="sy0">+</span> hudScaleY<span class="br0">)</span><span class="br0">)</span>;
 
    cv.<span class="me0">SetDrawColor</span><span class="br0">(</span><span class="nu0">255</span>, <span class="nu0">255</span>, <span class="nu0">255</span>, mapOp<span class="br0">)</span>;
    cv.<span class="me0">SetPos</span><span class="br0">(</span><span class="br0">(</span>cv.<span class="me0">CLipX</span>  <span class="sy0">-</span> <span class="br0">(</span>xGlow<span class="sy0">-</span>glowMoveX<span class="br0">)</span> <span class="sy0">*</span> HUDScaleX<span class="br0">)</span>, <span class="br0">(</span>cv.<span class="me0">ClipY</span> <span class="sy0">-</span> <span class="br0">(</span>yGlow<span class="sy0">-</span>glowMoveY<span class="br0">)</span> <span class="sy0">*</span> HUDScaleY<span class="br0">)</span><span class="br0">)</span>;
    cv.<span class="me0">DrawIcon</span><span class="br0">(</span> pLastGlow,  sizeGlow <span class="sy0">*</span> <span class="br0">(</span>hudScaleX <span class="sy0">+</span> hudScaleY<span class="br0">)</span><span class="br0">)</span>;
 
    <span class="kw2">switch</span> <span class="br0">(</span>VNStatus<span class="br0">)</span>
    <span class="br0">{</span>
 
       <span class="kw2">case</span> VN_None:
          resetfade<span class="br0">(</span><span class="br0">)</span>;
          <span class="kw2">break</span>;
 
       <span class="kw2">case</span> VN_Bal1:
          plastRoom <span class="sy0">=</span> blank;   lastVolume <span class="sy0">=</span> <span class="nu0">12</span>;    pLastGlow <span class="sy0">=</span> Bal1_g; ShiftX <span class="sy0">=</span> <span class="nu0">5</span>;  ShiftY <span class="sy0">=</span> <span class="nu0">0</span>;
          <span class="kw2">break</span>;
 
       <span class="kw2">case</span> VN_Bal2:
          plastRoom <span class="sy0">=</span> blank;  lastVolume <span class="sy0">=</span> <span class="nu0">13</span>;   pLastGlow <span class="sy0">=</span> Bal2_g; ShiftX <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">5</span>; ShiftY <span class="sy0">=</span> <span class="nu0">0</span>;
          <span class="kw2">break</span>;
 
 
       <span class="kw1">default</span>:
          pLastRoom <span class="sy0">=</span> blank ;
          pLastGlow <span class="sy0">=</span> Hall_g ;
          resetfade<span class="br0">(</span><span class="br0">)</span>;
          <span class="kw2">break</span>;
    <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>Please note that the reason I'm doing it this way is becuase of my fades. I faked my fades by having them come in on top of each other, so I needed to track the last icon that came up, then draw it and have it stay to give the appearance of a cross-fade. You could easily track player position and then have it just pop instantly onto the screen...</p>
<h2><span class="mw-headline" id="Linking_Through_UnrealEd">Linking Through UnrealEd</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:CaptureVolume?section=6" title="Edit section: Linking Through UnrealEd">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Okay, hopefully you can just hand this off to a level designer and say "Link the numbers slave of GUI!". But for those less fortunate of us, here's how you link the two together.</p>
<ol>
<li>
<ul>
<li>If you've created a package, after you've compiled all your scripts, go to the <a href="Legacy_Actor_Browser.html" title="Legacy:Actor Browser" class="mw-redirect">actor browser</a> and load the package under the actor classes tab. This will bring your scripts into UEd and allow you to access them and place them on your level.</li>
<li>If you've created classes within UnrealEd, they should already be in the <a href="Legacy_Actor_Browser.html" title="Legacy:Actor Browser" class="mw-redirect">actor browser</a> once you compile in he <a href="Legacy_Script_Editor.html" title="Legacy:Script Editor">Script Editor</a> window.</li>
</ul>
</li>
<li><a href="Legacy_Add_An_Actor.html" title="Legacy:Add An Actor">Add an Actor</a> &gt;&gt; <a href="Legacy_NavigationPoint.html" title="Legacy:NavigationPoint">NavigationPoint</a> &gt;&gt; <a href="Legacy_JumpDest.html" title="Legacy:JumpDest">JumpDest</a> &gt;&gt; <a href="Legacy_GameObjective.html" title="Legacy:GameObjective">GameObjective</a> &gt;&gt; CapturePoint.</li>
<li><a href="Legacy_Add_A_Volume.html" title="Legacy:Add A Volume">Add a Volume</a> of the new class, CaptureVolume.</li>
<li>Now comes the tricky part. Select your capturepoint. Open the actor ptoperites window and set the capturePointNum to a valid number, like 1. The, go under the events rollout and give it a tag, like MED_CP or something.</li>
<li>Select the corresponding volume. Give the volume the name number as the capture point (1) and then under the events rollout set the event name to the tag of the capture point (MED_CP). This will effectively link the two. Here's a brief overview on how to better <a href="Legacy_Match_These_Tags.html" title="Legacy:Match These Tags">match these tags</a></li>
</ol>
<p>That's about it. If you have problems, make sure your tags match between the two. Also, another trick I've found is to set the draw coords to somehting like 500 by 500, so you can make sure it's actually drawing and not getting covered by something.</p>
<p>Confused about what 'trigger' means? Here's a good definition of what <a href="Legacy_Triggered.html" title="Legacy:Triggered">triggered</a> means.</p>

<!-- 
NewPP limit report
CPU time usage: 0.117 seconds
Real time usage: 0.361 seconds
Preprocessor visited node count: 89/1000000
Preprocessor generated node count: 217/1000000
Post‐expand include size: 786/2097152 bytes
Template argument size: 332/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%   18.718      1 - -total
100.00%   18.718      1 - Template:Innerbox
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:772-0!*!0!!en!*!* and timestamp 20161215150825 and revision id 2201
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Legacy:CaptureVolume?oldid=2201">https://wiki.beyondunreal.com/Legacy:CaptureVolume?oldid=2201</a>"</div>
					<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.beyondunreal.com/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="Category_Legacy_Custom_Class_(UT2003).html" title="Category:Legacy Custom Class (UT2003)">Legacy Custom Class (UT2003)</a></li><li><a href="Category_Legacy_Custom_Class_(UT2004).html" title="Category:Legacy Custom Class (UT2004)">Legacy Custom Class (UT2004)</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-legacy" class="selected"><a href="Legacy_CaptureVolume.html">Legacy</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Legacy_talk:CaptureVolume?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Legacy:CaptureVolume" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Legacy:CaptureVolume" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-anonuserpage"><a href="User_188.162.37.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">188.162.37.3</a></li>
													<li id="pt-anontalk"><a href="User_talk_188.162.37.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3ACaptureVolume&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3ACaptureVolume" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Legacy:CaptureVolume" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Legacy:CaptureVolume" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Legacy:CaptureVolume?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Legacy:CaptureVolume?oldid=2201" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Legacy:CaptureVolume" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 12:01, 18 November 2007.</li>
									<li id="copyright">Licensed as <a href="Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":104});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Legacy:CaptureVolume by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 09:42:32 GMT -->
</html>
