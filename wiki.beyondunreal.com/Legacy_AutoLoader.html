<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Legacy:AutoLoader by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 09:42:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Legacy:AutoLoader - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:AutoLoader" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:AutoLoader" />
<link rel="shortcut icon" href="w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Legacy_AutoLoader.html" />
<link rel="copyright" href="Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="w/load2743.css?debug=false&amp;lang=en&amp;modules=ext.geshi.language.uscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Legacy","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Legacy:AutoLoader","wgTitle":"AutoLoader","wgCurRevisionId":1357,"wgRevisionId":1357,"wgArticleId":409,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Legacy Custom Class (UT2003)"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:AutoLoader","wgRelevantArticleId":409,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-100 ns-subject page-Legacy_AutoLoader skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>I'm a doctor, not a mechanic
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:AutoLoader</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="infobox infobox-class infobox-legacy"><a href="Legacy_UT2003.html" title="Legacy:UT2003" class="mw-redirect">UT2003</a>&#160;:: <a href="Legacy_Actor.html" title="Legacy:Actor">Actor</a> &gt;&gt; <a href="Legacy_Info.html" title="Legacy:Info">Info</a> &gt;&gt; AutoLoader (Package: ConfigManager)</div>
<p>Here's an <a href="Legacy_AutoLoader/Example.html" title="Legacy:AutoLoader/Example">Legacy:AutoLoader/Example</a> on how to use this class</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<ol>
<li class="li1">
<pre class="de1">
<span class="co1">//-----------------------------------------------------------</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//	ConfigManager.AutoLoader</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//	This class has two functions:</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">//	1. Perform all required ini changes needed for your mod.  Will also UNDO</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//	   any changes made to the ini if your mod is deactivated.</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//	   Additional benefit of auto-installation of your mutator on a dedicated</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//	   server (to enable set bEnableMyLoader=True in defaultproperties)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">//	2.	Pass FillPlayInfo() calls to mutators which are not part of the game's</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//		mutator list (such as mutators which only require ServerActors= lines in ini)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//-----------------------------------------------------------</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">class</span> AutoLoader <span class="kw1">extends</span> <span class="kw9">Info</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">abstract</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Quick note about debugging - By setting DEBUG=True in defaultproperties of your</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// AutoLoader subclass when compiling, you can receive large amounts of debug data.</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// However, you will quickly encounter the 1024 byte limit if you use ucc.exe to</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// start the testing server.  By starting a server using the "ut2003 -server" command,</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// you will bypass this limit, since ut2003.exe does not have these limitations.</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">const</span> <span class="kw5">bool</span> DEBUG;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw1">const</span> <span class="kw5">bool</span> DEBUGPROPS;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> ConfigMaster				Manager; 			<span class="co1">// Pointer to ConfigMaster mutator</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> <span class="kw5">string</span>						Interaction<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;	<span class="co1">// Not yet implemented</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//=======================================</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">//	Loading ServerActors</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//=======================================</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Pointer to GameEngine</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> GameEngine					GE;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// This loader includes a server-side only mutator or server actor</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// that will not be part of the mutator chain (will receive FillPlayInfo() calls)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">bool</span>						bIncludeServerActor;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Classname of the ServerActor this loader loads</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// 	Same value as what would otherwise be your mod's</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// 	ServerActors= line in the .ini file.</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">string</span> Actor<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Friendly Name of the Server Actor class</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// 	Used by webadmin/adminmenu as the name of the server actor</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw1">localized</span> <span class="kw5">string</span> 			FriendlyName;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw1">localized</span> <span class="kw5">string</span>			ActorDescription;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Lock this loader to a certain version (or higher) of your mod</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">string</span>			RequiredVersion;	<span class="co1">// Required version of actor</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw1">localized</span> <span class="kw5">string</span> 	VersionWarning;		<span class="co1">// Message to write to server log if version not enough</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw1">localized</span> <span class="kw5">string</span> 	DownloadMsg;		<span class="co1">// Message to write to log</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//=======================================</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">//	Automatic configuration changes</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//=======================================</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// A single ini change</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">struct</span> IniEntry
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">string</span> ClassFrom;	<span class="co1">// Class which contains the setting we want to change</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">string</span> PropName;	<span class="co1">// Name of the variable we're trying to change</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> <span class="kw5">string</span> PropValue;	<span class="co1">// Value to apply</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// Array of ini settings required by this mod</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span><span class="br0">(</span><span class="br0">)</span> 	array<span class="sy0">&lt;</span>IniEntry<span class="sy0">&gt;</span>					RequiredIniEntries;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">var</span> 	array<span class="sy0">&lt;</span>Property<span class="sy0">&gt;</span>					Properties;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">//###################################################################</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//###################################################################</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//  Public methods - should be subclassed to customize loader's response</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// if return true, loader class will be spawned</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">static</span> <span class="kw1">function</span> <span class="kw5">bool</span> IsActive<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// should be subclassed - set loader to active/will be included next match</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">static</span> <span class="kw1">function</span> <span class="kw5">bool</span> EnableLoader<span class="br0">(</span><span class="kw1">optional</span> <span class="kw5">string</span> SpecialActor<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// should be subclassed</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">static</span> <span class="kw1">function</span> <span class="kw5">bool</span> DisableLoader<span class="br0">(</span><span class="kw1">optional</span> <span class="kw5">string</span> SpecialActor<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// called on all loader classes - used to activate loader based on active mutators</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">static</span> <span class="kw1">function</span> <span class="kw5">bool</span> CheckCurrentMutators<span class="br0">(</span><span class="kw5">string</span> URL<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// called on all loader classes which have bIncludeServerActor=True - used to activate loader based on manual ServerActor entry</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">static</span> <span class="kw1">function</span> <span class="kw5">bool</span> CheckStrayActors<span class="br0">(</span><span class="kw5">string</span> ServerActors<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">bool</span> bAddMe;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span><span class="kw1">default</span>.<span class="me0">bIncludeServerActor</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span><span class="kw3">InStr</span><span class="br0">(</span>ServerActors,<span class="kw1">default</span>.<span class="me0">ActorClass</span><span class="br0">)</span> <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			bAddMe <span class="sy0">=</span> EnableLoader<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i <span class="sy0">&lt;</span> <span class="kw1">default</span>.<span class="me0">RequiredIniEntries</span>.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>bAddMe <span class="sy0">&amp;&amp;</span> <span class="kw1">default</span>.<span class="me0">RequiredIniEntries</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">ClassFrom</span> ~<span class="sy0">=</span> <span class="st0">"Engine.GameEngine"</span> <span class="sy0">&amp;&amp;</span> <span class="kw1">default</span>.<span class="me0">RequiredIniEntries</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">PropName</span> ~<span class="sy0">=</span> <span class="st0">"ServerActors"</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">if</span> <span class="br0">(</span><span class="kw3">InStr</span><span class="br0">(</span>ServerActors,<span class="kw1">default</span>.<span class="me0">RequiredIniEntries</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">PropValue</span><span class="br0">)</span> <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
				bAddMe <span class="sy0">=</span> EnableLoader<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="kw1">default</span>.<span class="me0">DEBUG</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">default</span>.<span class="kw1">Class</span><span class="sy0">@</span><span class="st0">"Received string value:"</span><span class="sy0">$</span>ServerActors,<span class="st0">'CheckStrayActors'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">default</span>.<span class="kw1">Class</span><span class="sy0">@</span><span class="st0">"Returning"</span><span class="sy0">@</span>bAddMe,<span class="st0">'CheckStrayActors'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> bAddMe;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Only managed actors can be added to Ladder profiles</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Normally, only the ActorClass of your loader (if bIncludeServerActor=True) would be need to be managed</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">static</span> <span class="kw1">function</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> GetManagedActors<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> A, B, C;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> ABC;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	i <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">1</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">while</span> <span class="br0">(</span><span class="kw1">static</span>.<span class="me0">AddManagedActor</span><span class="br0">(</span>i<span class="sy0">++</span>,A,B,C<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ABC<span class="br0">[</span>ABC.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> A<span class="sy0">$</span><span class="st0">","</span><span class="sy0">$</span>B<span class="sy0">$</span><span class="st0">","</span><span class="sy0">$</span>C;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> ABC;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Managed actors will be passed FillPlayInfo() calls</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">static</span> <span class="kw1">function</span> <span class="kw5">bool</span> AddManagedActor<span class="br0">(</span><span class="kw5">int</span> Idx, <span class="kw1">out</span> <span class="kw5">string</span> ActorClassName, <span class="kw1">out</span> <span class="kw5">string</span> ActorName, <span class="kw1">out</span> <span class="kw5">string</span> ActorDesc<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span>Idx <span class="sy0">==</span> <span class="sy0">-</span><span class="nu0">1</span> <span class="sy0">&amp;&amp;</span> <span class="kw1">default</span>.<span class="me0">bIncludeServerActor</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ActorClassName <span class="sy0">=</span> <span class="kw1">default</span>.<span class="me0">Actor</span><span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li1">
<pre class="de1">
		ActorName <span class="sy0">=</span> <span class="kw1">default</span>.<span class="me0">FriendlyName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		ActorDesc <span class="sy0">=</span> <span class="kw1">default</span>.<span class="me0">ActorDescription</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Optional hook for version filtering</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">static</span> <span class="kw1">function</span> <span class="kw5">bool</span> MatchesVersion<span class="br0">(</span><span class="kw5">float</span> ActorVersion, <span class="kw1">optional</span> <span class="kw5">bool</span> bExact, <span class="kw1">optional</span> <span class="kw5">string</span> NewURL<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">float</span> CurrentVersion;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">string</span> LogText;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="kw1">default</span>.<span class="me0">RequiredVersion</span> <span class="sy0">==</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	CurrentVersion <span class="sy0">=</span> <span class="kw5">float</span><span class="br0">(</span><span class="kw1">default</span>.<span class="me0">RequiredVersion</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// Return false if loader version is higher than actor version</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// Return false if loader version is lower than actor version and bExact=True</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span>ActorVersion <span class="sy0">&lt;</span> CurrentVersion<span class="br0">)</span> <span class="sy0">||</span> <span class="br0">(</span>ActorVersion <span class="sy0">&gt;</span> CurrentVersion <span class="sy0">&amp;&amp;</span> bExact<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span><span class="kw1">default</span>.<span class="me0">VersionWarning</span> <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			LogText <span class="sy0">=</span> <span class="kw1">static</span>.<span class="me0">ReplaceTag</span><span class="br0">(</span><span class="kw1">default</span>.<span class="me0">VersionWarning</span>,<span class="st0">"%CurVer%"</span>,CurrentVersion<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			LogText <span class="sy0">=</span> <span class="kw1">static</span>.<span class="me0">ReplaceTag</span><span class="br0">(</span>LogText,<span class="st0">"%ReqVer%"</span>,ActorVersion<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw3">log</span><span class="br0">(</span>LogText<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>NewURL <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw3">log</span><span class="br0">(</span><span class="kw1">static</span>.<span class="me0">ReplaceTag</span><span class="br0">(</span><span class="kw1">default</span>.<span class="me0">DownloadMsg</span>,<span class="st0">"%URL%"</span>,NewURL<span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// To prevent your loader from causing a server crash, add your checks here</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// return false to prevent your loader from being loaded</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// You only need to override this function if bIncludeServerActor=False in your loader,</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// or if you have RequiredIniChanges that reference additional custom packages</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">static</span> <span class="kw1">function</span> <span class="kw5">bool</span> ValidateLoader<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> class<span class="sy0">&lt;</span>Info<span class="sy0">&gt;</span>	MyActor;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="kw1">default</span>.<span class="me0">bIncludeServerActor</span> <span class="sy0">&amp;&amp;</span> <span class="kw1">default</span>.<span class="me0">ActorClass</span> <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="co1">// Specify True for 3rd param in DynamicLoadObject to prevent log spam if MyActor isn't on server</span>
</pre></li>
<li class="li1">
<pre class="de1">
		MyActor <span class="sy0">=</span> class<span class="sy0">&lt;</span>Info<span class="sy0">&gt;</span><span class="br0">(</span><span class="kw3">DynamicLoadObject</span><span class="br0">(</span><span class="kw1">default</span>.<span class="me0">ActorClass</span>,<span class="kw1">class</span><span class="st0">'Class'</span>,<span class="kw6">True</span><span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span>MyActor <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Hook for loader to cancel external removal request, or effect any specialized ini changes to make before removal</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> AcceptRemoval<span class="br0">(</span><span class="kw1">optional</span> array<span class="sy0">&lt;</span>Property<span class="sy0">&gt;</span> Props<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span>Props.<span class="me0">Length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		Properties <span class="sy0">=</span> Props;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	RemoveMe<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// should be subclassed</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// always use "return !bEnableMyLoader;"</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// see LadderLoader.LadderLoader or TeamBalanceLoader.BalanceLoader for examples</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">function</span> <span class="kw5">bool</span> WantsToBeDisabled<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// called for each RequiredIniEntry</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// return true to apply the RequiredIniEntry.PropValue</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> ObjectNeedsUpdate<span class="br0">(</span><span class="kw8">Object</span> O, <span class="kw5">string</span> PropName, <span class="kw5">string</span> PropValue<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> Temp;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	Temp <span class="sy0">=</span> O.<span class="kw3">GetPropertyText</span><span class="br0">(</span>PropName<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span> <span class="kw3">InStr</span><span class="br0">(</span><span class="kw3">Caps</span><span class="br0">(</span>Temp<span class="br0">)</span>,<span class="kw3">Caps</span><span class="br0">(</span>PropValue<span class="br0">)</span><span class="br0">)</span> <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// notification of pending update - return false to skip update for loader</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> ApplyUpdate<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span> <span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Returning"</span><span class="sy0">@</span>IsActive<span class="br0">(</span><span class="br0">)</span>,<span class="st0">'ApplyUpdate'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> IsActive<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// return -1 if want to simply add entry</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// return index of array entry if want to overwrite</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">int</span> CheckArrayEntry<span class="br0">(</span><span class="kw5">string</span> PropName, array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> PropArray<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="sy0">-</span><span class="nu0">1</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// To maintain consistency, always add to "Server Actors" page</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// static function FillPlayInfo(PlayInfo PI)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// {</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// 		Super.FillPlayInfo(PI);</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//		PI.AddSetting("ServerActors",....</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// }</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//###################################################################</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">//###################################################################</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//	Public Final Methods</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//	These are used to operate the internal mechanisms of the auto loader system.</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">//</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Called by ConfigMaster when Level.ServerTravel is called</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Removes loader if WantsToBeDisabled() returns True</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// Applies value for RequiredIniProperties if ObjectNeedsUpdate returns true</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">final</span> <span class="kw1">function</span> UpdateConfiguration<span class="br0">(</span>array<span class="sy0">&lt;</span>Property<span class="sy0">&gt;</span> Props<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw8">Object</span> 			O;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> Property			P;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> 			N,V;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> 				i, j;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span>		Arr;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">string</span>			ArrS;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="st0">"Update configuration in"</span><span class="sy0">@</span><span class="kw1">class</span>,<span class="st0">'UpdateConfiguration'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw3">ResetConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	Properties <span class="sy0">=</span> Props;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>WantsToBeDisabled<span class="br0">(</span><span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		RemoveMe<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>bIncludeServerActor <span class="sy0">&amp;&amp;</span> ActorClass <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		O <span class="sy0">=</span> GetObjectOfClass<span class="br0">(</span><span class="kw1">class</span><span class="st0">'Engine.GameEngine'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>O <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">if</span> <span class="br0">(</span>ObjectNeedsUpdate<span class="br0">(</span>O, <span class="st0">"ServerActors"</span>, ActorClass<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
				ArrS <span class="sy0">=</span> O.<span class="kw3">GetPropertyText</span><span class="br0">(</span><span class="st0">"ServerActors"</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">if</span> <span class="br0">(</span>ArrS <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
					Arr <span class="sy0">=</span> GenerateArray<span class="br0">(</span>ArrS<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
				j <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">1</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">if</span> <span class="br0">(</span>Arr.<span class="me0">Length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
					j <span class="sy0">=</span> CheckArrayEntry<span class="br0">(</span><span class="st0">"ServerActors"</span>, Arr<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">if</span> <span class="br0">(</span>j <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
					O.<span class="kw3">SetPropertyText</span><span class="br0">(</span><span class="st0">"ServerActors"</span>,AddDynArrayMember<span class="br0">(</span>O,<span class="st0">"ServerActors"</span>,ActorClass<span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">else</span> O.<span class="kw3">SetPropertyText</span><span class="br0">(</span><span class="st0">"ServerActors"</span>,InsertArrayMember<span class="br0">(</span>O, <span class="st0">"ServerActors"</span>, ActorClass, j<span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				O.<span class="kw3">SaveConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>;i<span class="sy0">&lt;</span>RequiredIniEntries.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		O <span class="sy0">=</span> GetObjectForEntry<span class="br0">(</span>RequiredIniEntries<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>O <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span> <span class="kw2">continue</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>ObjectNeedsUpdate<span class="br0">(</span>O, RequiredIniEntries<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">PropName</span>, RequiredIniEntries<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">PropValue</span><span class="br0">)</span><span class="br0">)</span> <span class="kw2">continue</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
		N <span class="sy0">=</span> RequiredIniEntries<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">PropName</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		V <span class="sy0">=</span> RequiredIniEntries<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">PropValue</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		P <span class="sy0">=</span> GetProperty<span class="br0">(</span>O, N<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"got property"</span><span class="sy0">@</span>p,<span class="st0">'UpdateConfiguration'</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>P <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span> <span class="kw2">continue</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
		j <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">1</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span>PropIsArray<span class="br0">(</span>P<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			ArrS <span class="sy0">=</span> O.<span class="kw3">GetPropertyText</span><span class="br0">(</span>N<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">if</span> <span class="br0">(</span>ArrS <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
				Arr <span class="sy0">=</span> GenerateArray<span class="br0">(</span>ArrS<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">if</span> <span class="br0">(</span>Arr.<span class="me0">Length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
				j <span class="sy0">=</span> CheckArrayEntry<span class="br0">(</span>N, Arr<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">if</span> <span class="br0">(</span>j <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
				O.<span class="kw3">SetPropertyText</span><span class="br0">(</span>N,AddDynArrayMember<span class="br0">(</span>O,N,V<span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">else</span> O.<span class="kw3">SetPropertyText</span><span class="br0">(</span>N,InsertArrayMember<span class="br0">(</span>O, N, V, j<span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">else</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			StoreDefaultValue<span class="br0">(</span>O, N<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			O.<span class="kw3">SetPropertyText</span><span class="br0">(</span>N,V<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
		O.<span class="kw3">SaveConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// Regarding OriginalValues</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">final</span> <span class="kw1">function</span> StoreDefaultValue<span class="br0">(</span><span class="kw8">Object</span> O, <span class="kw5">string</span> PropName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i, idx;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> IniEntry NewDefault;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">string</span> CurrentValue, Quote;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> Ar;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"storing default"</span><span class="sy0">@</span>o<span class="sy0">@</span>propname,<span class="st0">'StoreDefaultValue'</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i <span class="sy0">&lt;</span> ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">OriginalValues</span>.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">OriginalValues</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">ClassFrom</span> <span class="sy0">==</span> <span class="kw5">string</span><span class="br0">(</span>O.<span class="kw1">Class</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">OriginalValues</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">PropName</span> <span class="sy0">==</span> PropName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	NewDefault.<span class="me0">ClassFrom</span> <span class="sy0">=</span> <span class="kw5">string</span><span class="br0">(</span>O.<span class="kw1">Class</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// Check if this property name is a single array member</span>
</pre></li>
<li class="li1">
<pre class="de1">
	i <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">1</span>; idx <span class="sy0">=</span> <span class="sy0">-</span><span class="nu0">1</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	i <span class="sy0">=</span> <span class="kw3">InStr</span><span class="br0">(</span>PropName, <span class="st0">""</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>i <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		idx <span class="sy0">=</span> <span class="kw5">int</span><span class="br0">(</span><span class="kw3">Left</span><span class="br0">(</span>PropName, i<span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		PropName <span class="sy0">=</span> <span class="kw3">Mid</span><span class="br0">(</span>PropName, i <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		CurrentValue <span class="sy0">=</span> O.<span class="kw3">GetPropertyText</span><span class="br0">(</span>PropName<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		Ar <span class="sy0">=</span> GenerateArray<span class="br0">(</span>CurrentValue<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		CurrentValue <span class="sy0">=</span> Ar<span class="br0">[</span>idx<span class="br0">]</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="co1">// Remove literal string wrapper</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span><span class="kw3">Left</span><span class="br0">(</span>CurrentValue,<span class="nu0">1</span><span class="br0">)</span> <span class="sy0">==</span> <span class="st0">"<span class="es0">\"</span>"</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
			CurrentValue <span class="sy0">=</span> <span class="kw3">Mid</span><span class="br0">(</span>CurrentValue,<span class="nu0">1</span>,<span class="kw3">Len</span><span class="br0">(</span>CurrentValue<span class="br0">)</span> <span class="sy0">-</span> <span class="nu0">2</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			Quote <span class="sy0">=</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
		CurrentValue <span class="sy0">=</span> idx <span class="sy0">$</span> <span class="st0">""</span> <span class="sy0">$</span> CurrentValue <span class="sy0">$</span> Quote;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">else</span> CurrentValue <span class="sy0">=</span> O.<span class="kw3">GetPropertyText</span><span class="br0">(</span>PropName<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	NewDefault.<span class="me0">PropName</span> <span class="sy0">=</span> PropName;
</pre></li>
<li class="li1">
<pre class="de1">
	NewDefault.<span class="me0">PropValue</span> <span class="sy0">=</span> CurrentValue;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"old value:"</span><span class="sy0">@</span>NewDefault.<span class="me0">PropValue</span>,<span class="st0">'StoreDefaultValue'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">OriginalValues</span><span class="br0">[</span>ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">OriginalValues</span>.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> NewDefault;
</pre></li>
<li class="li1">
<pre class="de1">
	ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="kw3">SaveConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">final</span> <span class="kw1">function</span> <span class="kw5">bool</span> RestoreOriginalValue<span class="br0">(</span><span class="kw8">Object</span> O, <span class="kw5">string</span> PropName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i, j, idx;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">string</span> CurrentValue, StoredValue;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> Ar;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i <span class="sy0">&lt;</span> ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">OriginalValues</span>.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span>ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">OriginalValues</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">ClassFrom</span> ~<span class="sy0">=</span> <span class="kw5">string</span><span class="br0">(</span>O.<span class="kw1">Class</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">OriginalValues</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">PropName</span> ~<span class="sy0">=</span> PropName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			StoredValue <span class="sy0">=</span> ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">OriginalValues</span><span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">PropValue</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="co1">// First check if this was a single array member</span>
</pre></li>
<li class="li1">
<pre class="de1">
			j <span class="sy0">=</span> <span class="kw3">InStr</span><span class="br0">(</span>StoredValue, <span class="st0">""</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw2">if</span> <span class="br0">(</span>j <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
				idx <span class="sy0">=</span> <span class="kw5">int</span><span class="br0">(</span><span class="kw3">Left</span><span class="br0">(</span>StoredValue, j<span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				StoredValue <span class="sy0">=</span> <span class="kw3">Mid</span><span class="br0">(</span>StoredValue, j <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">if</span> <span class="br0">(</span><span class="kw3">Right</span><span class="br0">(</span>StoredValue, <span class="nu0">1</span><span class="br0">)</span> <span class="sy0">==</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
				<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
					StoredValue <span class="sy0">=</span> <span class="kw3">Left</span><span class="br0">(</span>StoredValue, <span class="kw3">Len</span><span class="br0">(</span>StoredValue<span class="br0">)</span> <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
					StoredValue <span class="sy0">=</span> <span class="st0">"<span class="es0">\"</span>"</span> <span class="sy0">$</span> StoredValue <span class="sy0">$</span> <span class="st0">"<span class="es0">\"</span>"</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
				CurrentValue <span class="sy0">=</span> O.<span class="kw3">GetPropertyText</span><span class="br0">(</span>PropName<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
				Ar <span class="sy0">=</span> GenerateArray<span class="br0">(</span>CurrentValue<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				Ar<span class="br0">[</span>idx<span class="br0">]</span> <span class="sy0">=</span> StoredValue;
</pre></li>
<li class="li1">
<pre class="de1">
				StoredValue <span class="sy0">=</span> <span class="st0">"("</span> <span class="sy0">$</span> Join<span class="br0">(</span>Ar,<span class="st0">","</span>,<span class="kw6">True</span><span class="br0">)</span> <span class="sy0">$</span><span class="st0">")"</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Assigning"</span><span class="sy0">@</span>StoredValue<span class="sy0">@</span><span class="st0">"to property"</span><span class="sy0">@</span><span class="kw5">string</span><span class="br0">(</span>O.<span class="kw1">Class</span><span class="br0">)</span><span class="sy0">$</span><span class="st0">"."</span><span class="sy0">$</span>PropName,<span class="st0">'RestoreOriginalValue'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			O.<span class="kw3">SetPropertyText</span><span class="br0">(</span>PropName, StoredValue<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			O.<span class="kw3">SaveConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">break</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>i <span class="sy0">&lt;</span> ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">OriginalValues</span>.<span class="me0">Length</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">OriginalValues</span>.<span class="me0">Remove</span><span class="br0">(</span>i, <span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="kw3">SaveConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//###################################################################</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//###################################################################</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">//</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//	Internal Methods</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//	These are used to control the internal operation of the loader itself.</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//	These methods may only be called by other methods within the loader.</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">final</span> <span class="kw1">function</span> RemoveMe<span class="br0">(</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw8">Object</span> O;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> Property P;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"being removed."</span>,<span class="st0">'RemoveMe'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span>bIncludeServerActor <span class="sy0">&amp;&amp;</span> ActorClass <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		O <span class="sy0">=</span> GetObjectOfClass<span class="br0">(</span><span class="kw1">class</span><span class="st0">'Engine.GameEngine'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>O <span class="sy0">!=</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			RemoveArrayEntry<span class="br0">(</span>O, <span class="st0">"ServerActors"</span>, ActorClass<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i <span class="sy0">&lt;</span> RequiredIniEntries.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		O <span class="sy0">=</span> GetObjectForEntry<span class="br0">(</span>RequiredIniEntries<span class="br0">[</span>i<span class="br0">]</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span>O <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span> <span class="kw2">continue</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
		P <span class="sy0">=</span> GetProperty<span class="br0">(</span>O,RequiredIniEntries<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">PropName</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>P <span class="sy0">!=</span> <span class="kw5">None</span> <span class="sy0">&amp;&amp;</span> PropIsArray<span class="br0">(</span>P<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			RemoveArrayEntry<span class="br0">(</span>O,RequiredIniEntries<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">PropName</span>,RequiredIniEntries<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">PropValue</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">else</span> RestoreOriginalValue<span class="br0">(</span>O, RequiredIniEntries<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">PropName</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	DisableLoader<span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">final</span> <span class="kw1">function</span> <span class="kw5">string</span> InsertArrayMember<span class="br0">(</span><span class="kw8">Object</span> Obj, <span class="kw5">string</span> PropName, <span class="kw5">string</span> NewValue, <span class="kw5">int</span> Pos<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> CurValue, Quote, Tmp;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span>	Members;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">bool</span> bStatic;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>Obj <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw3">Warn</span><span class="br0">(</span><span class="st0">"Object is None"</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	CurValue <span class="sy0">=</span> Obj.<span class="kw3">GetPropertyText</span><span class="br0">(</span>PropName<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	Members <span class="sy0">=</span> GenerateArray<span class="br0">(</span>CurValue<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">$</span><span class="st0">":Inserting new member at position"</span><span class="sy0">@</span>Pos<span class="sy0">@</span><span class="st0">"to"</span><span class="sy0">@</span>Obj<span class="sy0">$</span><span class="st0">"."</span><span class="sy0">$</span>PropName<span class="sy0">$</span><span class="st0">":"</span><span class="sy0">@</span>NewValue,<span class="st0">'InsertArrayMember'</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">$</span><span class="st0">":Current Value:"</span><span class="sy0">$</span>CurValue,<span class="st0">'InsertArrayMember'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Check for literal string</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="kw3">InStr</span><span class="br0">(</span><span class="kw3">Caps</span><span class="br0">(</span>CurValue<span class="br0">)</span>, <span class="kw3">Caps</span><span class="br0">(</span>NewValue<span class="br0">)</span><span class="br0">)</span> <span class="sy0">&lt;</span> <span class="nu0">0</span> <span class="sy0">&amp;&amp;</span> Members.<span class="me0">Length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		bStatic <span class="sy0">=</span> <span class="kw3">Left</span><span class="br0">(</span>Members<span class="br0">[</span>pos<span class="br0">]</span>, <span class="kw3">Len</span><span class="br0">(</span>PropName<span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span> ~<span class="sy0">=</span> <span class="br0">(</span>PropName <span class="sy0">$</span> <span class="st0">"["</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		Tmp <span class="sy0">=</span> StringIf<span class="br0">(</span>bStatic, <span class="kw3">Mid</span><span class="br0">(</span>Members<span class="br0">[</span>pos<span class="br0">]</span>,<span class="kw3">InStr</span><span class="br0">(</span>Members<span class="br0">[</span>pos<span class="br0">]</span>,<span class="st0">"="</span><span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span>, Members<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		Quote <span class="sy0">=</span> StringIf<span class="br0">(</span><span class="kw3">Left</span><span class="br0">(</span>Tmp,<span class="nu0">1</span><span class="br0">)</span> <span class="sy0">==</span> <span class="st0">"<span class="es0">\"</span>"</span> <span class="sy0">&amp;&amp;</span> <span class="kw3">Left</span><span class="br0">(</span>NewValue,<span class="nu0">1</span><span class="br0">)</span> <span class="sy0">!=</span> <span class="st0">"<span class="es0">\"</span>"</span>,<span class="st0">"<span class="es0">\"</span>"</span>,<span class="st0">""</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
		NewValue <span class="sy0">=</span> StringIf<span class="br0">(</span>bStatic, PropName <span class="sy0">$</span> <span class="st0">"="</span> <span class="sy0">$</span> Quote <span class="sy0">$</span> NewValue <span class="sy0">$</span> Quote, Quote <span class="sy0">$</span> NewValue <span class="sy0">$</span> Quote<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw3">log</span><span class="br0">(</span><span class="kw3">InStr</span><span class="br0">(</span><span class="kw3">Caps</span><span class="br0">(</span>CurValue<span class="br0">)</span>,<span class="kw3">Caps</span><span class="br0">(</span>NewValue<span class="br0">)</span><span class="br0">)</span><span class="sy0">@</span><span class="kw3">InStr</span><span class="br0">(</span><span class="kw3">Caps</span><span class="br0">(</span>CurValue<span class="br0">)</span>,<span class="kw3">Caps</span><span class="br0">(</span>NewValue<span class="br0">)</span><span class="br0">)</span><span class="sy0">&lt;</span><span class="nu0">0</span><span class="sy0">@</span><span class="kw3">Caps</span><span class="br0">(</span>CurValue<span class="br0">)</span><span class="sy0">@</span><span class="st0">"||"</span><span class="sy0">@</span><span class="kw3">Caps</span><span class="br0">(</span>NewValue<span class="br0">)</span>,<span class="st0">'AddDynArrayMember'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>NewValue <span class="sy0">!=</span> <span class="st0">""</span> <span class="sy0">&amp;&amp;</span> Pos <span class="sy0">&gt;</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			StoreDefaultValue<span class="br0">(</span>Obj, Pos<span class="sy0">$</span><span class="st0">""</span><span class="sy0">$</span>PropName<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			Members<span class="br0">[</span>Pos<span class="br0">]</span> <span class="sy0">=</span> NewValue;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
		CurValue <span class="sy0">=</span> <span class="st0">"("</span> <span class="sy0">$</span> Join<span class="br0">(</span>Members,<span class="st0">","</span>,<span class="kw6">True</span><span class="br0">)</span> <span class="sy0">$</span> <span class="st0">")"</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Returning:"</span><span class="sy0">$</span>CurValue,<span class="st0">'InsertArrayMember'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">""</span>,<span class="st0">'InsertArrayMember'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> CurValue;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Currently, UT2003 does not support setting static arrays through the use of SetPropertyText</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">final</span> <span class="kw1">function</span> <span class="kw5">string</span> AddStaticArrayMember<span class="br0">(</span><span class="kw8">Object</span> Obj, <span class="kw5">string</span> PropName, <span class="kw5">string</span> NewValue<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span>	Members;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> Quote, TempValue, CurValue;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>Obj <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">Warn</span><span class="br0">(</span><span class="st0">"Object was None for property"</span><span class="sy0">@</span>PropName<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	CurValue <span class="sy0">=</span> Obj.<span class="kw3">GetPropertyText</span><span class="br0">(</span>PropName<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	Members <span class="sy0">=</span> GenerateArray<span class="br0">(</span>CurValue<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="kw3">InStr</span><span class="br0">(</span><span class="kw3">Caps</span><span class="br0">(</span>CurValue<span class="br0">)</span>, <span class="kw3">Caps</span><span class="br0">(</span>NewValue<span class="br0">)</span><span class="br0">)</span> <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span>Members.<span class="me0">Length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			TempValue <span class="sy0">=</span> <span class="kw3">Mid</span><span class="br0">(</span>Members<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>,<span class="kw3">InStr</span><span class="br0">(</span>Members<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>,<span class="st0">"="</span><span class="br0">)</span><span class="sy0">+</span><span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="co1">// Check for literal string</span>
</pre></li>
<li class="li2">
<pre class="de2">
			Quote <span class="sy0">=</span> StringIf<span class="br0">(</span><span class="kw3">Left</span><span class="br0">(</span>TempValue,<span class="nu0">1</span><span class="br0">)</span> <span class="sy0">==</span> <span class="st0">"<span class="es0">\"</span>"</span> <span class="sy0">&amp;&amp;</span> <span class="kw3">Left</span><span class="br0">(</span>NewValue,<span class="nu0">1</span><span class="br0">)</span> <span class="sy0">!=</span> <span class="st0">"<span class="es0">\"</span>"</span>, <span class="st0">"<span class="es0">\"</span>"</span>, <span class="st0">""</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i <span class="sy0">&lt;</span> Members.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">if</span> <span class="br0">(</span>Members<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">==</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
					Members<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">=</span> PropName <span class="sy0">$</span> <span class="st0">"["</span> <span class="sy0">$</span> i <span class="sy0">$</span> <span class="st0">"]="</span> <span class="sy0">$</span> Quote <span class="sy0">$</span> NewValue <span class="sy0">$</span> Quote;
</pre></li>
<li class="li1">
<pre class="de1">
					<span class="kw2">break</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
			CurValue <span class="sy0">=</span> <span class="st0">"("</span> <span class="sy0">$</span> Join<span class="br0">(</span>Members,<span class="st0">","</span><span class="br0">)</span> <span class="sy0">$</span><span class="st0">")"</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">else</span> CurValue <span class="sy0">=</span> <span class="st0">"("</span> <span class="sy0">$</span> PropName <span class="sy0">$</span> <span class="st0">"[0]="</span> <span class="sy0">$</span> NewValue <span class="sy0">$</span> <span class="st0">")"</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> CurValue;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">final</span> <span class="kw1">function</span> <span class="kw5">string</span> AddDynArrayMember<span class="br0">(</span><span class="kw8">Object</span> Obj, <span class="kw5">string</span> PropName, <span class="kw5">string</span> NewValue<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">string</span> CurValue, Quote;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span>	Members;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>Obj <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw3">Warn</span><span class="br0">(</span><span class="st0">"Object is None"</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	CurValue <span class="sy0">=</span> Obj.<span class="kw3">GetPropertyText</span><span class="br0">(</span>PropName<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	Members <span class="sy0">=</span> GenerateArray<span class="br0">(</span>CurValue<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">$</span><span class="st0">":Adding new member to"</span><span class="sy0">@</span>Obj<span class="sy0">$</span><span class="st0">"."</span><span class="sy0">$</span>PropName<span class="sy0">$</span><span class="st0">":"</span><span class="sy0">@</span>NewValue,<span class="st0">'AddDynArrayMember'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">$</span><span class="st0">":Current Value:"</span><span class="sy0">$</span>CurValue,<span class="st0">'AddDynArrayMember'</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Check for literal string</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="kw3">InStr</span><span class="br0">(</span><span class="kw3">Caps</span><span class="br0">(</span>CurValue<span class="br0">)</span>, <span class="kw3">Caps</span><span class="br0">(</span>NewValue<span class="br0">)</span><span class="br0">)</span> <span class="sy0">&lt;</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span>Members.<span class="me0">Length</span> <span class="sy0">&gt;</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw3">log</span><span class="br0">(</span><span class="kw3">InStr</span><span class="br0">(</span><span class="kw3">Caps</span><span class="br0">(</span>CurValue<span class="br0">)</span>,<span class="kw3">Caps</span><span class="br0">(</span>NewValue<span class="br0">)</span><span class="br0">)</span><span class="sy0">@</span><span class="kw3">InStr</span><span class="br0">(</span><span class="kw3">Caps</span><span class="br0">(</span>CurValue<span class="br0">)</span>,<span class="kw3">Caps</span><span class="br0">(</span>NewValue<span class="br0">)</span><span class="br0">)</span><span class="sy0">&lt;</span><span class="nu0">0</span><span class="sy0">@</span><span class="kw3">Caps</span><span class="br0">(</span>CurValue<span class="br0">)</span><span class="sy0">@</span><span class="st0">"||"</span><span class="sy0">@</span><span class="kw3">Caps</span><span class="br0">(</span>NewValue<span class="br0">)</span>,<span class="st0">'AddDynArrayMember'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
			Quote <span class="sy0">=</span> StringIf<span class="br0">(</span><span class="kw3">Left</span><span class="br0">(</span>Members<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>,<span class="nu0">1</span><span class="br0">)</span> <span class="sy0">==</span> <span class="st0">"<span class="es0">\"</span>"</span> <span class="sy0">&amp;&amp;</span> <span class="kw3">Left</span><span class="br0">(</span>NewValue,<span class="nu0">1</span><span class="br0">)</span> <span class="sy0">!=</span> <span class="st0">"<span class="es0">\"</span>"</span>, <span class="st0">"<span class="es0">\"</span>"</span>, <span class="st0">""</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			Members<span class="br0">[</span>Members.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> Quote <span class="sy0">$</span> NewValue <span class="sy0">$</span> Quote;
</pre></li>
<li class="li1">
<pre class="de1">
			CurValue <span class="sy0">=</span> <span class="st0">"("</span> <span class="sy0">$</span> Join<span class="br0">(</span>Members,<span class="st0">","</span>,<span class="kw6">True</span><span class="br0">)</span> <span class="sy0">$</span> <span class="st0">")"</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">else</span> CurValue <span class="sy0">=</span> <span class="st0">"("</span> <span class="sy0">$</span> NewValue <span class="sy0">$</span> <span class="st0">")"</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Returning:"</span><span class="sy0">$</span>CurValue,<span class="st0">'AddDynArrayMember'</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">""</span>,<span class="st0">'AddDynArrayMember'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> CurValue;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// UT2003 currently does not support setting the value of static arrays</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">final</span> <span class="kw1">function</span> RemoveArrayEntry<span class="br0">(</span><span class="kw8">Object</span> O, <span class="kw5">string</span> PropName, <span class="kw5">string</span> PropValue<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i, j;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> Members;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> ArrayString, Quote, Tmp;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">bool</span> bStatic;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>O <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">Warn</span><span class="br0">(</span><span class="st0">"Object was none for property"</span><span class="sy0">@</span>PropName<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	ArrayString <span class="sy0">=</span> O.<span class="kw3">GetPropertyText</span><span class="br0">(</span>PropName<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>ArrayString <span class="sy0">==</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">Warn</span><span class="br0">(</span><span class="st0">"Property was not found:"</span><span class="sy0">@</span>PropName<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">$</span><span class="st0">": Removing array member"</span><span class="sy0">@</span><span class="kw5">string</span><span class="br0">(</span>O.<span class="kw1">Class</span><span class="br0">)</span><span class="sy0">$</span><span class="st0">"."</span><span class="sy0">$</span>PropName<span class="sy0">$</span><span class="st0">":"</span><span class="sy0">$</span>ArrayString,<span class="st0">'RemoveArrayEntry'</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">$</span><span class="st0">": Member to be removed:"</span><span class="sy0">$</span>PropValue,<span class="st0">'RemoveArrayEntry'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	Members <span class="sy0">=</span> GenerateArray<span class="br0">(</span>ArrayString<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	bStatic <span class="sy0">=</span> <span class="kw3">Left</span><span class="br0">(</span>Members<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>, <span class="kw3">Len</span><span class="br0">(</span>PropName<span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span> ~<span class="sy0">=</span> <span class="br0">(</span>PropName <span class="sy0">$</span> <span class="st0">"["</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	Tmp <span class="sy0">=</span> StringIf<span class="br0">(</span>bStatic, <span class="kw3">Mid</span><span class="br0">(</span>Members<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>,<span class="kw3">InStr</span><span class="br0">(</span>Members<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span>,<span class="st0">"="</span><span class="br0">)</span> <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span>, Members<span class="br0">[</span><span class="nu0">0</span><span class="br0">]</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	Quote <span class="sy0">=</span> StringIf<span class="br0">(</span><span class="kw3">Left</span><span class="br0">(</span>Tmp,<span class="nu0">1</span><span class="br0">)</span> <span class="sy0">==</span> <span class="st0">"<span class="es0">\"</span>"</span> <span class="sy0">&amp;&amp;</span> <span class="kw3">Left</span><span class="br0">(</span>PropValue,<span class="nu0">1</span><span class="br0">)</span> <span class="sy0">!=</span> <span class="st0">"<span class="es0">\"</span>"</span>,<span class="st0">"<span class="es0">\"</span>"</span>,<span class="st0">""</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	PropValue <span class="sy0">=</span> StringIf<span class="br0">(</span>bStatic, PropName <span class="sy0">$</span> <span class="st0">"="</span> <span class="sy0">$</span> Quote <span class="sy0">$</span> PropValue <span class="sy0">$</span> Quote, Quote <span class="sy0">$</span> PropValue <span class="sy0">$</span> Quote<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i <span class="sy0">&lt;</span> Members.<span class="me0">Length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Comparing"</span><span class="sy0">@</span>i<span class="sy0">@</span>PropValue<span class="sy0">@</span><span class="st0">"to"</span><span class="sy0">@</span>Members<span class="br0">[</span>i<span class="br0">]</span>,<span class="st0">'RemoveArrayEntry'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>Members<span class="br0">[</span>i<span class="br0">]</span> ~<span class="sy0">=</span> PropValue<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw2">break</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>i <span class="sy0">&lt;</span> Members.<span class="me0">Length</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span> <span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Removing array member"</span><span class="sy0">@</span>i<span class="sy0">$</span><span class="st0">":"</span><span class="sy0">$</span>Members<span class="br0">[</span>i<span class="br0">]</span>,<span class="st0">'RemoveArrayEntry'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="co1">// Check if we should restore a previous value</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">for</span> <span class="br0">(</span>j <span class="sy0">=</span> <span class="nu0">0</span>; j <span class="sy0">&lt;</span> ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">OriginalValues</span>.<span class="me0">Length</span>; j<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Checking Backup Value"</span><span class="sy0">@</span>j<span class="sy0">@</span><span class="st0">"class:"</span><span class="sy0">$</span>ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">OriginalValues</span><span class="br0">[</span>j<span class="br0">]</span>.<span class="me0">ClassFrom</span><span class="sy0">@</span><span class="st0">"against"</span><span class="sy0">@</span><span class="kw5">string</span><span class="br0">(</span>O.<span class="kw1">Class</span><span class="br0">)</span>,<span class="st0">'RemoveArrayEntry'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Checking Backup Value"</span><span class="sy0">@</span>j<span class="sy0">@</span><span class="st0">"Property:"</span><span class="sy0">$</span>ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">OriginalValues</span><span class="br0">[</span>j<span class="br0">]</span>.<span class="me0">PropName</span><span class="sy0">@</span><span class="st0">"against"</span><span class="sy0">@</span>PropName,<span class="st0">'RemoveArrayEntry'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">if</span> <span class="br0">(</span>ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">OriginalValues</span><span class="br0">[</span>j<span class="br0">]</span>.<span class="me0">ClassFrom</span> ~<span class="sy0">=</span> <span class="kw5">string</span><span class="br0">(</span>O.<span class="kw1">Class</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span>
</pre></li>
<li class="li1">
<pre class="de1">
				ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">OriginalValues</span><span class="br0">[</span>j<span class="br0">]</span>.<span class="me0">PropName</span> ~<span class="sy0">=</span> PropName <span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
				RestoreOriginalValue<span class="br0">(</span>O, PropName<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
				<span class="kw2">break</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>j <span class="sy0">&lt;</span> ConfigMaster<span class="br0">(</span><span class="kw7">Owner</span><span class="br0">)</span>.<span class="me0">OriginalValues</span>.<span class="me0">Length</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
		Members.<span class="me0">Remove</span><span class="br0">(</span>i,<span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">else</span> <span class="kw2">return</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	PropValue <span class="sy0">=</span> <span class="st0">"("</span> <span class="sy0">$</span> Join<span class="br0">(</span>Members,<span class="st0">","</span><span class="br0">)</span> <span class="sy0">$</span> <span class="st0">")"</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Assigning"</span><span class="sy0">@</span>PropValue<span class="sy0">@</span><span class="st0">"to property"</span><span class="sy0">@</span><span class="kw5">string</span><span class="br0">(</span>O.<span class="kw1">Class</span><span class="br0">)</span><span class="sy0">$</span><span class="st0">"."</span><span class="sy0">$</span>PropName,<span class="st0">'RemoveArrayEntry'</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	O.<span class="kw3">SetPropertyText</span><span class="br0">(</span>PropName,PropValue<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	O.<span class="kw3">SaveConfig</span><span class="br0">(</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Returning"</span><span class="sy0">@</span>O.<span class="kw3">GetPropertyText</span><span class="br0">(</span>PropName<span class="br0">)</span>,<span class="st0">'RemoveArrayEntry'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Just a function to handle safe object creation</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">final</span> <span class="kw1">function</span> <span class="kw8">Object</span> GetObjectForEntry<span class="br0">(</span>IniEntry ThisEntry<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw8">Object</span> O;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> class<span class="sy0">&lt;</span>Object<span class="sy0">&gt;</span> O<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Getting"</span><span class="sy0">@</span>ThisEntry.<span class="me0">ClassFrom</span><span class="sy0">@</span>ThisEntry.<span class="me0">PropName</span><span class="sy0">@</span>ThisEntry.<span class="me0">PropValue</span>,<span class="st0">'GetObjectForEntry'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	OClass <span class="sy0">=</span> class<span class="sy0">&lt;</span>Object<span class="sy0">&gt;</span><span class="br0">(</span><span class="kw3">DynamicLoadObject</span><span class="br0">(</span>ThisEntry.<span class="me0">ClassFrom</span>,<span class="kw1">class</span><span class="st0">'Class'</span><span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>OClass <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">Warn</span><span class="br0">(</span><span class="st0">"Could not load class"</span><span class="sy0">@</span>ThisEntry.<span class="me0">ClassFrom</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> <span class="kw5">None</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	O <span class="sy0">=</span> GetObjectOfClass<span class="br0">(</span>OClass<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>O <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">Warn</span><span class="br0">(</span><span class="st0">"Unable to access object for class"</span><span class="sy0">@</span>OClass<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> O;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">final</span> <span class="kw1">function</span> <span class="kw8">Object</span> GetObjectOfClass<span class="br0">(</span>class<span class="sy0">&lt;</span>Object<span class="sy0">&gt;</span> ObjClass<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw8">Object</span> Obj;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw9">Actor</span> A;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Finding"</span><span class="sy0">@</span>ObjClass,<span class="st0">'GetObjectOfClass'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// Check for GameEngine</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>ObjClass <span class="sy0">==</span> <span class="kw1">class</span><span class="st0">'GameEngine'</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> GE;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// First try the easy way</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">foreach</span> <span class="kw3">AllObjects</span><span class="br0">(</span>ObjClass,Obj<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> Obj;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="co1">// Object may not be loaded right now, so attempt to load it</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// If actor, spawn it</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="kw3">ClassIsChildOf</span><span class="br0">(</span>ObjClass,<span class="kw1">class</span><span class="st0">'Actor'</span><span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		A <span class="sy0">=</span> <span class="kw4">Spawn</span><span class="br0">(</span>class<span class="sy0">&lt;</span>Actor<span class="sy0">&gt;</span><span class="br0">(</span>ObjClass<span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		A.<span class="kw3">GoToState</span><span class="br0">(</span><span class="st0">''</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">return</span> A;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// if object, new it</span>
</pre></li>
<li class="li2">
<pre class="de2">
	Obj <span class="sy0">=</span> <span class="kw1">new</span><span class="br0">(</span><span class="kw5">None</span><span class="br0">)</span> Obj<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// might be property</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>Obj <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		Obj <span class="sy0">=</span> <span class="kw1">new</span><span class="br0">(</span><span class="kw1">Class</span><span class="br0">)</span> Obj<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// Don't know if this will even work ?</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>Obj <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		Obj <span class="sy0">=</span> <span class="kw1">New</span><span class="br0">(</span>ObjClass.<span class="kw1">default</span>.<span class="me0">Outer</span><span class="br0">)</span> Obj<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Could not create new object"</span><span class="sy0">@</span>ObjClass,<span class="st0">'GetObjectOfClass'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span>ObjClass<span class="sy0">@</span><span class="st0">"outer is"</span><span class="sy0">@</span>ObjClass.<span class="kw1">default</span>.<span class="me0">Outer</span>,<span class="st0">'GetObjectOfClass'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">""</span>,<span class="st0">'GetObjectOfClass'</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> Obj;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">protected</span> <span class="kw1">final</span> <span class="kw1">function</span> Property GetProperty<span class="br0">(</span><span class="kw8">Object</span> O, <span class="kw5">string</span> PropName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw1">Class</span> ClassOuter;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">bool</span> classexact, classchild, propn, seen<span class="re0">$<span class="br0">{</span>1<span class="br0">}</span></span>&lt; <span class="sy0">$</span><span class="br0">{</span>3<span class="br0">}</span> &gt;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span>Properties.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		seenclass <span class="sy0">=</span> <span class="kw1">Class</span><span class="br0">(</span>Properties<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">Outer</span><span class="br0">)</span> <span class="sy0">==</span> ClassOuter;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
		ClassOuter <span class="sy0">=</span> <span class="kw1">Class</span><span class="br0">(</span>Properties<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">Outer</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span>DEBUGPROPS<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">if</span> <span class="br0">(</span>ClassOuter <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
				<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Property Outer is not a class!"</span>,<span class="st0">'GetProperty'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">continue</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>seenclass<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Compare Obj Class"</span><span class="sy0">@</span>O.<span class="kw1">Class</span><span class="sy0">@</span><span class="st0">"to"</span><span class="sy0">@</span>Properties<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">Outer</span>,<span class="st0">'GetProperty'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">if</span> <span class="br0">(</span>O.<span class="kw1">Class</span><span class="sy0">==</span>Properties<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">Outer</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
					classexact <span class="sy0">=</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>classchild <span class="sy0">&amp;&amp;</span> <span class="kw3">ClassIsChildOf</span><span class="br0">(</span>O.<span class="kw1">Class</span>,ClassOuter<span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Obj class"</span><span class="sy0">@</span>O.<span class="kw1">Class</span><span class="sy0">@</span><span class="st0">"is child of"</span><span class="sy0">@</span>ClassOuter,<span class="st0">'GetProperty'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				classchild <span class="sy0">=</span> <span class="kw6">true</span>;
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">else</span> <span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>classchild <span class="sy0">&amp;&amp;</span> <span class="kw3">ClassIsChildOf</span><span class="br0">(</span>ClassOuter,O.<span class="kw1">Class</span><span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Obj class"</span><span class="sy0">@</span>O.<span class="kw1">Class</span><span class="sy0">@</span><span class="st0">"is parent of"</span><span class="sy0">@</span>ClassOuter,<span class="st0">'GetProperty'</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
				classchild <span class="sy0">=</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>propn <span class="sy0">&amp;&amp;</span> classexact<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
				<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Compare Name"</span><span class="sy0">@</span>PropName<span class="sy0">@</span><span class="st0">"to"</span><span class="sy0">@</span>Properties<span class="br0">[</span>i<span class="br0">]</span>.<span class="kw5">Name</span>,<span class="st0">'GetProperty'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">if</span> <span class="br0">(</span>PropName <span class="sy0">==</span> <span class="kw5">string</span><span class="br0">(</span>Properties<span class="br0">[</span>i<span class="br0">]</span>.<span class="kw5">Name</span><span class="br0">)</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
					propn <span class="sy0">=</span> <span class="kw6">true</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">if</span> <span class="br0">(</span><span class="br0">(</span><span class="kw3">ClassIsChildOf</span><span class="br0">(</span>O.<span class="kw1">Class</span>,ClassOuter<span class="br0">)</span><span class="sy0">||</span>O.<span class="kw1">Class</span> <span class="sy0">==</span> Properties<span class="br0">[</span>i<span class="br0">]</span>.<span class="me0">Outer</span><span class="sy0">||</span><span class="kw3">ClassIsChildOf</span><span class="br0">(</span>ClassOuter,O.<span class="kw1">Class</span><span class="br0">)</span><span class="br0">)</span> <span class="sy0">&amp;&amp;</span> <span class="kw5">string</span><span class="br0">(</span>Properties<span class="br0">[</span>i<span class="br0">]</span>.<span class="kw5">Name</span><span class="br0">)</span> <span class="sy0">==</span> PropName<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
				<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Returning Property"</span><span class="sy0">@</span>Properties<span class="br0">[</span>i<span class="br0">]</span>,<span class="st0">'GetProperty'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">""</span>,<span class="st0">'GetProperty'</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> Properties<span class="br0">[</span>i<span class="br0">]</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw5">None</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">final</span> <span class="kw1">function</span> <span class="kw5">bool</span> PropIsArray<span class="br0">(</span>Property P<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>DEBUG<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">log</span><span class="br0">(</span><span class="kw1">class</span><span class="sy0">@</span><span class="st0">"Checking Property"</span><span class="sy0">@</span>P.<span class="me0">Outer</span><span class="sy0">$</span><span class="st0">"."</span><span class="sy0">$</span>P.<span class="kw5">Name</span><span class="sy0">$</span><span class="st0">":"</span><span class="sy0">@</span>P.<span class="kw1">Class</span>,<span class="st0">'PropIsArray'</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">return</span> P.<span class="kw1">Class</span> <span class="sy0">==</span> <span class="kw1">class</span><span class="st0">'ArrayProperty'</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">static</span> <span class="kw1">final</span> <span class="kw1">function</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> GenerateArray<span class="br0">(</span><span class="kw5">string</span> ArrayString<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span>	Members;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> S;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>ArrayString <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="co1">// Remove the array wrapper ( )</span>
</pre></li>
<li class="li1">
<pre class="de1">
		ArrayString <span class="sy0">=</span> <span class="kw3">Mid</span><span class="br0">(</span>ArrayString,<span class="nu0">1</span>,<span class="kw3">Len</span><span class="br0">(</span>ArrayString<span class="br0">)</span><span class="sy0">-</span><span class="nu0">2</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="co1">// If string contains internal containers, then have to split differently</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span><span class="kw3">Left</span><span class="br0">(</span>ArrayString,<span class="nu0">1</span><span class="br0">)</span> <span class="sy0">==</span> <span class="st0">"("</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">do</span> <span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">do</span> <span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
					<span class="kw2">if</span> <span class="br0">(</span><span class="kw3">Left</span><span class="br0">(</span>ArrayString,<span class="nu0">1</span><span class="br0">)</span> <span class="sy0">==</span> <span class="st0">")"</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
						i<span class="sy0">--</span>;
</pre></li>
<li class="li1">
<pre class="de1">
					<span class="kw2">else</span> <span class="kw2">if</span> <span class="br0">(</span><span class="kw3">Left</span><span class="br0">(</span>ArrayString,<span class="nu0">1</span><span class="br0">)</span> <span class="sy0">==</span> <span class="st0">"("</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
						i<span class="sy0">++</span>;
</pre></li>
<li class="li1">
<pre class="de1">
					Eat<span class="br0">(</span>S, ArrayString, <span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="br0">}</span> until <span class="br0">(</span>i <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
				Members<span class="br0">[</span>Members.<span class="me0">Length</span><span class="br0">]</span> <span class="sy0">=</span> S;
</pre></li>
<li class="li1">
<pre class="de1">
				S <span class="sy0">=</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
				<span class="kw2">if</span> <span class="br0">(</span>ArrayString <span class="sy0">!=</span> <span class="st0">""</span> <span class="sy0">&amp;&amp;</span> <span class="kw3">Left</span><span class="br0">(</span>ArrayString,<span class="nu0">1</span><span class="br0">)</span> <span class="sy0">==</span> <span class="st0">","</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
					ArrayString <span class="sy0">=</span> <span class="kw3">Mid</span><span class="br0">(</span>ArrayString,<span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
			<span class="br0">}</span> until <span class="br0">(</span>ArrayString <span class="sy0">==</span> <span class="st0">""</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw2">else</span> Split2<span class="br0">(</span>ArrayString,<span class="st0">","</span>,Members<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> Members;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">protected</span> <span class="kw1">static</span> <span class="kw1">final</span> <span class="kw1">function</span> <span class="kw5">bool</span> NotInPlayInfo<span class="br0">(</span><span class="kw8">PlayInfo</span> <span class="kw6">PI</span>, class<span class="sy0">&lt;</span>Info<span class="sy0">&gt;</span> NewInfo<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span><span class="kw6">PI</span> <span class="sy0">==</span> <span class="kw5">None</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		<span class="kw3">Warn</span><span class="br0">(</span><span class="st0">"Invalid PlayInfo Object!"</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">for</span> <span class="br0">(</span>i<span class="sy0">=</span><span class="nu0">0</span>;i<span class="sy0">&lt;</span><span class="kw6">PI</span>.<span class="me0">InfoClasses</span>.<span class="me0">Length</span>;i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
		<span class="kw2">if</span> <span class="br0">(</span><span class="kw6">PI</span>.<span class="me0">InfoClasses</span><span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">==</span> NewInfo<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
			<span class="kw2">return</span> <span class="kw6">false</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> <span class="kw6">true</span>;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//###################################################################</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//###################################################################</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">//</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//	Utility Methods</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//	These are used perform various tedious operations.</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">//</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Moves Num elements from Source to Dest</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="kw1">static</span> <span class="kw1">final</span> <span class="kw1">function</span> Eat<span class="br0">(</span><span class="kw1">out</span> <span class="kw5">string</span> Dest, <span class="kw1">out</span> <span class="kw5">string</span> Source, <span class="kw5">int</span> Num<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	Dest <span class="sy0">=</span> Dest <span class="sy0">$</span> <span class="kw3">Left</span><span class="br0">(</span>Source, Num<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
	Source <span class="sy0">=</span> <span class="kw3">Mid</span><span class="br0">(</span>Source, Num<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">static</span> <span class="kw1">final</span> <span class="kw1">function</span> <span class="kw5">string</span> StringIf<span class="br0">(</span><span class="kw5">bool</span> Condition, <span class="kw5">string</span> IfTrue, <span class="kw5">string</span> IfFalse<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">if</span> <span class="br0">(</span>Condition<span class="br0">)</span> <span class="kw2">return</span> IfTrue;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> IfFalse;
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Based on AccessControlIni &amp; Object.ReplaceText()</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">static</span> <span class="kw1">final</span> <span class="kw1">function</span> <span class="kw5">string</span> ReplaceTag<span class="br0">(</span><span class="kw5">string</span> from, <span class="kw5">string</span> <span class="kw7">tag</span>, <span class="kw1">coerce</span> <span class="kw5">string</span> with<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw1">local</span> <span class="kw5">string</span> t;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="co1">// InStr() is case-sensitive</span>
</pre></li>
<li class="li1">
<pre class="de1">
	i <span class="sy0">=</span> <span class="kw3">InStr</span><span class="br0">(</span><span class="kw3">Caps</span><span class="br0">(</span>from<span class="br0">)</span>, <span class="kw3">Caps</span><span class="br0">(</span><span class="kw7">tag</span><span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="kw2">while</span> <span class="br0">(</span>i <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
		t <span class="sy0">=</span> t <span class="sy0">$</span> <span class="kw3">Left</span><span class="br0">(</span>from,i<span class="br0">)</span> <span class="sy0">$</span> with;
</pre></li>
<li class="li1">
<pre class="de1">
		from <span class="sy0">=</span> <span class="kw3">mid</span><span class="br0">(</span>from,i<span class="sy0">+</span><span class="kw3">len</span><span class="br0">(</span><span class="kw7">tag</span><span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
		i <span class="sy0">=</span> <span class="kw3">InStr</span><span class="br0">(</span><span class="kw3">Caps</span><span class="br0">(</span>from<span class="br0">)</span>, <span class="kw3">Caps</span><span class="br0">(</span><span class="kw7">tag</span><span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
	<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
	t <span class="sy0">=</span> t <span class="sy0">$</span> from;
</pre></li>
<li class="li1">
<pre class="de1">
	<span class="kw2">return</span> t;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Following functions from wUtils103 by El_Muerte[TDS]</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Included by permission (copied to avoid package dependancy)</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// Shifts an element off a string</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// example (delim = ' '): 'this is a string' -&gt; 'is a string'</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// if quotechar = " : '"this is" a string' -&gt; 'a string'</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">static</span> <span class="kw1">final</span> <span class="kw1">function</span> <span class="kw5">string</span> StrShift<span class="br0">(</span><span class="kw1">out</span> <span class="kw5">string</span> line, <span class="kw5">string</span> delim, <span class="kw1">optional</span> <span class="kw5">string</span> quotechar<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="kw1">local</span> <span class="kw5">int</span> delimpos, quotepos;
</pre></li>
<li class="li2">
<pre class="de2">
    <span class="kw1">local</span> <span class="kw5">string</span> result;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="kw2">if</span> <span class="br0">(</span> quotechar <span class="sy0">!=</span> <span class="st0">""</span> <span class="sy0">&amp;&amp;</span> <span class="kw3">Left</span><span class="br0">(</span>line, <span class="kw3">Len</span><span class="br0">(</span>quotechar<span class="br0">)</span><span class="br0">)</span> <span class="sy0">==</span> quotechar <span class="br0">)</span> <span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
        <span class="kw2">do</span> <span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
            quotepos <span class="sy0">=</span> InstrFrom<span class="br0">(</span>line, quotechar, quotepos <span class="sy0">+</span> <span class="nu0">1</span><span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
        <span class="br0">}</span> until <span class="br0">(</span>quotepos <span class="sy0">==</span> <span class="sy0">-</span><span class="nu0">1</span> <span class="sy0">||</span> quotepos <span class="sy0">+</span> <span class="kw3">Len</span><span class="br0">(</span>quotechar<span class="br0">)</span> <span class="sy0">==</span> <span class="kw3">Len</span><span class="br0">(</span>line<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
                <span class="sy0">||</span> <span class="kw3">Mid</span><span class="br0">(</span>line, quotepos <span class="sy0">+</span> <span class="kw3">len</span><span class="br0">(</span>quotechar<span class="br0">)</span>, <span class="kw3">len</span><span class="br0">(</span>delim<span class="br0">)</span><span class="br0">)</span> <span class="sy0">==</span> delim<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="kw2">if</span> <span class="br0">(</span> quotepos <span class="sy0">!=</span> <span class="sy0">-</span><span class="nu0">1</span> <span class="br0">)</span> <span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
        delimpos <span class="sy0">=</span> InstrFrom<span class="br0">(</span>line, delim, quotepos<span class="br0">)</span>;
</pre></li>
<li class="li2">
<pre class="de2">
    <span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="kw2">else</span> <span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
        delimpos <span class="sy0">=</span> <span class="kw3">Instr</span><span class="br0">(</span>line, delim<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
    <span class="kw2">if</span> <span class="br0">(</span>delimpos <span class="sy0">==</span> <span class="sy0">-</span><span class="nu0">1</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
        result <span class="sy0">=</span> line;
</pre></li>
<li class="li1">
<pre class="de1">
        line <span class="sy0">=</span> <span class="st0">""</span>;
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
    <span class="kw2">else</span> <span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
        result <span class="sy0">=</span> <span class="kw3">Left</span><span class="br0">(</span>line,delimpos<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
        line <span class="sy0">=</span> <span class="kw3">Mid</span><span class="br0">(</span>line,delimpos<span class="sy0">+</span><span class="kw3">len</span><span class="br0">(</span>delim<span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="kw2">if</span> <span class="br0">(</span> quotechar <span class="sy0">!=</span> <span class="st0">""</span> <span class="sy0">&amp;&amp;</span> <span class="kw3">Left</span><span class="br0">(</span>result, <span class="kw3">Len</span><span class="br0">(</span>quotechar<span class="br0">)</span><span class="br0">)</span> <span class="sy0">==</span> quotechar <span class="br0">)</span> <span class="br0">{</span>
</pre></li>
<li class="li2">
<pre class="de2">
      result <span class="sy0">=</span> <span class="kw3">Mid</span><span class="br0">(</span>result, <span class="kw3">Len</span><span class="br0">(</span>quotechar<span class="br0">)</span>, <span class="kw3">Len</span><span class="br0">(</span>result<span class="br0">)</span><span class="sy0">-</span><span class="br0">(</span><span class="kw3">Len</span><span class="br0">(</span>quotechar<span class="br0">)</span><span class="sy0">*</span><span class="nu0">2</span><span class="br0">)</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="kw2">return</span> result;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// Join the elements of a string array to an array</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">static</span> <span class="kw1">final</span> <span class="kw1">function</span> <span class="kw5">string</span> Join<span class="br0">(</span>array<span class="sy0">&lt;</span> <span class="kw5">string</span> <span class="sy0">&gt;</span> ar, <span class="kw1">optional</span> <span class="kw5">string</span> delim, <span class="kw1">optional</span> <span class="kw5">bool</span> bIgnoreEmpty<span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
  <span class="kw1">local</span> <span class="kw5">string</span> result;
</pre></li>
<li class="li1">
<pre class="de1">
  <span class="kw1">local</span> <span class="kw5">int</span> i;
</pre></li>
<li class="li2">
<pre class="de2">
  <span class="kw2">for</span> <span class="br0">(</span>i <span class="sy0">=</span> <span class="nu0">0</span>; i <span class="sy0">&lt;</span> ar.<span class="me0">length</span>; i<span class="sy0">++</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
  <span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="kw2">if</span> <span class="br0">(</span>bIgnoreEmpty <span class="sy0">&amp;&amp;</span> ar<span class="br0">[</span>i<span class="br0">]</span> <span class="sy0">==</span> <span class="st0">""</span><span class="br0">)</span> <span class="kw2">continue</span>;
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="kw2">if</span> <span class="br0">(</span>result <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span> result <span class="sy0">=</span> result<span class="sy0">$</span>delim;
</pre></li>
<li class="li1">
<pre class="de1">
    result <span class="sy0">=</span> result<span class="sy0">$</span>ar<span class="br0">[</span>i<span class="br0">]</span>;
</pre></li>
<li class="li2">
<pre class="de2">
  <span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
  <span class="kw2">return</span> result;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li2">
<pre class="de2">
<span class="co1">// Fixed split method</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// no problems when it starts with a delim</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// no problems with ending spaces</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// delim can be a string</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">static</span> <span class="kw1">final</span> <span class="kw1">function</span> <span class="kw5">int</span> Split2<span class="br0">(</span><span class="kw1">coerce</span> <span class="kw5">string</span> src, <span class="kw5">string</span> delim, <span class="kw1">out</span> array<span class="sy0">&lt;</span>string<span class="sy0">&gt;</span> parts, <span class="kw1">optional</span> <span class="kw5">bool</span> ignoreEmpty, <span class="kw1">optional</span> <span class="kw5">string</span> quotechar<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
  <span class="kw1">local</span> <span class="kw5">string</span> temp;
</pre></li>
<li class="li1">
<pre class="de1">
  Parts.<span class="me0">Remove</span><span class="br0">(</span><span class="nu0">0</span>, Parts.<span class="me0">Length</span><span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
  <span class="kw2">if</span> <span class="br0">(</span>delim <span class="sy0">==</span> <span class="st0">""</span> <span class="sy0">||</span> Src <span class="sy0">==</span> <span class="st0">""</span> <span class="br0">)</span> <span class="kw2">return</span> <span class="nu0">0</span>;
</pre></li>
<li class="li1">
<pre class="de1">
  <span class="kw2">while</span> <span class="br0">(</span>src <span class="sy0">!=</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
  <span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
    temp <span class="sy0">=</span> StrShift<span class="br0">(</span>src, delim, quotechar<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="kw2">if</span> <span class="br0">(</span>temp <span class="sy0">==</span> <span class="st0">""</span><span class="br0">)</span>
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
      <span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>ignoreEmpty<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
      <span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
        parts.<span class="me0">length</span> <span class="sy0">=</span> parts.<span class="me0">length</span><span class="sy0">+</span><span class="nu0">1</span>;
</pre></li>
<li class="li1">
<pre class="de1">
        parts<span class="br0">[</span>parts.<span class="me0">length</span><span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy0">=</span> temp;
</pre></li>
<li class="li1">
<pre class="de1">
      <span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
    <span class="kw2">else</span> <span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
      parts.<span class="me0">length</span> <span class="sy0">=</span> parts.<span class="me0">length</span><span class="sy0">+</span><span class="nu0">1</span>;
</pre></li>
<li class="li1">
<pre class="de1">
      parts<span class="br0">[</span>parts.<span class="me0">length</span><span class="sy0">-</span><span class="nu0">1</span><span class="br0">]</span> <span class="sy0">=</span> temp;
</pre></li>
<li class="li1">
<pre class="de1">
    <span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
  <span class="br0">}</span>
</pre></li>
<li class="li2">
<pre class="de2">
  <span class="kw2">return</span> parts.<span class="me0">length</span>;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
<span class="co1">// InStr starting from an offset</span>
</pre></li>
<li class="li1">
<pre class="de1">
<span class="kw1">static</span> <span class="kw1">final</span> <span class="kw1">function</span> <span class="kw5">int</span> InStrFrom<span class="br0">(</span><span class="kw1">coerce</span> <span class="kw5">string</span> StrText, <span class="kw1">coerce</span> <span class="kw5">string</span> StrPart, <span class="kw1">optional</span> <span class="kw5">int</span> OffsetStart<span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
<span class="br0">{</span>
</pre></li>
<li class="li1">
<pre class="de1">
  <span class="kw1">local</span> <span class="kw5">int</span> OffsetPart;
</pre></li>
<li class="li1">
<pre class="de1">
 
</pre></li>
<li class="li1">
<pre class="de1">
  OffsetPart <span class="sy0">=</span> <span class="kw3">InStr</span><span class="br0">(</span><span class="kw3">Mid</span><span class="br0">(</span>StrText, OffsetStart<span class="br0">)</span>, StrPart<span class="br0">)</span>;
</pre></li>
<li class="li1">
<pre class="de1">
  <span class="kw2">if</span> <span class="br0">(</span>OffsetPart <span class="sy0">&gt;=</span> <span class="nu0">0</span><span class="br0">)</span>
</pre></li>
<li class="li2">
<pre class="de2">
    OffsetPart <span class="sy0">+=</span> OffsetStart;
</pre></li>
<li class="li1">
<pre class="de1">
  <span class="kw2">return</span> OffsetPart;
</pre></li>
<li class="li1">
<pre class="de1">
<span class="br0">}</span>
</pre></li>
</ol>
</div>
</div>
<hr />
<p><b>Wormbo:</b> Hmm, a little documentation instead of the source code wouldn't hurt. E.g. how can you use this to enable/disable a server actor?</p>
<p><b>El Muerte TDS:</b> like this: <a rel="nofollow" class="external text" href="http://el-muerte.student.utwente.nl/cgi-bin/cvsweb/UT2003/ChatFilterLoader/Classes/ChatFilterLoader.uc?rev=1.7&amp;content-type=text/x-cvsweb-markup">ChatFilter AutoLoader</a>, maybe write a [/example] based on it... first lunch</p>

<!-- 
NewPP limit report
CPU time usage: 0.277 seconds
Real time usage: 0.278 seconds
Preprocessor visited node count: 16/1000000
Preprocessor generated node count: 101/1000000
Postexpand include size: 370/2097152 bytes
Template argument size: 113/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    4.072      1 - -total
100.00%    4.072      1 - Template:Classbox
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:409-0!*!0!*!*!*!* and timestamp 20161215155602 and revision id 1357
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Legacy:AutoLoader?oldid=1357">https://wiki.beyondunreal.com/Legacy:AutoLoader?oldid=1357</a>"</div>
					<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.beyondunreal.com/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="Category_Legacy_Custom_Class_(UT2003).html" title="Category:Legacy Custom Class (UT2003)">Legacy Custom Class (UT2003)</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-legacy" class="selected"><a href="Legacy_AutoLoader.html">Legacy</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Legacy_talk:AutoLoader?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Legacy:AutoLoader" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Legacy:AutoLoader" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-anonuserpage"><a href="User_188.162.37.html" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">188.162.37.3</a></li>
													<li id="pt-anontalk"><a href="User_talk_188.162.37.html" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AAutoLoader&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AAutoLoader" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Legacy:AutoLoader" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Legacy:AutoLoader" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Legacy:AutoLoader?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Legacy:AutoLoader?oldid=1357" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Legacy:AutoLoader" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 12:06, 18 November 2007.</li>
									<li id="copyright">Licensed as <a href="Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":84});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Legacy:AutoLoader by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 09:42:37 GMT -->
</html>
