<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Legacy:Sweavo/MutASTurretsInONS by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 11:54:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Legacy:Sweavo/MutASTurretsInONS - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Sweavo/MutASTurretsInONS" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Sweavo/MutASTurretsInONS" />
<link rel="shortcut icon" href="../w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="../w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="../w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="MutASTurretsInONS.html" />
<link rel="copyright" href="../Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="../w/load2743.css?debug=false&amp;lang=en&amp;modules=ext.geshi.language.uscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="../w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="../w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Legacy","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Legacy:Sweavo/MutASTurretsInONS","wgTitle":"Sweavo/MutASTurretsInONS","wgCurRevisionId":7870,"wgRevisionId":7870,"wgArticleId":2977,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:Sweavo/MutASTurretsInONS","wgRelevantArticleId":2977,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-100 ns-subject page-Legacy_Sweavo_MutASTurretsInONS skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>Gah - a solution with more questions. &#8211;Â EntropicLqd
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:Sweavo/MutASTurretsInONS</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"><span class="subpages">&lt; <a href="../Legacy_Sweavo.html" title="Legacy:Sweavo">Legacy:Sweavo</a></span></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>This is a project to make Ion Cannon, Link Turret and Minigun Turret behave more like Onslaught turrets in an Onslaught game, in a mutator. The reason it's done as a mutator is so that a server admin can just chuck it on the server without having to edit all the maps it applies to. Maybe this is a mistake, if you were interested in this functionality, post something here and I'll adapt the scheme.</p>
<hr />
<p>While fiddling with this, I was playing with setting the team property at runtime. The link turrets on ONS-MassDestruction start shooting at the enemy as soon as you set their team. I'm having trouble figuring out when the turret's controller gets created and the turret gets possessed. Creating a virgin onslaught map and placing an ASVehicleFactory_LinkTurret in it, I get the following:</p>
<ul>
<li>By default the turret automatically fires at anyone on the map</li>
<li>Setting AIVisibility to 0 stopped the firing but it still scans the surroundings.</li>
</ul>
<p>While playing with THAT, I realise how pitifully few entrypoints a link turret has. SO here's the current thought:</p>
<p>A subclass of ASLinkTurret called ONSLinkTurret, which will simply be an ASLinkTurret with more entry points <b>DONE</b></p>
<p>A subclass of ONSVehicleFactory called ONSASTurretFactory, which should be designed to handle ASLinkTurret (therefore also ONSLinkTurret) and potentially the Ion Cannon too. <i>At present, I have ONSLinkTurretFactory that is specific to linkturrets</i></p>
<ul>
<li>make a factory that creates link turrets with correct ONS team, teamlocked, and with no automatic controller. <b>DONE</b></li>
</ul>
<h4><span class="mw-headline" id="Summary_at_2005.2F06.2F22:">Summary at 2005/06/22:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Sweavo/MutASTurretsInONS?section=1" title="Edit section: Summary at 2005/06/22:">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>I have <b>ONSLinkTurret</b> which is a rip of ASTurret_LinkTurret (as opposed to a subclass) and subclasses ASTurret. Maybe if I'd subclasses something from ONS it would have given me more stuff for free... who can tell... [<b>Sweavo</b> I can ... i tried it and it was rubbish! ] ONSLinkTurret has a few default properties added to the source for ASTurret_LinkTurret:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
     bTeamLocked<span class="sy0">=</span><span class="kw6">True</span>
     bEnterringUnlocks<span class="sy0">=</span><span class="kw6">True</span>
     EntryRadius<span class="sy0">=</span><span class="nu0">200.00</span>
     AutoTurretControllerClass<span class="sy0">=</span><span class="kw1">Class</span><span class="st0">'MutScratchMutator.PassiveTurretController'</span>
</pre></div>
</div>
<p>... the first two are for more conventional ONS team play dynamics than MassDestruction currently has, and the next makes the turret much easier to get in and out of. The last prevents the turret from scanning side to side when no-one is in it, and more importantly, prevents it automatically shooting at the opposing team when spawned.</p>
<p><b>PassiveTurretController</b> is a turret controller that simply enters state "psv" in which it takes no action.</p>
<p>I also have <b>ONSLinkTurretFactory</b>, extending SVehicleFactory</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">defaultproperties</span>
<span class="br0">{</span>
     RedBuildEffectClass<span class="sy0">=</span><span class="kw1">Class</span><span class="st0">'Onslaught.ONSPRVBuildEffectRed'</span>
     BlueBuildEffectClass<span class="sy0">=</span><span class="kw1">Class</span><span class="st0">'Onslaught.ONSPRVBuildEffectBlue'</span>
     VehicleClass<span class="sy0">=</span><span class="kw1">Class</span><span class="st0">'MutScratchMutator.ONSLinkTurret'</span>
     bStatic<span class="sy0">=</span><span class="kw6">false</span>;
     bNoDelete<span class="sy0">=</span><span class="kw6">false</span>;
<span class="br0">}</span>
</pre></div>
</div>
<p>The last two are so that the class can be spawned by a mutator. I couldn't get the Mesh property to work. I wanted it to be StaticMesh=StaticMesh'AS_Weapons_SM.Turret.LinkTurret_STATIC' but it didn't seem to want to play ball.</p>
<p>Finally, the mutator, <b>MutASTurretsInONS</b></p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> CheckReplacement<span class="br0">(</span> <span class="kw9">Actor</span> Other, <span class="kw1">out</span> <span class="kw5">byte</span> bSuperRelevant <span class="br0">)</span>
<span class="br0">{</span>
 
	<span class="kw2">if</span> <span class="br0">(</span> ASVehicleFactory_LinkTurret<span class="br0">(</span>Other<span class="br0">)</span> <span class="sy0">!=</span> <span class="kw5">None</span> <span class="br0">)</span>
	<span class="br0">{</span>
		<span class="kw3">Log</span><span class="br0">(</span><span class="st0">"Replaced a link turret"</span><span class="br0">)</span>;
		<span class="co1">// Can't seem to actually destroy the ASVehiclefactory so we just let it lie dormant</span>
		ASVehicleFactory_LinkTurret<span class="br0">(</span>Other<span class="br0">)</span>.<span class="me0">VehicleClassStr</span><span class="sy0">=</span><span class="st0">"None"</span>;
		<span class="co1">// Our custom vehiclefactory has bDeleteMe and bStatic set to false, just so that it</span>
		<span class="co1">// can be spawned in this way.</span>
		ReplaceWith<span class="br0">(</span> Other, <span class="st0">"MutScratchMutator.ONSLinkTurretFactory"</span><span class="br0">)</span>;
		<span class="kw2">return</span> <span class="kw6">false</span>;
	<span class="br0">}</span>
	<span class="kw2">else</span>
		<span class="kw2">return</span> <span class="kw6">true</span>;
 
<span class="br0">}</span>
</pre></div>
</div>
<p>This has to use this rather unusual way of replacing the pawn because replacee is bNoDelete and/or bStatic.</p>
<h3><span class="mw-headline" id="Update_at_2005.2F11.2F14">Update at 2005/11/14</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Sweavo/MutASTurretsInONS?section=2" title="Edit section: Update at 2005/11/14">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>At this stage, the secondary fire on the link turret seemed to be coming from the map origin rather than the turret. This gave an error about instigator being none.</p>
<p>The beam-at-origin problem was only in first-person view (thanks Ghost3021!) and it turned out that the beameffect for the linkturret casts the turret to an ASLinkTurret in order to get the beam origin. My turret was not a subclass but a replacement for ASLinkTurret so it was returning NONE when attempting to cast to ASLinkTurret. I've solved this by creating weaponattachment, firemode, and beameffect to go with the replacement turret. This baby seems to be all go!</p>
<h3><span class="mw-headline" id="TODO:">TODO:</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Sweavo/MutASTurretsInONS?section=3" title="Edit section: TODO:">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul>
<li>Get hijacked announcement to trigger when ONSLinkTurret stolen</li>
</ul>
<ul>
<li>Get turrets to disappear or unlock when powernode nearby is destroyed.</li>
</ul>
<ul>
<li>BETTER: look at how ONS turrets are powered / unpowered, and look at using that approach instead.</li>
</ul>
<ul>
<li>Extend to miniguns</li>
</ul>

<!-- 
NewPP limit report
CPU time usage: 0.040 seconds
Real time usage: 0.041 seconds
Preprocessor visited node count: 38/1000000
Preprocessor generated node count: 76/1000000
Postâexpand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:2977-0!*!*!!*!*!* and timestamp 20161215204159 and revision id 7870
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Legacy:Sweavo/MutASTurretsInONS?oldid=7870">https://wiki.beyondunreal.com/Legacy:Sweavo/MutASTurretsInONS?oldid=7870</a>"</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-legacy" class="selected"><a href="MutASTurretsInONS.html">Legacy</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Legacy_talk:Sweavo/MutASTurretsInONS?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Legacy:Sweavo/MutASTurretsInONS" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Legacy:Sweavo/MutASTurretsInONS" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3ASweavo%2FMutASTurretsInONS&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3ASweavo%2FMutASTurretsInONS" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="../index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="../index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="../Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Legacy:Sweavo/MutASTurretsInONS" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Legacy:Sweavo/MutASTurretsInONS" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Legacy:Sweavo/MutASTurretsInONS?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Legacy:Sweavo/MutASTurretsInONS?oldid=7870" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Legacy:Sweavo/MutASTurretsInONS" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 13:50, 17 January 2006.</li>
									<li id="copyright">Licensed as <a href="../Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="../Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="../Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="../Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":74});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Legacy:Sweavo/MutASTurretsInONS by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 11:54:01 GMT -->
</html>
