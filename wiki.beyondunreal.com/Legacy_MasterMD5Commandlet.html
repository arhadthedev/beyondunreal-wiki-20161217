<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Legacy:MasterMD5Commandlet by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 09:18:04 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Legacy:MasterMD5Commandlet - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:MasterMD5Commandlet" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:MasterMD5Commandlet" />
<link rel="shortcut icon" href="w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Legacy_MasterMD5Commandlet.html" />
<link rel="copyright" href="Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="w/load6852.css?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Legacy","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Legacy:MasterMD5Commandlet","wgTitle":"MasterMD5Commandlet","wgCurRevisionId":4985,"wgRevisionId":4985,"wgArticleId":2045,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:MasterMD5Commandlet","wgRelevantArticleId":2045,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-100 ns-subject page-Legacy_MasterMD5Commandlet skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>Cogito, ergo sum
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:MasterMD5Commandlet</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="infobox infobox-class infobox-legacy"><a href="Legacy_Object.html" title="Legacy:Object">Object</a> &gt;&gt; <a href="Legacy_Commandlet.html" title="Legacy:Commandlet">Commandlet</a> &gt;&gt; MasterMD5Commandlet</div>
<p>This package, new to versions of the Unreal Engine post-<a href="Legacy_UT2003.html" title="Legacy:UT2003" class="mw-redirect">UT2003</a> provides package-level security. This commandlet creates an .md5 checksum of passed files, and updates the database file of the md5 checksums - found in /System/Packages.md5.</p>
<p>This can be used, for example, by a game server to verify clients' package checksums - if there is a mismatch, the client is rejected, removed from the server, and shown a "Corrupt Connection" message.</p>
<p><br /></p>
<h4><span class="mw-headline" id="Comment_from_Epic">Comment from Epic</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:MasterMD5Commandlet?section=1" title="Edit section: Comment from Epic">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Here is a post to the UT2003 Mod Developers list by Joe W @ Epic...</p>
<hr />
<p>"I do know about the external bot that's floating around. It's a typical opengl hack that uses modified skins to detect when to fire at an opponent. Like all external bots, it's most useful only in low pings situations.</p>
<p>Directly after the patch is finalized, I'll release a mutator that will allows admins to lock down any file in the game with an MD5 check. This can then be used to detect the skin hack needed to make this bot function. Eventually, I'll merge the functionality back in to the main UT2003 code, but not until we decide to break netcode compatibility.</p>
<p>Now with that said, let me try and explain in a little more detail about the MD5 database system. When a client connects to your server, he sets up a communication stream that describes all of the packages loaded on the client. Each package is identified and it's corresponding checksum is sent to the server for verification. The</p>
<p>server then looks up each package in the MD5 database and determines if the package is indeed correct. If not, it drops the player with a Corrupted Connection message.</p>
<p>ONLY packages that contain Uscript structures are verified, so while every package type in UT2003 can contain script code, only those that actually do will be processed. There is no way to hide script code from detection. If it exists in a package, that package will be flagged.</p>
<p>So where does the MD5 database get it's data from? 4 places. First, is the default data shipped with the game or the patch (or when you rebuild the database from scratch). The second is any package loaded on the server will automatically be added to the database. Third, is upon connect to the master server, your server might receive critical updates from us. Finally, you can manually add packages yourself.</p>
<p>So, when should you add a package to your database? If you are adding .U files that require ServerActors or are mutators/new game types, then you probably do not need to manually add the package. UT2003 should auto-detect them (as long as they are loaded). Also, as a general rule, new resource files (.UTX/.UKX/.USX/Etc) shouldn't need to be added.</p>
<p>However, if the package you wish to allow has a .U file (or is known to contain code) and you wish to allow clients to use it, but it's not loaded on your server, feel free to add the file.</p>
<p><b>Starting with the patches, the format to use the MasterMD5 command is as follows</b>:</p>
<p>ucc mastermd5 [-option..] &lt;parms&gt;</p>
<p><i>Options:</i></p>
<dl>
<dt>-c&#160;</dt>
<dd>Rebuild the Packages.MD5 database from scratch. Parms are a list of wildcards to process. Ex: "ucc mastermd5 -c *.u". The -C command will search all sub directories in \UT2003.</dd>
</dl>
<dl>
<dt>-a&#160;</dt>
<dd>Adds a file (or files) to your Packages.MD5 database. Same params as -c above</dd>
</dl>
<dl>
<dt>-s&#160;</dt>
<dd>Shows all entries in the current database.</dd>
</dl>
<dl>
<dt>-f&#160;</dt>
<dd>Performs a full MD5 hash of the single file passed in Parms.</dd>
</dl>
<dl>
<dt>-w&#160;</dt>
<dd>Dumps the GUIDs and MD5 hashes of the single file (or multiple files) passed in Parms.</dd>
</dl>
<p>Some of you write-protected your Packages.md5. Please do not do this anymore. You will need those updates. I hope this helps shed some light on everything. If not, drop me a line.</p>
<p>J.</p>
<p>Joe Wilcox</p>
<p>Programmer, Epic Games</p>
<h3><span class="mw-headline" id="Discussion">Discussion</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:MasterMD5Commandlet?section=2" title="Edit section: Discussion">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>DJPaul:</b> Thanks to [[Legacy:FurrySound{Moo}|FurrySound{Moo}]] for this.</p>
<p><b>Foxpaw:</b> Is there a way to disable the checksum.. check? I can't remember why I wanted to do this since it's late and I'm on my way to bed, but I wanted to be able to have different packages on different clients, and I'm sure I'll remember why when I get up tomorrow. Obviously, of course, they would have to be "compatible," IE replicating the same information and not simulating anything that might differ, but is there a way to disable the MD5 check from the server to make this possible? I understand that you can have server-only script, but I'd like the capability to have client-only script as well.</p>
<p><b>El Muerte TDS:</b> no you can't disable MD5 checking. However it is possible do have diffirent client and server versions of a package, as long as the MD5 record is present on the server there won't be a problem.</p>
<p><b>Foxpaw:</b> Won't it reject the client if the MD5 checksums do not match? Since the packages would be different they would clearly have a different MD5 checksum.</p>
<p><b>El Muerte TDS:</b> only if the packages.md5 archive doesn't have the right GUID/MD5 combo for that client package</p>
<p><b>Foxpaw:</b> I'm still confused.. The server and client have their own MD5 checksums stored and they only verify against themselves? Or does the server store MD5 checksums for both themselves and the clients?</p>
<p><b>Mychaeel:</b> The server calculates them and caches them in Packages.md5. The client calculates them on the fly when queried by a server and sends them back to the server for verification.</p>
<p><b>Foxpaw:</b> I'm a bit unclear still on how this works, is the following correct?</p>
<ul>
<li>Client connects to Server</li>
<li>Client performs MD5 checksum on all packages containing script</li>
<li>Client sends checksum data along with package names to server</li>
<li>Server compares MD5 checksum to stored checksum to verify if the package is allowed</li>
</ul>
<p>So this is for client-side only packages then? Or did I misunderstand the above? And there's no way to disable it if you want to, say, have clients be able to make their own UScript packages that will interact with the server packages in some way, only packages that have been on the server and had their checksum added to the database can be used on the client?</p>
<p><b>El Muerte TDS:</b> you can't disable it</p>
<p><b>Foxpaw:</b> So is the rest of my understanding about it accurate?</p>

<!-- 
NewPP limit report
CPU time usage: 0.016 seconds
Real time usage: 0.017 seconds
Preprocessor visited node count: 17/1000000
Preprocessor generated node count: 65/1000000
Postâ€expand include size: 284/2097152 bytes
Template argument size: 83/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    2.407      1 - -total
100.00%    2.407      1 - Template:Classbox
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:2045-0!*!0!!*!*!* and timestamp 20161215145004 and revision id 4985
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Legacy:MasterMD5Commandlet?oldid=4985">https://wiki.beyondunreal.com/Legacy:MasterMD5Commandlet?oldid=4985</a>"</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-legacy" class="selected"><a href="Legacy_MasterMD5Commandlet.html">Legacy</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Legacy_talk:MasterMD5Commandlet?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Legacy:MasterMD5Commandlet" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Legacy:MasterMD5Commandlet" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AMasterMD5Commandlet&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AMasterMD5Commandlet" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Legacy:MasterMD5Commandlet" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Legacy:MasterMD5Commandlet" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Legacy:MasterMD5Commandlet?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Legacy:MasterMD5Commandlet?oldid=4985" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Legacy:MasterMD5Commandlet" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 06:17, 9 October 2004.</li>
									<li id="copyright">Licensed as <a href="Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":158});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Legacy:MasterMD5Commandlet by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 09:18:04 GMT -->
</html>
