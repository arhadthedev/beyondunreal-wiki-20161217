<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Legacy:Animation_Replication by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:56:31 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Legacy:Animation Replication - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Animation_Replication" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Animation_Replication" />
<link rel="shortcut icon" href="w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Legacy_Animation_Replication.html" />
<link rel="copyright" href="Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="w/load2743.css?debug=false&amp;lang=en&amp;modules=ext.geshi.language.uscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Legacy","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Legacy:Animation_Replication","wgTitle":"Animation Replication","wgCurRevisionId":1479,"wgRevisionId":1479,"wgArticleId":446,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Legacy Tutorial","Legacy To Do"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:Animation_Replication","wgRelevantArticleId":446,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-100 ns-subject page-Legacy_Animation_Replication skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>Mostly Harmless
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:Animation Replication</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>This page is about animations in <a href="Legacy_UT2003.html" title="Legacy:UT2003" class="mw-redirect">UT2003</a>.</p>
<p>After running into many problems with animations online, and after discovering many more have these problems, I decided to write this little how to/tut so new people can figure it out a bit more easy. I hope&#160;;)</p>
<p></p>
<div id="toc" class="toc">
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Basic_Animation_info"><span class="tocnumber">1</span> <span class="toctext">Basic Animation info</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Where_it_fails"><span class="tocnumber">1.1</span> <span class="toctext">Where it fails</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Need_more_control.3F"><span class="tocnumber">1.2</span> <span class="toctext">Need more control?</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#Where_the_engine_starts_to_interupt"><span class="tocnumber">2</span> <span class="toctext">Where the engine starts to interupt</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#The_End"><span class="tocnumber">3</span> <span class="toctext">The End</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Related_Topics"><span class="tocnumber">4</span> <span class="toctext">Related Topics</span></a></li>
</ul>
</div>
<p></p>
<h2><span class="mw-headline" id="Basic_Animation_info">Basic Animation info</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Animation_Replication?section=1" title="Edit section: Basic Animation info">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>There are many ways to play animations, I guess most used are PlayAnim and LoopAnim. Animations are blended over different channels etc.</p>
<p>I am sure someone with great animation skills will someday make a animation tut.</p>
<h3><span class="mw-headline" id="Where_it_fails">Where it fails</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Animation_Replication?section=2" title="Edit section: Where it fails">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>It's important to know that the PlayAnim and related functions don't get replicated. This is where the real trouble starts. So you have yourself a good animation offline, now how do you make it work online?</p>
<p>The simple solution is well documented and goes like this:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="co1">//In your Pawn class</span>
<span class="kw1">simulated</span> <span class="kw1">event</span> SetAnimAction<span class="br0">(</span><span class="kw5">name</span> NewAction<span class="br0">)</span>
<span class="br0">{</span>
    <span class="co1">//This is the default animation replication method</span>
    <span class="kw2">if</span> <span class="br0">(</span>animaction <span class="sy0">!=</span> NewAction<span class="br0">)</span> <span class="br0">{</span>
       <span class="co1">//This means that the animation played by the server is not the same as by the client</span>
 
       <span class="co1">//Do some checks here to see what animation should be played, and play it</span>
    <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>Now in this function you will be doing basicly the stuff done by the server also, for example:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="co1">//Somewhere in your code you do:</span>
    <span class="kw4">PlayAnim</span><span class="br0">(</span><span class="st0">'myanim'</span>,,,<span class="nu0">0</span><span class="br0">)</span>;
    FreezeAnimAt<span class="br0">(</span><span class="nu0">0</span>,<span class="nu0">0</span><span class="br0">)</span>;
</pre></div>
</div>
<p>So the myanim animation you need to be replicated. Now alter the SetAnimAction function to do this:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="co1">//In your Pawn class</span>
<span class="kw1">simulated</span> <span class="kw1">event</span> SetAnimAction<span class="br0">(</span><span class="kw5">name</span> NewAction<span class="br0">)</span>
<span class="br0">{</span>
    <span class="co1">//This is the default animation replication method</span>
    <span class="kw2">if</span> <span class="br0">(</span>animaction <span class="sy0">!=</span> NewAction<span class="br0">)</span> <span class="br0">{</span>
       <span class="co1">//This means that the animation played by the server is not the same as by the client</span>
       <span class="kw2">if</span> <span class="br0">(</span>animaction <span class="sy0">==</span> <span class="st0">'myanim'</span><span class="br0">)</span> <span class="br0">{</span>
          <span class="kw4">PlayAnim</span><span class="br0">(</span>animaction,,,<span class="nu0">0</span><span class="br0">)</span>;
          FreezeAnimAt<span class="br0">(</span><span class="nu0">0</span>,<span class="nu0">0</span><span class="br0">)</span>;
    <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>Well all nice and perfect so far, but it wont work online just yet.</p>
<p>First you need to set the animaction variable to make it replicate and let the client see that it needs to update. You do this by setting the AnimAction property of your pawn to the animation you told the server to play:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="co1">//Somewhere in your code you do:</span>
    P.<span class="kw4">PlayAnim</span><span class="br0">(</span><span class="st0">'myanim'</span>,,,<span class="nu0">0</span><span class="br0">)</span>;
    P.<span class="me0">FreezeAnimAt</span><span class="br0">(</span><span class="nu0">0</span>,<span class="nu0">0</span><span class="br0">)</span>;
    P.<span class="me0">SetAnimAction</span><span class="br0">(</span><span class="st0">'myanim'</span><span class="br0">)</span>;
</pre></div>
</div>
<h3><span class="mw-headline" id="Need_more_control.3F">Need more control?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Animation_Replication?section=3" title="Edit section: Need more control?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Well I did, some of my animations needed calculated properties to run smoothly with their environment. This is the hard part IMO. I decided to use boolean and integers that got replicated, then the pawn's Tick function would check the boolean and set the animation so it would use the proper calculated properties etc.</p>
<p>I am sure this part so far is clear, this isn't the hard part of online animations.&#160;;)</p>
<h2><span class="mw-headline" id="Where_the_engine_starts_to_interupt">Where the engine starts to interupt</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Animation_Replication?section=4" title="Edit section: Where the engine starts to interupt">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Now when I tested my animation replication online I was shocked to see the pawn revert to default player animations at random moments. I spend then many hours trying to find the source of these animations. It turned out that a part of UT2003's engine does animation control already. These where overruling my animations all the time. A good way to solve this is by setting the Physics to PHYS_None, this stops the engine from updating your pawn.</p>
<p>Another part that overrules the animations is the AnimEnd function. You can simply subclass it and make it check for certain conditions where you don't want the animations to be overruled.</p>
<h2><span class="mw-headline" id="The_End">The End</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Animation_Replication?section=5" title="Edit section: The End">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>So I hope this helps people to get their animations working online, its just a start. I might add more over time. Specially since I don't have it all working myself.&#160;;)</p>
<p>Feel free to alter, fix and complete.</p>
<h2><span class="mw-headline" id="Related_Topics">Related Topics</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Animation_Replication?section=6" title="Edit section: Related Topics">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li><a href="Legacy_Replication.html" title="Legacy:Replication">Replication</a></li>
<li><a href="Legacy_Actor.html" title="Legacy:Actor">Actor</a> class (declares the animation functions)</li>
</ul>
<hr />
<p><a href="Category_Legacy_Tutorial.html" title="Category:Legacy Tutorial">Category:Legacy Tutorial</a><br />
<a href="Category_Legacy_To_Do.html" title="Category:Legacy To Do">Category:Legacy To Do</a> – This needs merged into the grand topic of <a href="Legacy_Replication.html" title="Legacy:Replication">Replication</a>. See <a href="Legacy_Replication/Discussing.html" title="Legacy:Replication/Discussing">Replication/Discussing</a></p>

<!-- 
NewPP limit report
CPU time usage: 0.055 seconds
Real time usage: 0.056 seconds
Preprocessor visited node count: 62/1000000
Preprocessor generated node count: 126/1000000
Post‐expand include size: 42/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:446-0!*!0!!en!*!* and timestamp 20161215142814 and revision id 1479
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Legacy:Animation_Replication?oldid=1479">https://wiki.beyondunreal.com/Legacy:Animation_Replication?oldid=1479</a>"</div>
					<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.beyondunreal.com/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="Category_Legacy_Tutorial.html" title="Category:Legacy Tutorial">Legacy Tutorial</a></li><li><a href="Category_Legacy_To_Do.html" title="Category:Legacy To Do">Legacy To Do</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-legacy" class="selected"><a href="Legacy_Animation_Replication.html">Legacy</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Legacy_talk:Animation_Replication?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Legacy:Animation_Replication" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Legacy:Animation_Replication" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AAnimation+Replication&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AAnimation+Replication" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Legacy:Animation_Replication" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Legacy:Animation_Replication" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Legacy:Animation_Replication?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Legacy:Animation_Replication?oldid=1479" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Legacy:Animation_Replication" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 12:59, 26 November 2006.</li>
									<li id="copyright">Licensed as <a href="Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":93});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Legacy:Animation_Replication by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:56:31 GMT -->
</html>
