<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Legacy:UnrealScript_Language_Test/Discussion by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 10:54:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Legacy:UnrealScript Language Test/Discussion - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:UnrealScript_Language_Test/Discussion" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:UnrealScript_Language_Test/Discussion" />
<link rel="shortcut icon" href="../w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="../w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="../w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Discussion.html" />
<link rel="copyright" href="../Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="../w/load2743.css?debug=false&amp;lang=en&amp;modules=ext.geshi.language.uscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="../w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="../w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Legacy","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Legacy:UnrealScript_Language_Test/Discussion","wgTitle":"UnrealScript Language Test/Discussion","wgCurRevisionId":9045,"wgRevisionId":9045,"wgArticleId":3535,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:UnrealScript_Language_Test/Discussion","wgRelevantArticleId":3535,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-100 ns-subject page-Legacy_UnrealScript_Language_Test_Discussion skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>My program doesn't have bugs. It just develops random features.
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:UnrealScript Language Test/Discussion</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"><span class="subpages">&lt; <a href="../Legacy_UnrealScript_Language_Test.html" title="Legacy:UnrealScript Language Test">Legacy:UnrealScript Language Test</a></span></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><blockquote class="legacyquote">
<p>Archived discussions about certain test cases</p>
</blockquote>
<h2><span class="mw-headline" id="error006_whileuntil">error006_whileuntil</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:UnrealScript_Language_Test/Discussion?section=1" title="Edit section: error006 whileuntil">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>Evolution:</b> (can't remember if this is exactly how this one works, but it's something like this): while ( <i>expr</i> ) { ... } until ( <i>expr</i> ); compiles and works fine, though it's quite unexpected!</p>
<p><b>Wormbo:</b> Not only "while()...until();" compiles (and evaluates both conditions at their corresponding places), but also "do { ... }", which basically is an unconditional infinite loop.</p>
<p><b>El Muerte:</b> <tt>while (...) ... until(...);</tt> is clearly an error, it shouldn't compile and it doesn't even run properly, I think (see error006_whileuntil). <tt>while (...) do ... until (...);</tt> is the correct form. <tt>do ...</tt> should also be an error. Come to think of it, shouldn't <tt>do</tt> require braces? How do other curlybrace languages define this? <tt>while</tt> could easily accept an block or single line, but <tt>do</tt> should know where the statements end. For example, what <i>should</i> the following code do?</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
    i<span class="sy0">=</span><span class="nu0">0</span>;
    <span class="kw2">do</span>
        <span class="kw2">do</span>
            <span class="kw3">log</span><span class="br0">(</span><span class="st0">"x"</span><span class="sy0">@</span>i<span class="sy0">++</span><span class="br0">)</span>;
        until<span class="br0">(</span>i <span class="sy0">&lt;</span> <span class="nu0">5</span><span class="br0">)</span>;
 
    <span class="kw2">do</span>
        <span class="kw3">log</span><span class="br0">(</span><span class="st0">"y"</span><span class="sy0">@</span>i<span class="sy0">++</span><span class="br0">)</span>;
    until<span class="br0">(</span>i <span class="sy0">&lt;</span> <span class="nu0">10</span><span class="br0">)</span>;
</pre></div>
</div>
<p>Ofcourse it should keep printing "x number". But I think this goes against the principles of the curlybrance languages (this is not perl). And another idea, shouldn't an null condition evaluate to false instead of true?</p>
<p><b>Wormbo:</b> The compiler actually seems to handle block start and end individually.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
startwhile: <span class="kw2">if</span> <span class="br0">(</span>whilecondition<span class="br0">)</span> <span class="br0">{</span>                    <span class="co1">// while (whilecondition) {</span>
  <span class="co1">// code block                                      //   ...</span>
  goto<span class="br0">(</span><span class="st0">'startwhile'</span><span class="br0">)</span>;                                <span class="co1">// }</span>
<span class="br0">}</span>
 
startdountil:                                        <span class="co1">// do {</span>
<span class="co1">// code block                                        //   ...</span>
<span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>untilcondition<span class="br0">)</span> goto<span class="br0">(</span><span class="st0">'startdountil'</span><span class="br0">)</span>;           <span class="co1">// } until (untilcondition);</span>
 
 
startwhileuntil: <span class="kw2">if</span> <span class="br0">(</span>whilecondition<span class="br0">)</span> <span class="br0">{</span>               <span class="co1">// while (whilecondition) {</span>
  <span class="co1">// code block                                      //   ...</span>
  <span class="kw2">if</span> <span class="br0">(</span><span class="sy0">!</span>untilcondition<span class="br0">)</span> goto<span class="br0">(</span><span class="st0">'startwhileuntil'</span><span class="br0">)</span>;      <span class="co1">// } until (untilcondition);</span>
<span class="br0">}</span>
 
startdo:                                             <span class="co1">// do {</span>
<span class="co1">// code block                                        //   ...</span>
goto<span class="br0">(</span><span class="st0">'startdo'</span><span class="br0">)</span>;                                     <span class="co1">// }</span>
</pre></div>
</div>
<p>In that context it also becomes obvious, why the do loop doesn't require braces – while doesn't require them either and the compiler doesn't seem to make a big difference there.</p>
<h2><span class="mw-headline" id="error009_invalidsuper_and_error010_superstates">error009_invalidsuper and error010_superstates</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:UnrealScript_Language_Test/Discussion?section=2" title="Edit section: error009 invalidsuper and error010 superstates">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>Wormbo:</b> It is possible to specify classes in the Super(ClassName).FunctionCall() construction that are not a super class. On the other hand it's not possible to specify super <i>states</i>.</p>
<p><b>SuperApe:</b> Wormbo (or anyone), can you give an example of that?</p>
<p><b>El Muerte:</b> super states?</p>
<p><b>SuperApe:</b> I guess I wasn't clear what Wormbo was referring to. I was wondering which of "<tt>Super(ClassName).FunctionCall()</tt>" is code and which is explanation. An example of it's use was what I was after.</p>
<p><b>OlympusMons:</b> Now Im not as good as you guys, but would "<tt>Super(ClassName).FunctionCall()</tt>" return the super of the current class or the super of the class in the brackets. "<tt>Class(Super.ClassName).FunctionCall()</tt>" wouldnt that be correct, because its usually "<tt>class(class).function();</tt>" and for a super state wouldnt it be "<tt>Super.goto("StateTag")</tt>" anyways just ignore me if I dont have a clue. unless its "<tt>Super.Class(ClassName).FunctionCall()</tt>" but that kinda leaves it open for a "<tt>Super.Class(Super.ClassName).FunctionCall()</tt>" Ok now Im just being silly.</p>
<p><b>Jimboh:</b></p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Class</span> A <span class="kw1">extends</span> <span class="kw8">Object</span>;
<span class="kw1">function</span> dothis<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>
<span class="co1">// does something cool</span>
<span class="br0">}</span>
</pre></div>
</div>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Class</span> B <span class="kw1">extends</span> A;
<br /><span class="kw1">function</span> dothis<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>
<span class="co1">// does something uncool</span>

<span class="br0">}</span>
</pre></div>
</div>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">Class</span> C <span class="kw1">extends</span> B;
<span class="kw1">function</span> dothis<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>
<span class="co1">// you don't wanna be uncool, so you wanna do something cool...</span>
<span class="kw6">Super</span><span class="br0">(</span>A<span class="br0">)</span>.<span class="me0">dothis</span><span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<p>Thats how you use Super().</p>
<p><b>OlympusMons:</b> Oh a super,super. I thought you were calling the super class not the super of the super. Still shouldnt this "<tt>Class(Super.ClassName).FunctionCall()</tt>" work?? Damn spawning and firemodes got me confused now!!</p>
<p><b>Wormbo:</b> What I mean with "super states" is:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">class</span> SomeClass <span class="kw1">extends</span> <span class="kw9">Actor</span>;
 
<span class="co1">// Super() compiler bug:</span>
<span class="kw1">function</span> A<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
  <span class="co1">// super call to sibling class function that doesn't exist in this or the super class</span>
  <span class="kw6">Super</span><span class="br0">(</span>DestroyableTrigger<span class="br0">)</span>.<span class="me0">SpawnEffects</span><span class="br0">(</span><span class="br0">)</span>; <span class="co1">// compiles and even executes! (spawns some visual effects)</span>
<span class="br0">}</span>
 
<span class="co1">// Super states:</span>
 
<span class="co1">// new function, does not exist in Actor</span>
<span class="kw1">function</span> X<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw3">log</span><span class="br0">(</span><span class="st0">"SomeClass global X"</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="co1">// new state, does not exist in Actor</span>
<span class="kw1">state</span> BaseState
<span class="br0">{</span>
  <span class="kw1">function</span> X<span class="br0">(</span><span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw3">log</span><span class="br0">(</span><span class="st0">"SomeClass BaseState X"</span><span class="br0">)</span>;
    <span class="co1">// Super.X() -&gt; "Error, Unknown Function 'X' in 'Class Engine.Actor'"</span>
    Global.<span class="me0">X</span><span class="br0">(</span><span class="br0">)</span>; <span class="co1">// logs the same</span>
  <span class="br0">}</span>
<span class="br0">}</span>
 
<span class="kw1">state</span> ExtendedState <span class="kw1">extends</span> BaseState
<span class="br0">{</span>
  <span class="kw1">function</span> X<span class="br0">(</span><span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw3">log</span><span class="br0">(</span><span class="st0">"SomeClass ExtendedState X"</span><span class="br0">)</span>;
    <span class="kw6">Super</span>.<span class="me0">X</span><span class="br0">(</span><span class="br0">)</span>;  <span class="co1">// "SomeClass BaseState X"</span>
    Global.<span class="me0">X</span><span class="br0">(</span><span class="br0">)</span>; <span class="co1">// "SomeClass global X"</span>
  <span class="br0">}</span>
<span class="br0">}</span>
 
<span class="kw1">state</span> AnotherExtendedState <span class="kw1">extends</span> ExtendedState
<span class="br0">{</span>
  <span class="kw1">function</span> X<span class="br0">(</span><span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw3">log</span><span class="br0">(</span><span class="st0">"SomeClass AnotherExtendedState X"</span><span class="br0">)</span>;
    <span class="kw6">Super</span>.<span class="me0">X</span><span class="br0">(</span><span class="br0">)</span>;  <span class="co1">// "SomeClass ExtendedState X"</span>
    <span class="co1">// it's not possible to call "SomeClass BaseState X" directly through a Super(Something).X() construction:</span>
    <span class="co1">// Super(BaseState).X() -&gt; "Error, Bad class name 'BaseState'"</span>
    <span class="co1">// Super(SomeClass.BaseState).X() -&gt; "Error, Missing ')' in 'super(classname)'"</span>
    Global.<span class="me0">X</span><span class="br0">(</span><span class="br0">)</span>; <span class="co1">// "SomeClass global X"</span>
  <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>If the object is in state AnotherExtendedState, it will log the following when X is called:</p>
<pre>
SomeClass AnotherExtendedState X
SomeClass ExtendedState X
SomeClass BaseState X
SomeClass global X
SomeClass global X
SomeClass global X
</pre>
<p>The calling structure looks like this:</p>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;">AnotherExtendedState.X()<br /></div>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;"><img src="../w/extensions/TreeTag/16/leaf.png" alt="\-&nbsp;" />ExtendedState.X()<br /></div>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;"><img src="../w/extensions/TreeTag/16/empty.png" alt="&nbsp;&nbsp;&nbsp;" /><img src="../w/extensions/TreeTag/16/leaf.png" alt="\-&nbsp;" />BaseState.X()<br /></div>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;"><img src="../w/extensions/TreeTag/16/empty.png" alt="&nbsp;&nbsp;&nbsp;" /><img src="../w/extensions/TreeTag/16/empty.png" alt="&nbsp;&nbsp;&nbsp;" /><img src="../w/extensions/TreeTag/16/leaf.png" alt="\-&nbsp;" />global X()<br /></div>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;"><img src="../w/extensions/TreeTag/16/empty.png" alt="&nbsp;&nbsp;&nbsp;" /><img src="../w/extensions/TreeTag/16/leaf.png" alt="\-&nbsp;" />global X()<br /></div>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;"><img src="../w/extensions/TreeTag/16/leaf.png" alt="\-&nbsp;" />global X()<br /></div>
<p><b>OlympusMons:</b> Ahh yes thats very, very clever wormbo&#160;:D How did you ever come up with that concept, might be handy for some AI or something.</p>
<p><b>Wormbo:</b> PlayerController already uses the concept of extending states within the sme class with BaseSpectating being the base state for Spectating, AttractMode and WaitingForPawn. The Bot class makes extensive use of <a href="../Legacy_Extending_States.html" title="Legacy:Extending States">extending states</a> as well:</p>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;">MoveToGoal<br /></div>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;"><img src="../w/extensions/TreeTag/16/leaf.png" alt="\-&nbsp;" />MoveToGoalWithEnemy<br /></div>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;"><img src="../w/extensions/TreeTag/16/empty.png" alt="&nbsp;&nbsp;&nbsp;" /><img src="../w/extensions/TreeTag/16/leaf.png" alt="\-&nbsp;" />Fallback<br /></div>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;"><img src="../w/extensions/TreeTag/16/empty.png" alt="&nbsp;&nbsp;&nbsp;" /><img src="../w/extensions/TreeTag/16/empty.png" alt="&nbsp;&nbsp;&nbsp;" /><img src="../w/extensions/TreeTag/16/leaf.png" alt="\-&nbsp;" />Retreating<br /></div>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;"><img src="../w/extensions/TreeTag/16/empty.png" alt="&nbsp;&nbsp;&nbsp;" /><img src="../w/extensions/TreeTag/16/leaf.png" alt="\-&nbsp;" />Charging<br /></div>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;"><img src="../w/extensions/TreeTag/16/empty.png" alt="&nbsp;&nbsp;&nbsp;" /><img src="../w/extensions/TreeTag/16/leaf.png" alt="\-&nbsp;" />VehicleCharging<br /></div>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;"><img src="../w/extensions/TreeTag/16/empty.png" alt="&nbsp;&nbsp;&nbsp;" /><img src="../w/extensions/TreeTag/16/leaf.png" alt="\-&nbsp;" />Hunting<br /></div>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;"><img src="../w/extensions/TreeTag/16/leaf.png" alt="\-&nbsp;" />MoveToGoalNoEnemy<br /></div>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;"><img src="../w/extensions/TreeTag/16/empty.png" alt="&nbsp;&nbsp;&nbsp;" /><img src="../w/extensions/TreeTag/16/leaf.png" alt="\-&nbsp;" />Roaming<br /></div>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;">NoGoal<br /></div>
<div style="font-family: monospace; white-space: preserve; line-height: 1em;"><img src="../w/extensions/TreeTag/16/leaf.png" alt="\-&nbsp;" />RestFormation<br /></div>
<p><b>El Muerte:</b> then what does the following do (and what should it, logically, do)?:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">class</span> B <span class="kw1">extends</span> A;
 
<span class="kw1">function</span> X<span class="br0">(</span><span class="br0">)</span> <span class="co1">// override A.X</span>
<span class="br0">{</span>
  <span class="kw3">log</span><span class="br0">(</span><span class="st0">"B.X"</span><span class="br0">)</span>;
  <span class="kw6">super</span>.<span class="me0">X</span><span class="br0">(</span><span class="br0">)</span>; <span class="co1">// calls A.X</span>
<span class="br0">}</span>
 
<span class="kw1">state</span> <span class="kw7">Base</span>
<span class="br0">{</span>
  <span class="kw1">function</span> X<span class="br0">(</span><span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw3">log</span><span class="br0">(</span><span class="st0">"Base.X"</span><span class="br0">)</span>;
    global.<span class="me0">X</span><span class="br0">(</span><span class="br0">)</span>; <span class="co1">// calls B.X</span>
  <span class="br0">}</span>
<span class="br0">}</span>
 
<span class="kw1">state</span> ExtendedState1 <span class="kw1">extends</span> <span class="kw7">Base</span>
<span class="br0">{</span>
  <span class="kw1">function</span> X<span class="br0">(</span><span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw3">log</span><span class="br0">(</span><span class="st0">"ExtendedState1.X"</span><span class="br0">)</span>;
    <span class="kw6">super</span>.<span class="me0">X</span><span class="br0">(</span><span class="br0">)</span>; <span class="co1">// calls B{Base}.X</span>
  <span class="br0">}</span>
<span class="br0">}</span>
 
<span class="kw1">state</span> ExtendedState2 <span class="kw1">extends</span> <span class="kw7">Base</span>
<span class="br0">{</span>
  <span class="kw1">function</span> X<span class="br0">(</span><span class="br0">)</span>
  <span class="br0">{</span>
    <span class="kw3">log</span><span class="br0">(</span><span class="st0">"ExtendedState2.X"</span><span class="br0">)</span>;
    <span class="kw6">super</span><span class="br0">(</span>A<span class="br0">)</span>.<span class="me0">X</span><span class="br0">(</span><span class="br0">)</span>; <span class="co1">// &lt;-- does this call A.X(); ??</span>
  <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>I'm not behind a a computer with UE right now, so I can't test it myself</p>
<p><b>Switch`:</b> 3369 does this</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">class</span> sbA <span class="kw1">extends</span> <span class="kw9">Actor</span>;
 
<span class="kw1">function</span> X<span class="br0">(</span><span class="br0">)</span> <span class="co1">// A.X</span>
<span class="br0">{</span>
  xlog<span class="br0">(</span><span class="st0">"A.X"</span><span class="br0">)</span>;
<span class="br0">}</span>
 
<span class="kw1">simulated</span> <span class="kw1">final</span> <span class="kw1">function</span> xLog <span class="br0">(</span> <span class="kw1">coerce</span> <span class="kw5">string</span> s <span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw3">Log</span><span class="br0">(</span><span class="st0">"["</span> <span class="sy0">$</span>GetStateName<span class="br0">(</span><span class="br0">)</span><span class="sy0">$</span> <span class="st0">"]"</span> <span class="sy0">@</span>S, <span class="kw5">name</span><span class="br0">)</span>;
<span class="br0">}</span>
</pre></div>
</div>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">class</span> sbB <span class="kw1">extends</span> sbA;
 
<span class="kw1">function</span> <span class="kw4">PostBeginPlay</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    X<span class="br0">(</span><span class="br0">)</span>;
    <span class="kw3">gotostate</span><span class="br0">(</span><span class="st0">'BaseState'</span><span class="br0">)</span>;
    X<span class="br0">(</span><span class="br0">)</span>;
    <span class="kw3">gotostate</span><span class="br0">(</span><span class="st0">'ExtendedState1'</span><span class="br0">)</span>;
    X<span class="br0">(</span><span class="br0">)</span>;
    <span class="kw3">gotostate</span><span class="br0">(</span><span class="st0">'ExtendedState2'</span><span class="br0">)</span>;
    X<span class="br0">(</span><span class="br0">)</span>;
<span class="br0">}</span>
<span class="br0">(</span>...<span class="br0">)</span>
</pre></div>
</div>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
ScriptLog: Fabricate sandbox.<span class="me0">sbb</span>
sbB0: <span class="br0">[</span>sbB<span class="br0">]</span> B.<span class="me0">X</span>
sbB0: <span class="br0">[</span>sbB<span class="br0">]</span> A.<span class="me0">X</span>
sbB0: <span class="br0">[</span>BaseState<span class="br0">]</span> BaseState.<span class="me0">X</span>
sbB0: <span class="br0">[</span>BaseState<span class="br0">]</span> B.<span class="me0">X</span>
sbB0: <span class="br0">[</span>BaseState<span class="br0">]</span> A.<span class="me0">X</span>
sbB0: <span class="br0">[</span>ExtendedState1<span class="br0">]</span> ExtendedState1.<span class="me0">X</span>
sbB0: <span class="br0">[</span>ExtendedState1<span class="br0">]</span> BaseState.<span class="me0">X</span>
sbB0: <span class="br0">[</span>ExtendedState1<span class="br0">]</span> B.<span class="me0">X</span>
sbB0: <span class="br0">[</span>ExtendedState1<span class="br0">]</span> A.<span class="me0">X</span>
sbB0: <span class="br0">[</span>ExtendedState2<span class="br0">]</span> ExtendedState2.<span class="me0">X</span>
sbB0: <span class="br0">[</span>ExtendedState2<span class="br0">]</span> A.<span class="me0">X</span>
</pre></div>
</div>
<p><b>SuperApe:</b> I appreciate the explanations and examples. This is very informative, seeing the abilities and limits. Thank you.</p>
<p><b>El Muerte:</b> well, I think the result is wrong to the analogy of a normal super call in a state. So, this would be two new error cases (the super(nonParent) and the super(X) in a state. ).</p>
<p><b>Switch`:</b> What should it call? B.X()?</p>
<p><b>El Muerte:</b> It depends. The meaning of super has to be clearly defined in states. Either super calls the parent class or parent state. In the former super(A) should be possible and in the latter super(A) should be invalid. Maybe there needs to be a special super for states, but at this point it can't be fixed for UE2 (too much relies on the "broken" functionality).</p>
<h2><span class="mw-headline" id="error011_delegatevisibility">error011_delegatevisibility</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:UnrealScript_Language_Test/Discussion?section=3" title="Edit section: error011 delegatevisibility">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>Switch`:</b> Delegates ignore private and protected keywords.</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">class</span> sbA <span class="kw1">extends</span> <span class="kw9">Actor</span>;
 
<span class="kw1">delegate</span> callpriv<span class="br0">(</span><span class="br0">)</span>;
<span class="kw1">delegate</span> callprot<span class="br0">(</span><span class="br0">)</span>;
 
<span class="kw1">function</span> <span class="kw4">PostBeginPlay</span><span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">local</span> sbB B;
 
    B <span class="sy0">=</span> <span class="kw4">Spawn</span><span class="br0">(</span><span class="kw1">class</span><span class="st0">'sbB'</span><span class="br0">)</span>;
 
    <span class="co1">//B.priv(); // "Error, Can't access private function 'priv' in 'sbB'"</span>
    <span class="co1">//B.prot(); // "Error, Can't access protected function 'prot' in 'sbB'"</span>
 
    callpriv <span class="sy0">=</span> B.<span class="me0">priv</span>;
    callprot <span class="sy0">=</span> B.<span class="me0">prot</span>;
    callpriv<span class="br0">(</span><span class="br0">)</span>; <span class="co1">// "Private called"</span>
    callprot<span class="br0">(</span><span class="br0">)</span>; <span class="co1">// "Protected called"</span>
<span class="br0">}</span>
</pre></div>
</div>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">class</span> sbB <span class="kw1">extends</span> <span class="kw9">Actor</span>;
 
<span class="kw1">private</span> <span class="kw1">function</span> priv<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> <span class="kw3">Log</span><span class="br0">(</span><span class="st0">"Private called"</span>,<span class="kw5">name</span><span class="br0">)</span>; <span class="br0">}</span>
<span class="kw1">protected</span> <span class="kw1">function</span> prot<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span> <span class="kw3">Log</span><span class="br0">(</span><span class="st0">"Protected called"</span>,<span class="kw5">name</span><span class="br0">)</span>; <span class="br0">}</span>
</pre></div>
</div>
<p><b>El Muerte:</b> Well, it's partially correct. You should be able to assign private\protected functions to a delegate, but only from a class that that has access to them to begin with. This is a nice "security" exploit. Will add it as 'bug' as soon as I have the time.</p>
<p><b>Xian:</b> I was wondering, why does <b>this</b> drain the performance:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> switchUsage<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
   <span class="kw2">switch</span> <span class="br0">(</span><span class="nu0">1234</span><span class="br0">)</span>
    <span class="br0">{</span>
        <span class="kw2">case</span> <span class="nu0">0</span>:
            dummy1<span class="br0">(</span><span class="br0">)</span>;
            <span class="kw2">break</span>;
        <span class="kw1">default</span>:
            dummy3<span class="br0">(</span><span class="br0">)</span>;
            <span class="kw2">break</span>; <span class="co1">// useless and hurts performance</span>
    <span class="br0">}</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>I'd say perhaps that it is one more line to parse, but surely this can't be the reason (can it?)...</p>
<p><b>Wormbo:</b> The UnrealScript compiler in UnrealEngine 1 and 2 does no optimization whatsoever. So, let's see the more bytecode-like version of your example:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> switchUsage<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
  <span class="kw2">switch</span> <span class="br0">(</span><span class="nu0">1234</span><span class="br0">)</span> <span class="br0">{</span>
    <span class="kw2">case</span> <span class="nu0">0</span>:
      dummy1<span class="br0">(</span><span class="br0">)</span>;
      goto <span class="st0">'EndOfSwitchBlock'</span>;
    <span class="kw1">default</span>:
      dummy3<span class="br0">(</span><span class="br0">)</span>;
      goto <span class="st0">'EndOfSwitchBlock'</span>;
  <span class="br0">}</span>
  EndOfSwitchBlock:
<span class="br0">}</span>
</pre></div>
</div>
<p>Every <i>break</i> is translated into an unconditional goto statement with the labels actually being translated to code offsets. Putting a <i>break</i> at the end of a <i>switch</i> block is a waste of processing time, because it's like an empty statement that takes time to process. Control flow would fall through to the first statement after the switch block anyway.</p>
<p>This may not have much effect if used rarely, but it's a thing to consider if you want to squeeze the last bit of performance out of your code.</p>
<p><b>Xian:</b> Thanks for the prompt reply Wormbo (as always&#160;:) ). I noticed the break-&gt;goto conversion while viewing code in UTPT, so now that I think of it, you're right and I was pretty close to the "extra" stop being more work. But, considering that I heard (and should be true me thinks) that a large nametable uses more resources... is there any difference between</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> Stuff <span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">local</span> <span class="kw9">Actor</span> A;
 
    A <span class="sy0">=</span> SomeActor;
    A.<span class="kw4">PostBeginPlay</span><span class="br0">(</span><span class="br0">)</span>; <span class="co1">// run some "whatever" code</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>and</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> Stuff <span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">local</span> <span class="kw9">Actor</span> A;
 
    A <span class="sy0">=</span> SomeActor;
    A.<span class="kw4">PostBeginPlay</span><span class="br0">(</span><span class="br0">)</span>; <span class="co1">// run some "whatever" code</span>
    A <span class="sy0">=</span> <span class="kw5">None</span>;
<span class="br0">}</span>
</pre></div>
</div>
<p>I have still to move to UE2 so I do miss the bench functions of UE2 (I think I'll switch to UE3 directly), but somebody told me that resetting a local var to None (or maybe even global) after I am done with it might improve performance... and yeah, you did notice I am an optimization hunter, so I am trying to get my "hands" on as many optimiz-es as I can&#160;:)</p>
<p>Also, in regard to the 'import' command. All tests failed on UE1. It only supports "import package X" and "import enum from &lt;packagename&gt;", however I didn't notice what import package does... the error (on a missing import type) says "missing enum, struct or package", although it doesn't actually support struct importing... as for imported enums, it works even with enums that doesn't exist and I am not quite sure what it does; As for package importing, it works with any name *sigh*... Might be some unimplemented stuff left over since even on a successful syntax it says that the error is an import in the package, not the struct... well they have lots of experimental, such as Class GUIDs, import, within, Locales and so on... UE1 currently supports only 'within Object'. (still curious why they keep distributing the Core Package with all that unsupported stuff in it )</p>
<p><b>Wormbo:</b> The difference is, that the second one is slower. It's actually slower that the additional break, because it's an assignment and those are awefully slow in UnrealScript. IMHO resetting locals to None is pointless in UnrealScript as the execution environment (including the locals) of the function is discarded anyway after the function returned.</p>
<p>"Import" must be some kind of left-over. That functionality is done automatically by the compiler. I guess it was intended to be something like Java's import statements, but it's entirely redundant in UnrealScript. To use another package, simply make sure it's loaded (EditPackages or #exec obj load); to use an enum or struct from a different class, simply qualify it with the class name, like "Actor.EDrawType".</p>
<p>"Within" has become an essential feature in UE2. For example, the classes PlayerInput, CheatManager (single-player "cheat" commands) and AdminBase (base class for admin console commands) are all declared as "Within PlayerController". XWebQueryHandler (the base class of web admin handlers) is declared "within UTServerAdmin", the WebApplication class for the webadmin interface. I'm pretty sure this will be further extended in UE3 with stuff like renderable actor components.</p>

<!-- 
NewPP limit report
CPU time usage: 0.216 seconds
Real time usage: 0.218 seconds
Preprocessor visited node count: 128/1000000
Preprocessor generated node count: 389/1000000
Post‐expand include size: 192/2097152 bytes
Template argument size: 48/2097152 bytes
Highest expansion depth: 3/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    2.814      1 - -total
100.00%    2.814      1 - Template:Innerbox
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:3535-0!*!0!!*!*!* and timestamp 20161215190456 and revision id 9045
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Legacy:UnrealScript_Language_Test/Discussion?oldid=9045">https://wiki.beyondunreal.com/Legacy:UnrealScript_Language_Test/Discussion?oldid=9045</a>"</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-legacy" class="selected"><a href="Discussion.html">Legacy</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Legacy_talk:UnrealScript_Language_Test/Discussion?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Legacy:UnrealScript_Language_Test/Discussion" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Legacy:UnrealScript_Language_Test/Discussion" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AUnrealScript+Language+Test%2FDiscussion&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AUnrealScript+Language+Test%2FDiscussion" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="../index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="../index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="../Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Legacy:UnrealScript_Language_Test/Discussion" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Legacy:UnrealScript_Language_Test/Discussion" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Legacy:UnrealScript_Language_Test/Discussion?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Legacy:UnrealScript_Language_Test/Discussion?oldid=9045" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Legacy:UnrealScript_Language_Test/Discussion" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 07:39, 31 August 2007.</li>
									<li id="copyright">Licensed as <a href="../Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="../Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="../Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="../Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":83});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Legacy:UnrealScript_Language_Test/Discussion by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 10:54:54 GMT -->
</html>
