<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">

<!-- Mirrored from wiki.beyondunreal.com/Legacy:Making_A_Class-Based_Mod by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:56:30 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<title>Legacy:Making A Class-Based Mod - Unreal Wiki</title>
<meta name="generator" content="MediaWiki 1.25.1" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Making_A_Class-Based_Mod" />
<link rel="edit" title="Edit" href="https://wiki.beyondunreal.com/edit/Legacy:Making_A_Class-Based_Mod" />
<link rel="shortcut icon" href="w/uewiki-favicon.png" />
<link rel="search" type="application/opensearchdescription+xml" href="w/opensearch_desc.php" title="Unreal Wiki" />
<link rel="EditURI" type="application/rsd+xml" href="w/api251f.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="Legacy_Making_A_Class-Based_Mod.html" />
<link rel="copyright" href="Unreal_Wiki_Copyrights.html" />
<link rel="alternate" type="application/atom+xml" title="Unreal Wiki Atom feed" href="https://wiki.beyondunreal.com/Special:RecentChanges?feed=atom" />
<link rel="stylesheet" href="w/load2743.css?debug=false&amp;lang=en&amp;modules=ext.geshi.language.uscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="w/load484a.css?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: wiki:resourceloader:filter:minify-css:7:29b70323345a439ab9ed7007e0c178a6 */</style>
<script src="w/load9316.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"Legacy","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":100,"wgPageName":"Legacy:Making_A_Class-Based_Mod","wgTitle":"Making A Class-Based Mod","wgCurRevisionId":4569,"wgRevisionId":4569,"wgArticleId":1861,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Legacy To Do"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Legacy:Making_A_Class-Based_Mod","wgRelevantArticleId":1861,"wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});});
/* cache key: wiki:resourceloader:filter:minify-js:7:a5c52c063dc436c1ca7c9f456936a5e9 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-100 ns-subject page-Legacy_Making_A_Class-Based_Mod skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p>Always snap to grid
</p></div></div>
				<div class="mw-indicators">
</div>
				<h1 id="firstHeading" class="firstHeading" lang="en">Legacy:Making A Class-Based Mod</h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From Unreal Wiki, The Unreal Engine Documentation Site</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><h2><span class="mw-headline" id="Dissecting_Riftwar:_an_early_UT2003_example">Dissecting Riftwar: an early UT2003 example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="https://wiki.beyondunreal.com/edit/Legacy:Making_A_Class-Based_Mod?section=1" title="Edit section: Dissecting Riftwar: an early UT2003 example">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>Before you go any farther:</b> I would recommend looking <a href="Legacy_RegularEngine/Player_Classes.html" title="Legacy:RegularEngine/Player Classes">RegularEngine/Player_Classes</a> instead. The RegularEngine is based on UT2004 code, so if you're still on UT2003, I cant' be sure it will work - but it's far more efficient, reliable and readable than what's on this page. <i>... RegX</i></p>
<p>A class in <a href="Legacy_Mod_Ideas/Riftwar.html" title="Legacy:Mod Ideas/Riftwar">Riftwar</a> is ultimately defined by a SpeciesType class. It holds what the class looks like, what it's base attributes are, and it's default weapon/powerup. This is somewhat based on the Species mute left in by Epic (and revived by Brizz). Riftwar creates custom Species classes which hold all the unique aspects that will make a player class a player class. So let's take a look at one of these classes, with some added comments:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">class</span> SBSpecies_AlienB <span class="kw1">extends</span> SBSpecies;
 
<span class="kw1">function</span> getDescription<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span><span class="br0">}</span>  <span class="co1">// deprecated</span>
 
<span class="kw1">defaultproperties</span><span class="br0">{</span>   <span class="co1">// all of the properties for Pawn.Setup - this is what the player class will look like.</span>
FemaleMeshName <span class="sy0">=</span> <span class="st0">"HumanFemaleA.EgyptFemaleA"</span>;
FemaleBodySkinName <span class="sy0">=</span> <span class="st0">"PlayerSkins.EgyptFemaleABodyA"</span>;
FemaleFaceSkinName <span class="sy0">=</span> <span class="st0">"PlayerSkins.EgyptFemaleAHeadA"</span>;
 
MaleMeshName <span class="sy0">=</span> <span class="st0">"HumanMaleA.EgyptMaleA"</span>;
 
...
<span class="me0">FemaleSkeleton</span> <span class="sy0">=</span> <span class="st0">"HumanMaleA.SkeletonMale"</span>;
 
GibGroup<span class="sy0">=</span><span class="st0">"xEffects.xAlienGibGroup"</span>
 
RaceNum<span class="sy0">=</span><span class="nu0">1</span>
<span class="br0">}</span>
 
<span class="kw1">defaultproperties</span> <span class="br0">{</span>
	ReceivedDamageScaling<span class="sy0">=+</span><span class="nu0">1.0</span>  <span class="co1">// Player class stats like speed and damage control</span>
	DamageScaling<span class="sy0">=+</span><span class="nu0">1.2</span>
	...
	<span class="me0">DefaultItem</span><span class="sy0">=</span><span class="st0">"xWeapons.ShockRifle"</span>  <span class="co1">// Default Weapon for this player Class</span>
	PowerUpCombo<span class="sy0">=</span><span class="st0">"xGame.ComboSpeed"</span>
	DefaultHealth<span class="sy0">=</span><span class="nu0">120</span> 
        DefaultAdrenaline<span class="sy0">=</span><span class="nu0">0</span>
        DefaultShieldAmount<span class="sy0">=</span><span class="nu0">0</span>
	<span class="br0">}</span>
</pre></div>
</div>
<p>OK, so that's a "player class". How do you use it? Well, you have to get the <a href="Legacy_Pawn.html" title="Legacy:Pawn">Pawn</a> and <a href="Legacy_Controller.html" title="Legacy:Controller">Controller</a> to set it up, and you have to get it all <a href="Legacy_Replication.html" title="Legacy:Replication">replicated</a> on the network. Here's a tip - Species from the Pawn isn't replicated (it's considered client info), so you'll need to have the Controller tell the Pawn what to do with some replicated vars. Here is the order in which Riftwar takes a normal player who hasn't chosen a class and allows them to choose one:</p>
<ol>
<li>In RestartPlayer, the Controller is checked to determine if the player class has been chosen.</li>
</ol>
<ol>
<li>If it's determined that the player hasn't chosen a class, it stops restarting the player, tells the controller to hide it's pawn and present the user with an interface to choose one.</li>
</ol>
<ol>
<li>The interface selects the player class and assigns variables to the Controller to remember what class to use.</li>
</ol>
<ol>
<li>The Controller destroys it's pawn and goes back to RestartPlayer</li>
</ol>
<ol>
<li>RestartPlayer detects the new variables, assigns the Controller a pawn and sets variables on the pawn to determine what class to use. This is vital because the way pawns are(n't) replicated, they are the real authority online as to their appearance.</li>
</ol>
<ol>
<li>The Pawn's setup uses these variables (in Riftwar, it's two ints) to know what mesh and skin to use and what species to assign.</li>
</ol>
<ol>
<li>The ModifyPlayer function looks at the Species to determine modifications/weapons the player class has.</li>
</ol>
<ol>
<li>RestartPlayer finishes, the player is in the game with it's new player class.</li>
</ol>
<p>Let's look at this with some more detail and point and the pieces of code which comprise it:</p>
<p>The player hits RestartPlayer in the gameinfo when he gets to the level, there it checks to see if he has chosen a class:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> RestartPlayer<span class="br0">(</span> <span class="kw9">Controller</span> aPlayer <span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw1">local</span> <span class="kw9">NavigationPoint</span> startSpot;
    <span class="kw1">local</span> <span class="kw5">int</span> TeamNum;
    <span class="kw1">local</span> class<span class="sy0">&lt;</span>Pawn<span class="sy0">&gt;</span> DefaultPlayer<span class="re0">Class</span>&lt; SEMI &gt;
 
    ...
    <span class="kw2">if</span> <span class="br0">(</span> aPlayer.<span class="kw9">Pawn</span> <span class="sy0">==</span> <span class="kw5">None</span> <span class="br0">)</span>
    <span class="br0">{</span>
        aPlayer.<span class="kw3">GotoState</span><span class="br0">(</span><span class="st0">'Dead'</span><span class="br0">)</span>;
        <span class="kw2">return</span>;
    <span class="br0">}</span>
 
	<span class="kw2">if</span><span class="br0">(</span>SBPlayer<span class="br0">(</span>aPlayer<span class="br0">)</span> <span class="sy0">!=</span> <span class="kw5">none</span> <span class="sy0">&amp;&amp;</span> <span class="sy0">!</span>aPlayer.<span class="me0">PlayerReplicationInfo</span>.<span class="me0">bOutOfLives</span><span class="br0">)</span> <span class="br0">{</span>
 
	<span class="kw2">if</span><span class="br0">(</span>aPlayer.<span class="me0">PlayerReplicationInfo</span>.<span class="me0">Team</span> <span class="sy0">==</span> <span class="kw5">none</span><span class="br0">)</span><span class="br0">{</span>  <span class="co1">// No team means they don't know what player class they are</span>
		SBPlayer<span class="br0">(</span>aPlayer<span class="br0">)</span>.<span class="me0">overview</span><span class="br0">(</span><span class="br0">)</span>;            <span class="co1">// This function tells the Controller to hide the pawn, open the GUI</span>
		<span class="kw2">return</span>;                                  <span class="co1">// stop here - we can't restart the player yet</span>
		<span class="br0">}</span><span class="kw2">else</span><span class="br0">{</span>
		SBPawn<span class="br0">(</span>aPlayer.<span class="kw9">Pawn</span><span class="br0">)</span>.<span class="me0">superSpecies</span> <span class="sy0">=</span> SBPlayer<span class="br0">(</span>aPlayer<span class="br0">)</span>.<span class="me0">superSpecies</span>;  <span class="co1">// we know how to set this pawn, continue</span>
		SBPawn<span class="br0">(</span>aPlayer.<span class="kw9">Pawn</span><span class="br0">)</span>.<span class="me0">subSpecies</span> <span class="sy0">=</span> SBPlayer<span class="br0">(</span>aPlayer<span class="br0">)</span>.<span class="me0">subSpecies</span>;
   		<span class="br0">}</span>
		...
	<span class="br0">}</span>
</pre></div>
</div>
<p>There's some pawn spawning code and bot class choosing code surrounding it, but the meat if the if that says if they don't have a team, do the overview function in the custom controller, which looks like this:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">exec</span> <span class="kw1">function</span> overview<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>
 
  <span class="kw2">if</span><span class="br0">(</span>PlayerReplicationInfo.<span class="me0">Team</span> <span class="sy0">!=</span> <span class="kw5">none</span><span class="br0">)</span> <span class="br0">{</span><span class="kw2">return</span>;<span class="br0">}</span>
     <span class="kw9">Pawn</span>.<span class="kw4">setCollision</span><span class="br0">(</span><span class="kw6">false</span>,<span class="kw6">false</span>,<span class="kw6">false</span><span class="br0">)</span>;  <span class="co1">// we might need the pawn info, so don't destroy it</span>
     <span class="kw9">Pawn</span>.<span class="me0">bHidden</span><span class="sy0">=</span><span class="kw6">True</span>;                     <span class="co1">// but hide it from the game world</span>
     ClientOpenMenu<span class="br0">(</span><span class="st0">"SpeciesBattle.SBTrader"</span><span class="br0">)</span>;  <span class="co1">// open the GUIPage to decide a player class</span>
 
<span class="br0">}</span>
</pre></div>
</div>
<p>So that will open the SBTrader, a GUIPage which is essentially the class chooser. From there, the player selects their class which results in:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> <span class="kw5">bool</span> InternalOnClick<span class="br0">(</span>GUIComponent Sender<span class="br0">)</span>
<span class="br0">{</span>
	<span class="kw1">local</span> <span class="kw9">PlayerController</span> pc;
	<span class="kw1">local</span> SBPlayer spc;
 
	pc <span class="sy0">=</span> PlayerOwner<span class="br0">(</span><span class="br0">)</span>;
        spc <span class="sy0">=</span> SBPlayer<span class="br0">(</span>pc<span class="br0">)</span>;
        <span class="kw2">if</span><span class="br0">(</span>spc<span class="sy0">==</span><span class="kw5">none</span><span class="br0">)</span><span class="br0">{</span><span class="kw2">return</span> <span class="kw6">false</span>;<span class="br0">}</span>
 
	<span class="kw2">if</span><span class="br0">(</span>Sender<span class="sy0">==</span>Controls<span class="br0">[</span><span class="nu0">4</span><span class="br0">]</span><span class="br0">)</span> <span class="co1">// close</span>
	<span class="br0">{</span>
 
		<span class="kw2">if</span><span class="br0">(</span>SpecList.<span class="me0">List</span>.<span class="me0">Get</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">==</span> HumanATitle<span class="br0">)</span> <span class="br0">{</span>  <span class="co1">// User has selected "Human Soldier"</span>
				spc.<span class="me0">setSubSpecies</span><span class="br0">(</span><span class="nu0">1</span><span class="br0">)</span>;     <span class="co1">// Set the correct Team/Player Class to the Controller</span>
				spc.<span class="me0">setSuperSpecies</span><span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span>;
				spc.<span class="me0">SetPlayerTeam</span><span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span>;
				<span class="br0">}</span>
...
</pre></div>
</div>
<p>So selecting the "Human Soldier" in the list has the controller set the following vars - superSpecies and subSpecies, using client replicated functions:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">class</span> SBPlayer <span class="kw1">extends</span> <span class="kw9">xPlayer</span>;
 
<span class="kw1">var</span> <span class="kw5">bool</span> bIsFemale;
<span class="kw1">var</span> <span class="kw5">int</span> superSpecies;
<span class="kw1">var</span> <span class="kw5">int</span> subSpecies;
<span class="kw1">var</span> <span class="kw5">int</span> hCount,aCount,uCount;
 
<span class="kw1">replication</span>
<span class="br0">{</span>
 <span class="co1">// Things the server should send to the client.</span>
 <span class="kw1">reliable</span> <span class="kw2">if</span> <span class="br0">(</span> bNetDirty <span class="sy0">&amp;&amp;</span> <span class="br0">(</span><span class="kw7">Role</span> <span class="sy0">==</span> <span class="kw7">Role_Authority</span><span class="br0">)</span> <span class="br0">)</span>
  getTeamCount,hCount,aCount,uCount,bIsFemale,superSpecies,subSpecies;
 
 <span class="kw1">reliable</span> <span class="kw2">if</span><span class="br0">(</span> Role<span class="sy0">&lt;</span><span class="kw7">ROLE_Authority</span> <span class="br0">)</span>
  gotype,goteam,clearSpecies,SetPlayerTeam,overview,ReturnToWorld,setSubSpecies;
<span class="br0">}</span>
 
...
<span class="kw1">function</span> setSuperSpecies<span class="br0">(</span><span class="kw5">int</span> s<span class="br0">)</span> <span class="br0">{</span>
  superSpecies <span class="sy0">=</span> s;
  <span class="br0">}</span>
 
<span class="kw1">function</span> setSubSpecies<span class="br0">(</span><span class="kw5">int</span> s<span class="br0">)</span> <span class="br0">{</span>
  subSpecies <span class="sy0">=</span> s;
  <span class="br0">}</span>
 
...
</pre></div>
</div>
<p>When you close the SBTrader <a href="Legacy_GUIPage.html" title="Legacy:GUIPage">GUIPage</a> it hits the ReturnToWorld function in the SBPlayer controller. All this does is destroy the current Pawn ( which didn't have the info to setup correctly ) and tell it to try again:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">function</span> ReturnToWorld<span class="br0">(</span><span class="br0">)</span> <span class="br0">{</span>
   <span class="kw9">Pawn</span>.<span class="kw4">Destroy</span><span class="br0">(</span><span class="br0">)</span>;                                <span class="co1">// We'll get a new one</span>
   <span class="kw3">log</span><span class="br0">(</span><span class="st0">"SBPlayer "</span><span class="sy0">$</span>PlayerReplicationInfo.<span class="me0">Team</span><span class="br0">)</span>;   <span class="co1">// This should never be blank at this point</span>
   <span class="kw3">GotoState</span><span class="br0">(</span><span class="st0">'Returning'</span><span class="br0">)</span>;                        <span class="co1">// Head back to RestartPlayer()</span>
<span class="br0">}</span>
</pre></div>
</div>
<p>The team is now set - so when we hit RestartPlayer, the pawn remains and gets a chance to setup it's mesh and skin. We have integers in our sub and superspecies to pick out what mesh and skin the pawn should use:</p>
<div dir="ltr" class="mw-geshi mw-code mw-content-ltr">
<div class="uscript source-uscript">
<pre class="de1">
<span class="kw1">simulated</span> <span class="kw1">function</span> Setup<span class="br0">(</span><span class="kw8">xUtil</span>.<span class="me0">PlayerRecord</span> rec, <span class="kw1">optional</span> <span class="kw5">bool</span> bLoadNow<span class="br0">)</span>
<span class="br0">{</span>
    <span class="kw2">if</span><span class="br0">(</span>PlayerReplicationInfo.<span class="me0">Team</span> <span class="sy0">!=</span> <span class="kw5">none</span><span class="br0">)</span> <span class="br0">{</span>    <span class="co1">// this should be redundant</span>
      <span class="kw2">if</span><span class="br0">(</span>PlayerReplicationInfo.<span class="me0">Team</span>.<span class="me0">TeamName</span> <span class="sy0">==</span> <span class="st0">"Humans"</span><span class="br0">)</span><span class="br0">{</span>SuperSpecies <span class="sy0">=</span> <span class="nu0">0</span>;<span class="br0">}</span>
      <span class="kw2">if</span><span class="br0">(</span>PlayerReplicationInfo.<span class="me0">Team</span>.<span class="me0">TeamName</span> <span class="sy0">==</span> <span class="st0">"Aliens"</span><span class="br0">)</span><span class="br0">{</span>SuperSpecies <span class="sy0">=</span> <span class="nu0">1</span>;<span class="br0">}</span>
      <span class="kw2">if</span><span class="br0">(</span>PlayerReplicationInfo.<span class="me0">Team</span>.<span class="me0">TeamName</span> <span class="sy0">==</span> <span class="st0">"Undead"</span><span class="br0">)</span><span class="br0">{</span>SuperSpecies <span class="sy0">=</span> <span class="nu0">2</span>;<span class="br0">}</span>
      <span class="br0">}</span>
      <span class="co1">//LOG("SBPAWN Super:"$superSpecies$" Sub:"$SubSpecies);</span>
 
      <span class="kw2">if</span><span class="br0">(</span>SuperSpecies <span class="sy0">==</span> <span class="nu0">0</span><span class="br0">)</span><span class="br0">{</span>    <span class="co1">// Is Human</span>
         <span class="kw2">if</span> <span class="br0">(</span> subSpecies <span class="sy0">==</span> <span class="nu0">1</span> <span class="br0">)</span> <span class="br0">{</span>  
	 SBSpecies <span class="sy0">=</span> <span class="kw1">class</span><span class="st0">'SpeciesBattle.SBSpecies_HumanB'</span>;  <span class="co1">//Is Fatboy Class</span>
	 Species <span class="sy0">=</span>  <span class="kw1">class</span><span class="st0">'SpeciesBattle.SBSpecies_HumanB'</span>;
	 <span class="br0">}</span><span class="kw2">else</span> <span class="kw2">if</span> <span class="br0">(</span> subSpecies <span class="sy0">==</span> <span class="nu0">0</span> <span class="br0">)</span><span class="br0">{</span>
	 Species <span class="sy0">=</span> <span class="kw1">class</span><span class="st0">'SpeciesBattle.SBSpecies_HumanA'</span>;    <span class="co1">//Is Soldier Class</span>
	 SBSpecies <span class="sy0">=</span> <span class="kw1">class</span><span class="st0">'SpeciesBattle.SBSpecies_HumanA'</span>;
	 <span class="br0">}</span><span class="kw2">else</span><span class="br0">{</span>
	 Species <span class="sy0">=</span> <span class="kw1">class</span><span class="st0">'SpeciesBattle.SBSpecies_HumanC'</span>;    <span class="co1">//Is Mecher Class</span>
	 SBSpecies <span class="sy0">=</span> <span class="kw1">class</span><span class="st0">'SpeciesBattle.SBSpecies_HumanC'</span>;
         <span class="br0">}</span>
	    <span class="br0">}</span>
 
	  ...
 
	<span class="me0">RagdollOverride</span> <span class="sy0">=</span> rec.<span class="me0">Ragdoll</span>;
 
<span class="kw2">if</span> <span class="br0">(</span> Species.<span class="kw1">static</span>.<span class="me0">Setup</span><span class="br0">(</span><span class="kw6">self</span>,rec<span class="br0">)</span> <span class="br0">)</span><span class="br0">{</span>ResetPhysicsBasedAnim<span class="br0">(</span><span class="br0">)</span>;<span class="br0">}</span>
</pre></div>
</div>
<p>Which in turn hits the Species setup, which I won't paste here as it basically just setups up the mesh and voice and is ugly but fairly straightforward.</p>
<p>From there, the ModifyPlayer function in the SpeciesType and the GameRules that are added from the Gameinfo handle the rest of the customization.</p>
<p>Another method is to simply trick the Pawn's setup to look at a specific PlayerName to setup the mesh and determine the species from a upl file - which is exactly how the game works normally. I'm personally not a big fan of upls for anything but bots, but it's a matter of preference. It would simplify the process some, however.</p>
<p>So ... *whew* . Um. Any questions?</p>
<hr />
<p><b>Mychaeel:</b> Well. I think we have a <a href="Category_Legacy_To_Do.html" title="Category:Legacy To Do">Category:Legacy To Do</a> (formatting, subheaders, maybe some of the phrasing)... &#160;:-)</p>
<p><b>RegularX:</b> I need to add that I just put in a similar framework for Freehold that works on the same principle, but with about 1/4 of the code required for the Controller and the GameInfo classes. I have zero time to update this page correctly now (besides, a wise programmer will learn from my mistakes&#160;;) ) - but basically the species/class is held in a single var on the controller, the gameinfo checks for that to produce the class chooser, and otherwise goes to the super.</p>

<!-- 
NewPP limit report
CPU time usage: 0.126 seconds
Real time usage: 0.128 seconds
Preprocessor visited node count: 24/1000000
Preprocessor generated node count: 156/1000000
Post‐expand include size: 24/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- 
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 - -total
-->

<!-- Saved in parser cache with key wiki:pcache:idhash:1861-0!*!0!*!*!*!* and timestamp 20161215142743 and revision id 4569
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://wiki.beyondunreal.com/Legacy:Making_A_Class-Based_Mod?oldid=4569">https://wiki.beyondunreal.com/Legacy:Making_A_Class-Based_Mod?oldid=4569</a>"</div>
					<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="https://wiki.beyondunreal.com/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="Category_Legacy_To_Do.html" title="Category:Legacy To Do">Legacy To Do</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-legacy" class="selected"><a href="Legacy_Making_A_Class-Based_Mod.html">Legacy</a></li>
				<li id="ca-talk" class="new"><a href="https://wiki.beyondunreal.com/edit/Legacy_talk:Making_A_Class-Based_Mod?redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="https://wiki.beyondunreal.com/edit/Legacy:Making_A_Class-Based_Mod" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="https://wiki.beyondunreal.com/history/Legacy:Making_A_Class-Based_Mod" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-createaccount"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AMaking+A+Class-Based+Mod&amp;type=signup" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li>
													<li id="pt-login"><a href="https://wiki.beyondunreal.com/Special:UserLogin?returnto=Legacy%3AMaking+A+Class-Based+Mod" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="index.html" class="mw-wiki-logo" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage"><a href="index.html" title="Visit the main page [z]" accesskey="z">Main Page</a></li>
											<li id="n-portal"><a href="Unreal_Wiki_Community_portal-2.html" title="About the project, what you can do, where to find things">Community portal</a></li>
											<li id="n-recentchanges"><a href="https://wiki.beyondunreal.com/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="https://wiki.beyondunreal.com/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
											<li id="n-Forums-.28General.29"><a href="https://forums.beyondunreal.com/forums/wiki-general.250/" rel="nofollow">Forums (General)</a></li>
											<li id="n-Forums-.28Technical.29"><a href="https://forums.beyondunreal.com/forums/wiki-technical.251/" rel="nofollow">Forums (Technical)</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="https://wiki.beyondunreal.com/" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search Unreal Wiki [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="https://wiki.beyondunreal.com/Special:WhatLinksHere/Legacy:Making_A_Class-Based_Mod" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="https://wiki.beyondunreal.com/Special:RecentChangesLinked/Legacy:Making_A_Class-Based_Mod" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="https://wiki.beyondunreal.com/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="https://wiki.beyondunreal.com/Legacy:Making_A_Class-Based_Mod?printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="https://wiki.beyondunreal.com/Legacy:Making_A_Class-Based_Mod?oldid=4569" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="https://wiki.beyondunreal.com/info/Legacy:Making_A_Class-Based_Mod" title="More information about this page">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by-nc-sa/3.0/"><img src="../licensebuttons.net/l/by-nc-sa/3.0/88x31.png" alt="Attribution-Noncommercial-Share Alike 3.0" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<script async src="../pagead2.googlesyndication.com/pagead/js/f.txt"></script>
        <!-- Home Page -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:728px;height:90px"
             data-ad-client="ca-pub-9605963037553244"
             data-ad-slot="9528541415"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
							</div>
					<ul id="f-list">
									<li id="lastmod"> Last modified at 20:49, 19 September 2006.</li>
									<li id="copyright">Licensed as <a href="Unreal_Wiki_Copyrights.html" title="Unreal Wiki:Copyrights">Attribution-Noncommercial-Share Alike 3.0</a>.</li>
									<li id="privacy"><a href="Unreal_Wiki_Privacy_policy.html" title="Unreal Wiki:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="Unreal_Wiki_About.html" title="Unreal Wiki:About">About Unreal Wiki</a></li>
									<li id="disclaimer"><a href="Unreal_Wiki_General_disclaimer.html" title="Unreal Wiki:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>if(window.jQuery)jQuery.ready();</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://wiki.beyondunreal.com/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":77});
}</script></body>
<!-- Mirrored from wiki.beyondunreal.com/Legacy:Making_A_Class-Based_Mod by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 16 Dec 2016 07:56:30 GMT -->
</html>
